(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[530],{7375:function(e,t,s){Promise.resolve().then(s.bind(s,8235))},7648:function(e,t,s){"use strict";s.d(t,{default:function(){return o.a}});var n=s(2972),o=s.n(n)},9376:function(e,t,s){"use strict";var n=s(5475);s.o(n,"usePathname")&&s.d(t,{usePathname:function(){return n.usePathname}}),s.o(n,"useRouter")&&s.d(t,{useRouter:function(){return n.useRouter}}),s.o(n,"useSearchParams")&&s.d(t,{useSearchParams:function(){return n.useSearchParams}})},8235:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return F}});var n=s(7437),o=s(2265),r=s(9376);let a={s:{color:"text-white",bgColor:"bg-gray-600",border:"border-gray-700",symbol:"♠"},h:{color:"text-white",bgColor:"bg-red-600",border:"border-red-700",symbol:"♥"},c:{color:"text-white",bgColor:"bg-green-600",border:"border-green-700",symbol:"♣"},d:{color:"text-white",bgColor:"bg-blue-600",border:"border-blue-700",symbol:"♦"}},l={A:"A",K:"K",Q:"Q",J:"J",T:"10",9:"9",8:"8",7:"7",6:"6",5:"5",4:"4",3:"3",2:"2"},i=e=>{let{card:t,size:s="md",highlight:o=!1}=e;(!t||t.length<2||"??"===t)&&(t="As");let r=t[0].toUpperCase(),i=a[t[1].toLowerCase()]||{color:"text-white",bgColor:"bg-gray-500",border:"border-gray-600",symbol:"?"},c=l[r]||r,d={sm:{width:"w-[35px]",height:"h-[46px]",fontSize:"text-2xl",symbolSize:"text-5xl",padding:"p-1"},md:{width:"w-[46px]",height:"h-[64px]",fontSize:"text-3xl",symbolSize:"text-6xl",padding:"p-1.5"},lg:{width:"w-[70px]",height:"h-[96px]",fontSize:"text-5xl",symbolSize:"text-8xl",padding:"p-2"}}[s];return(0,n.jsxs)("div",{className:"\n        ".concat(d.width,"\n        ").concat(d.height,"\n        ").concat(i.bgColor,"\n        rounded-md\n        ").concat(o?"border-yellow-400 border-2":"border ".concat(i.border," border-2"),"\n        ").concat(o?"shadow-[0_0_10px_rgba(250,204,21,0.8)]":"shadow-md","\n        flex\n        items-center\n        justify-center\n        ").concat(d.padding,"\n        m-0\n        relative\n        overflow-hidden\n      "),children:[(0,n.jsx)("div",{className:"absolute inset-0 flex items-center justify-end opacity-20 z-0",children:(0,n.jsx)("span",{className:"".concat(i.color," ").concat(d.symbolSize," transform translate-x-1/2"),children:i.symbol})}),(0,n.jsx)("span",{className:"".concat(i.color," ").concat(d.fontSize," font-bold z-10"),children:c})]})},c=e=>{let{cards:t,size:s="md",highlightedCards:o=[]}=e,r=[...t];return 0===r.length?r=["As","Kd"]:1===r.length&&r.push("Kd"),r=r.slice(0,2),(0,n.jsx)("div",{className:"flex items-center gap-0 space-x-0.5",children:r.map((e,t)=>(0,n.jsx)(i,{card:e,size:s,highlight:o.includes(e)},t))})};var d=s(220);let u=e=>{let{currentSpot:t,selectedAction:s,isCorrect:r=!1,showResults:a=!1,onActionSelect:l,availableActions:i=["FOLD","CHECK","CALL","RAISE"],heroHand:u,potSize:h,onNextSpot:x,onRepeatSpot:m,positionRangeData:g,stackSize:b="100",cpuActionEnabled:B=!1,onActionCompleted:p,backButtonUrl:f}=e;(0,o.useEffect)(()=>{if("vs3bet"===t.actionType&&t.threeBetterPosition&&t.positions){console.log("\uD83C\uDFAF PokerTable: vs3ベットスタック確認",{actionType:t.actionType,threeBetterPosition:t.threeBetterPosition,threeBetSize:t.threeBetSize,stackDepth:t.stackDepth,currentStack:t.positions[t.threeBetterPosition].stack,expectedStack:"15BB"===t.stackDepth?0:30-(t.threeBetSize||0),spotId:t.id});let e="15BB"===t.stackDepth?0:30-(t.threeBetSize||0),s=t.positions[t.threeBetterPosition].stack;s!==e&&(console.log("\uD83D\uDEA8 PokerTable: スタック不一致を検出！強制的に再レンダリングします"),console.log("\uD83D\uDEA8 期待値: ".concat(e,", 現在値: ").concat(s)))}},[t]);let[L,v]=(0,o.useState)(!1);(0,o.useEffect)(()=>{let e=()=>{v(window.innerWidth<768)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);let[y,A]=(0,o.useState)(!1),[S,j]=(0,o.useState)(!0),[N,D]=(0,o.useState)(1),[C,w]=(0,o.useState)("translate(-100%, 0)"),[I,F]=(0,o.useState)([]),[O,T]=(0,o.useState)(-1),[_,k]=(0,o.useState)({}),[R,z]=(0,o.useState)(!1),[E,H]=(0,o.useState)([]);(0,o.useEffect)(()=>{if(s){j(!0),D(0),w("translate(-100%, 0)");let e=setTimeout(()=>{D(1),w("translate(-50%, 0)")},10),t=setTimeout(()=>{D(0),w("translate(-50%, 0) translateX(30px)")},1500),s=setTimeout(()=>{j(!1)},2e3);return()=>{clearTimeout(e),clearTimeout(t),clearTimeout(s)}}},[s]),(0,o.useEffect)(()=>{if(t&&t.heroPosition){let e=["UTG","UTG1","LJ","HJ","CO","BTN","SB","BB"],s=e.indexOf(t.heroPosition);if(-1!==s){let t=e.slice(s+1);H(t),B&&(F(t),k({}),z(!1),T(-1))}}},[t,B]);let P=t.heroPosition||"UTG1",M=g||(0,d.UU)(P),q=()=>{let e=void 0!==h?h:void 0!==t.potSize?t.potSize:void 0!==t.pot?t.pot:0;return"vs3bet"===t.actionType&&console.log("\uD83C\uDFAF PokerTable getPotSize vs3bet:",{actionType:t.actionType,stackSize:t.stackDepth,openRaiseSize:t.openRaiseSize,threeBetSize:t.threeBetSize,originalPotSize:e,_debug:t._debug}),"vs4bet"===t.actionType&&console.log("\uD83C\uDFAF PokerTable getPotSize vs4bet:",{actionType:t.actionType,originalPotSize:e}),e},U=()=>{if(!B||O>=I.length-1){z(!0),p&&p();return}let e=O+1;T(e);let t=I[e],s=W(t,J());k(e=>({...e,[t]:{action:s,result:K(s,t)}})),setTimeout(()=>{U()},1e3)},J=()=>{let e=["premium","strong","medium","weak","trash"],t=[10,20,30,25,15],s=Math.random()*t.reduce((e,t)=>e+t,0);for(let n=0;n<t.length;n++){if(s<t[n])return e[n];s-=t[n]}return e[Math.floor(Math.random()*e.length)]},G=e=>["BTN","CO"].includes(e)?7:["SB","BB"].includes(e)?9:8,W=(e,t)=>{let s={premium:{FOLD:0,CALL:20,RAISE:80},strong:{FOLD:10,CALL:50,RAISE:40},medium:{FOLD:30,CALL:60,RAISE:10},weak:{FOLD:70,CALL:30,RAISE:0},trash:{FOLD:95,CALL:5,RAISE:0}},n={SB:{FOLD:-10,CALL:0,RAISE:10},BB:{FOLD:-20,CALL:10,RAISE:10},BTN:{FOLD:-5,CALL:-5,RAISE:10},CO:{FOLD:0,CALL:0,RAISE:0}};n[e]||(n[e]={FOLD:5,CALL:0,RAISE:-5});let o={FOLD:Math.max(0,Math.min(100,s[t].FOLD+(n[e].FOLD||0))),CALL:Math.max(0,Math.min(100,s[t].CALL+(n[e].CALL||0))),RAISE:Math.max(0,Math.min(100,s[t].RAISE+(n[e].RAISE||0)))},r=o.FOLD+o.CALL+o.RAISE;r>0&&(o.FOLD=o.FOLD/r*100,o.CALL=o.CALL/r*100,o.RAISE=o.RAISE/r*100);let a=100*Math.random();if(a<o.FOLD)return"FOLD";if(a<o.FOLD+o.CALL)return"CALL";{let t=G(e);return"RAISE ".concat(t)}},K=(e,t)=>{if("FOLD"===e)return"フォールド";if("CALL"===e)return"コール";if(e.startsWith("RAISE")){let t=e.match(/RAISE (\d+(\.\d+)?)/),s=t?t[1]:"?";return"".concat(s,"BBにレイズ")}return"ALL IN"===e?"オールイン":""};(0,o.useEffect)(()=>{B&&s&&!R&&setTimeout(()=>{U()},1e3)},[s,B]);let Q=e=>!!B&&I.indexOf(e)===O,X=e=>{if(!B)return!1;let t=I.indexOf(e);return t>O&&t<I.length},V=()=>{if(!s)return{element:(0,n.jsx)(n.Fragment,{}),evaluationLevel:"suboptimal"};let e="optimal",o=s.split(" ")[0],a=0;if(t.frequencies&&Object.keys(t.frequencies).length>0){let n=t.frequencies[s]||0;a=n;let o=0,r="";Object.entries(t.frequencies).forEach(e=>{let[t,s]=e;s>o&&(o=s,r=t)}),e=s===r?"perfect":n>=30?"optimal":n>=10?"acceptable":"suboptimal"}else t.correctAction&&(e="MIN"===t.correctAction&&"RAISE"===s?"perfect":"RFI"===t.correctAction&&"RAISE"===s?"perfect":s===t.correctAction?"perfect":"RAISE"===t.correctAction&&"CALL"===s||"CALL"===t.correctAction&&"FOLD"===s?"acceptable":"suboptimal"),"perfect"===e?a="FOLD"===o?95:"CALL"===o?75:"RAISE"===o?65:"ALL"===o?90:80:"optimal"===e?a="FOLD"===o?60:"CALL"===o?50:"RAISE"===o?40:"ALL"===o?55:45:"acceptable"===e?a="FOLD"===o?30:"CALL"===o?25:"RAISE"===o?20:"ALL"===o?15:20:"suboptimal"===e&&(a="FOLD"===o?5:"CALL"===o?10:"RAISE"===o?5:"ALL"===o?2:5);let l=" ".concat(Math.round(a),"%"),i=(()=>{switch(o){case"FOLD":return"FOLD";case"CHECK":return"CHECK";case"CALL":return"CALL";case"RAISE":return"RAISE";case"ALL":return"ALL IN";case"MIN":return"MIN";default:return o}})();return(r&&("suboptimal"===e||"acceptable"===e)?e="optimal":r||"perfect"!==e&&"optimal"!==e&&"acceptable"!==e||(e="suboptimal"),"perfect"===e||"optimal"===e||"acceptable"===e)?{element:(0,n.jsxs)("div",{className:"bg-green-500 text-white px-3 py-2 rounded-sm text-sm whitespace-nowrap flex items-center shadow-lg border border-green-400",children:[i,l]}),evaluationLevel:e}:{element:(0,n.jsxs)("div",{className:"bg-red-500 text-white px-3 py-2 rounded-sm text-sm whitespace-nowrap flex items-center shadow-lg border border-red-400",children:[i,l]}),evaluationLevel:e}},Y=e=>{let s=t.heroPosition||"";if("vs3bet"===t.actionType){let n=t.threeBetterPosition;return e!==s&&e!==n}if("vs4bet"===t.actionType){let n=t.openRaiserPosition;return e!==s&&e!==n}if(e===t.openRaiserPosition)return!1;let n=["UTG","UTG1","LJ","HJ","CO","BTN","SB","BB"],o=n.indexOf(s),r=n.indexOf(e);return -1!==o&&-1!==r&&r<o},Z=e=>{let n=parseInt(b);if("vs3bet"===t.actionType&&e===t.threeBetterPosition&&t.threeBetSize){if(console.log("\uD83C\uDFAF getPositionStack: 3ベッター処理",{position:e,actionType:t.actionType,threeBetterPosition:t.threeBetterPosition,threeBetSize:t.threeBetSize,stackDepth:t.stackDepth}),"15BB"===t.stackDepth)return console.log("\uD83C\uDFAF 15BB vs3ベット: ".concat(e,"のスタックを0に設定")),"0";if("30BB"===t.stackDepth){let s;return"SB"===e?(s=29.5-t.threeBetSize,console.log("\uD83C\uDFAF 30BB vs3ベット SB: 29.5 - ".concat(t.threeBetSize," = ").concat(s))):"BB"===e?(s=29-t.threeBetSize,console.log("\uD83C\uDFAF 30BB vs3ベット BB: 29 - ".concat(t.threeBetSize," = ").concat(s))):(s=30-t.threeBetSize,console.log("\uD83C\uDFAF 30BB vs3ベット その他: 30 - ".concat(t.threeBetSize," = ").concat(s))),s<=0?"0":"".concat(s.toFixed(1))}if("40BB"===t.stackDepth){let s;return"SB"===e?(s=39.5-t.threeBetSize,console.log("\uD83C\uDFAF 40BB vs3ベット SB: 39.5 - ".concat(t.threeBetSize," = ").concat(s))):"BB"===e?(s=39-t.threeBetSize,console.log("\uD83C\uDFAF 40BB vs3ベット BB: 39 - ".concat(t.threeBetSize," = ").concat(s))):(s=40-t.threeBetSize,console.log("\uD83C\uDFAF 40BB vs3ベット その他: 40 - ".concat(t.threeBetSize," = ").concat(s))),s<=0?"0":"".concat(s.toFixed(1))}}if(e===t.heroPosition&&s&&s.startsWith("RAISE")){let e=s.match(/RAISE (\d+(\.\d+)?)/);if(e&&e[1]){let t=n-parseFloat(e[1]);return 0===t?"0":"".concat(t.toFixed(1))}}if(e===t.openRaiserPosition&&t.openRaiseSize){let e=n-t.openRaiseSize;return 0===e?"0":"".concat(e.toFixed(1))}if("SB"===e){let e=n-.5;return 0===e?"0":"".concat(e)}if("BB"===e){let e=n-1;return 0===e?"0":"".concat(e)}return"".concat(n)},$=e=>e?"string"==typeof e?4===e.length?[e.slice(0,2),e.slice(2,4)]:[e,"?"]:e:["?","?"],ee=()=>{if(!t.tournamentStage)return"";switch(t.tournamentStage){case"bubble":return"border-blue-500/50 bg-blue-900/20";case"final_table":return"border-purple-500/50 bg-purple-900/20";default:return""}},et=(()=>{let e={},s=t.heroPosition||"";return"BTN"===s?(e.BTN={label:"BTN",x:50,y:55,isHero:!0},e.SB={label:"SB",x:25,y:55,isHero:!1},e.BB={label:"BB",x:15,y:35,isHero:!1},e.UTG={label:"UTG",x:25,y:15,isHero:!1},e.UTG1={label:"UTG+1",x:50,y:15,isHero:!1},e.LJ={label:"LJ",x:75,y:15,isHero:!1},e.HJ={label:"HJ",x:85,y:35,isHero:!1},e.CO={label:"CO",x:75,y:55,isHero:!1}):"SB"===s?(e.SB={label:"SB",x:50,y:55,isHero:!0},e.BB={label:"BB",x:25,y:55,isHero:!1},e.UTG={label:"UTG",x:15,y:35,isHero:!1},e.UTG1={label:"UTG+1",x:25,y:15,isHero:!1},e.LJ={label:"LJ",x:50,y:15,isHero:!1},e.HJ={label:"HJ",x:75,y:15,isHero:!1},e.CO={label:"CO",x:85,y:35,isHero:!1},e.BTN={label:"BTN",x:75,y:55,isHero:!1}):"BB"===s?(e.BB={label:"BB",x:50,y:55,isHero:!0},e.UTG={label:"UTG",x:25,y:55,isHero:!1},e.UTG1={label:"UTG+1",x:15,y:35,isHero:!1},e.LJ={label:"LJ",x:25,y:15,isHero:!1},e.HJ={label:"HJ",x:50,y:15,isHero:!1},e.CO={label:"CO",x:75,y:15,isHero:!1},e.BTN={label:"BTN",x:85,y:35,isHero:!1},e.SB={label:"SB",x:75,y:55,isHero:!1}):"UTG"===s?(e.UTG={label:"UTG",x:50,y:55,isHero:!0},e.UTG1={label:"UTG+1",x:25,y:55,isHero:!1},e.LJ={label:"LJ",x:15,y:35,isHero:!1},e.HJ={label:"HJ",x:25,y:15,isHero:!1},e.CO={label:"CO",x:50,y:15,isHero:!1},e.BTN={label:"BTN",x:75,y:15,isHero:!1},e.SB={label:"SB",x:85,y:35,isHero:!1},e.BB={label:"BB",x:75,y:55,isHero:!1}):"UTG1"===s?(e.UTG1={label:"UTG+1",x:50,y:55,isHero:!0},e.LJ={label:"LJ",x:25,y:55,isHero:!1},e.HJ={label:"HJ",x:15,y:35,isHero:!1},e.CO={label:"CO",x:25,y:15,isHero:!1},e.BTN={label:"BTN",x:50,y:15,isHero:!1},e.SB={label:"SB",x:75,y:15,isHero:!1},e.BB={label:"BB",x:85,y:35,isHero:!1},e.UTG={label:"UTG",x:75,y:55,isHero:!1}):"LJ"===s?(e.LJ={label:"LJ",x:50,y:55,isHero:!0},e.HJ={label:"HJ",x:25,y:55,isHero:!1},e.CO={label:"CO",x:15,y:35,isHero:!1},e.BTN={label:"BTN",x:25,y:15,isHero:!1},e.SB={label:"SB",x:50,y:15,isHero:!1},e.BB={label:"BB",x:75,y:15,isHero:!1},e.UTG={label:"UTG",x:85,y:35,isHero:!1},e.UTG1={label:"UTG+1",x:75,y:55,isHero:!1}):"HJ"===s?(e.HJ={label:"HJ",x:50,y:55,isHero:!0},e.CO={label:"CO",x:25,y:55,isHero:!1},e.BTN={label:"BTN",x:15,y:35,isHero:!1},e.SB={label:"SB",x:25,y:15,isHero:!1},e.BB={label:"BB",x:50,y:15,isHero:!1},e.UTG={label:"UTG",x:75,y:15,isHero:!1},e.UTG1={label:"UTG+1",x:85,y:35,isHero:!1},e.LJ={label:"LJ",x:75,y:55,isHero:!1}):"CO"===s?(e.CO={label:"CO",x:50,y:55,isHero:!0},e.BTN={label:"BTN",x:25,y:55,isHero:!1},e.SB={label:"SB",x:15,y:35,isHero:!1},e.BB={label:"BB",x:25,y:15,isHero:!1},e.UTG={label:"UTG",x:50,y:15,isHero:!1},e.UTG1={label:"UTG+1",x:75,y:15,isHero:!1},e.LJ={label:"LJ",x:85,y:35,isHero:!1},e.HJ={label:"HJ",x:75,y:55,isHero:!1}):(e.BTN={label:"BTN",x:50,y:68,isHero:"BTN"===s},e.SB={label:"SB",x:25,y:55,isHero:"SB"===s},e.BB={label:"BB",x:15,y:35,isHero:"BB"===s},e.UTG={label:"UTG",x:25,y:15,isHero:"UTG"===s},e.UTG1={label:"UTG+1",x:50,y:15,isHero:"UTG1"===s},e.LJ={label:"LJ",x:75,y:15,isHero:"LJ"===s},e.HJ={label:"HJ",x:85,y:35,isHero:"HJ"===s},e.CO={label:"CO",x:75,y:55,isHero:"CO"===s}),e})(),es=$(t.heroHand);q(),s&&s.split(" ")[0],t.correctAction&&t.correctAction.split(" ")[0];let en=(t.description||"").match(/CO\s+vs\s+UTG1/i);en&&en[0];let eo=()=>{let e=parseInt(b),s=[...i];return(e<=15||t.frequencies&&t.frequencies["ALL IN"]>0||"bubble"===t.tournamentStage&&"high"===t.icmPressure||"push_fold"===t.actionType)&&!s.includes("ALL IN")&&s.push("ALL IN"),s};return L?(0,n.jsx)("div",{className:"w-full h-full",children:(0,n.jsx)("div",{className:"w-full h-full relative ".concat(ee()),children:(()=>{Object.entries(et).find(e=>{let[t,s]=e;return s.isHero});let e=$(t.heroHand),o={},r=Object.entries(et).find(e=>{let[t,s]=e;return s.isHero});if(r){o[r[0]]={x:50,y:78};let e=["SB","BB","UTG","UTG1","LJ","HJ","CO","BTN"],t=r[0],s=e.indexOf(t),n=[];for(let t=1;t<e.length;t++){let o=(s+t)%e.length,r=e[o];et[r]&&!et[r].isHero&&n.push(r)}let a=[{x:50,y:-30},{x:5,y:-20},{x:95,y:-20},{x:-2,y:24},{x:102,y:24},{x:5,y:67},{x:95,y:67}],l=[5,3,1,0,2,4,6];for(let e=0;e<n.length&&e<l.length;e++){let t=n[e],s=l[e];s<a.length&&(o[t]=a[s])}}return(0,n.jsxs)(n.Fragment,{children:[f&&(0,n.jsx)("div",{className:"absolute top-0 right-2 z-50",children:(0,n.jsx)("a",{href:f,className:"px-3 py-1 bg-gray-700/90 hover:bg-gray-600/90 rounded text-white text-sm backdrop-blur-sm",children:"← 戻る"})}),(0,n.jsx)("div",{className:"absolute w-full flex flex-col items-center text-white z-40",style:{top:"36%"},children:(0,n.jsxs)("div",{className:"text-base font-bold",children:[q()," BB"]})}),(0,n.jsx)("div",{className:"absolute inset-0 flex items-center justify-center mt-8",children:(0,n.jsxs)("div",{className:"relative w-72 h-72",children:[(0,n.jsxs)("div",{className:"absolute inset-0 z-10",style:{pointerEvents:"none"},children:[[["UTG","UTG+1"],["UTG+1","LJ"],["LJ","HJ"],["HJ","CO"],["CO","BTN"],["BTN","SB"],["SB","BB"],["BB","UTG"]].map((e,t)=>{let[s,r]=e,a=o[s],l=o[r];if(!a||!l)return null;let i=l.x-a.x,c=l.y-a.y;return(0,n.jsx)("div",{className:"absolute bg-gray-400",style:{left:"".concat(a.x,"%"),top:"".concat(a.y,"%"),width:"".concat(Math.sqrt(i*i+c*c),"%"),height:"1.5px",transformOrigin:"0 50%",transform:"rotate(".concat(180*Math.atan2(c,i)/Math.PI,"deg)")}},"line-".concat(s,"-").concat(r,"-").concat(t))}),(()=>{let e=Object.keys(o).find(e=>e.includes("UTG")&&"UTG"!==e)||"UTG+1",t=[];if(o[e]&&o.UTG){let s=o[e],r=o.UTG,a=r.x-s.x,l=r.y-s.y;t.push((0,n.jsx)("div",{className:"absolute bg-gray-400",style:{left:"".concat(s.x,"%"),top:"".concat(s.y,"%"),width:"".concat(Math.sqrt(a*a+l*l),"%"),height:"1.5px",transformOrigin:"0 50%",transform:"rotate(".concat(180*Math.atan2(l,a)/Math.PI,"deg)")}},"line1"))}if(o[e]&&o.LJ){let s=o[e],r=o.LJ,a=r.x-s.x,l=r.y-s.y;t.push((0,n.jsx)("div",{className:"absolute bg-gray-400",style:{left:"".concat(s.x,"%"),top:"".concat(s.y,"%"),width:"".concat(Math.sqrt(a*a+l*l),"%"),height:"1.5px",transformOrigin:"0 50%",transform:"rotate(".concat(180*Math.atan2(l,a)/Math.PI,"deg)")}},"line2"))}return t})()]}),Object.entries(et).map(r=>{let[a,i]=r,d=o[a];if(!d)return null;let u=t.openRaiserPosition===a,h=i.isHero;return(0,n.jsxs)("div",{className:"absolute z-20",style:{left:"".concat(d.x,"%"),top:"".concat(d.y,"%"),transform:"translate(-50%, -50%)"},children:[(0,n.jsxs)("div",{className:"w-14 h-14 flex flex-col items-center justify-center rounded-full border-2\n                    ".concat(h?"bg-green-700 border-green-400":Y(a)&&a!==t.openRaiserPosition?"bg-gray-950 border-gray-900":u?"bg-orange-700 border-orange-400":"bg-gray-700 border-gray-500"),children:[(0,n.jsx)("div",{className:"font-bold text-xs ".concat(h?"text-white":u?"text-white":Y(a)?"text-gray-500":"text-gray-300"),children:i.label}),(0,n.jsx)("div",{className:"font-bold text-[10px] ".concat(h?"text-white":u?"text-white":Y(a)?"text-gray-500":"text-gray-300"),children:Z(a)})]}),h&&(0,n.jsx)("div",{className:"absolute top-16 left-1/2 transform -translate-x-1/2 z-30",children:(0,n.jsx)("div",{className:"flex gap-1 scale-110",children:(0,n.jsx)(c,{cards:e,size:"sm"})})}),h&&!s&&(0,n.jsx)("div",{className:"absolute top-32 left-1/2 transform -translate-x-1/2 z-30",children:(0,n.jsx)("div",{className:"flex space-x-2 justify-center",children:eo().map(e=>{let{label:t,colorClass:s}="FOLD"===e?{label:"FOLD",colorClass:"bg-blue-600 hover:bg-blue-700"}:"CHECK"===e?{label:"CHECK",colorClass:"bg-gray-600 hover:bg-gray-700"}:"CALL"===e?{label:"CALL",colorClass:"bg-green-600 hover:bg-green-700"}:"RAISE"===e?{label:"RAISE",colorClass:"bg-red-600 hover:bg-red-700"}:"ALL IN"===e?{label:"ALLIN",colorClass:"bg-purple-600 hover:bg-purple-700"}:{label:e,colorClass:"bg-gray-600 hover:bg-gray-700"};return(0,n.jsx)("button",{className:"px-5 py-3 rounded-lg text-white font-semibold whitespace-nowrap min-h-12 min-w-20 ".concat(s," transition-colors shadow-lg"),onClick:()=>l&&l(e),disabled:B&&!R,children:t},e)})})}),h&&s&&(0,n.jsx)("div",{className:"absolute top-32 left-1/2 transform -translate-x-1/2 z-30",children:(0,n.jsxs)("div",{className:"flex space-x-3 justify-center",children:[m&&(0,n.jsx)("button",{className:"px-4 py-3 rounded-lg text-white text-sm font-semibold bg-gray-500 hover:bg-gray-600 transition-colors whitespace-nowrap min-w-20 shadow-lg",onClick:m,children:"再試行"}),x&&(0,n.jsx)("button",{className:"px-4 py-3 rounded-lg text-white text-sm font-semibold bg-green-500 hover:bg-green-600 transition-colors whitespace-nowrap min-w-20 shadow-lg",onClick:x,children:"次へ"})]})})]},a)}),(()=>{var e,s;let r=[],a=o.SB,l=o.BB,i=t.openRaiserPosition,c=i?o[i]:null,d=(e,t)=>{let s=50-e.x,n=35-e.y,o=Math.sqrt(s*s+n*n),r=22,a=0,l=0;return"SB"===t?e.x>80?(r=16,a=-2,l=3):e.x<20?(r=18,a=4,l=2):e.y>60?(r=14,a=1,l=-1):e.x>50&&e.y<40?(r=18,a=-1,l=4):(r=20,a=0,l=3):"BB"===t?e.x>80?(r=18,a=-3,l=4):e.x<20?(r=16,a=3,l=3):e.y>60?(r=12,a=0,l=0):e.x<50&&e.y<40?(r=17,a=2,l=5):(r=22,a=-1,l=4):e.x>80?(r=18,a=-1,l=2):e.x<20?(r=18,a=1,l=2):e.y>60?(r=12,a=0,l=-2):e.y<20?(r=20,a=0,l=3):(r=19,a=0,l=1),{x:e.x+s/o*r+a,y:e.y+n/o*r+l}},u="BB"===t.heroPosition&&"SB"===i||"SB"===t.threeBetterPosition;if(a&&!u){let e=d(a,"SB");r.push((0,n.jsx)("div",{className:"absolute z-30",style:{left:"".concat(e.x,"%"),top:"".concat(e.y,"%"),transform:"translate(-50%, -50%)"},children:(0,n.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,n.jsx)("div",{className:"bg-blue-400 w-2.5 h-2.5 rounded-full flex items-center justify-center shadow-md border border-blue-300"}),(0,n.jsx)("span",{className:"text-white font-medium text-xs",children:"0.5"})]})},"sb-blind-chip-mobile"))}if(l&&"BB"!==t.threeBetterPosition){let e=d(l,"BB");r.push((0,n.jsx)("div",{className:"absolute z-30",style:{left:"".concat(e.x,"%"),top:"".concat(e.y,"%"),transform:"translate(-50%, -50%)"},children:(0,n.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,n.jsx)("div",{className:"bg-blue-600 w-2.5 h-2.5 rounded-full flex items-center justify-center shadow-md border border-blue-500"}),(0,n.jsx)("span",{className:"text-white font-medium text-xs",children:"1"})]})},"bb-blind-chip-mobile"))}if(c&&(null==t?void 0:t.openRaiseSize)){let e=d(c,i||"OPEN");r.push((0,n.jsx)("div",{className:"absolute z-30",style:{left:"".concat(e.x,"%"),top:"".concat(e.y,"%"),transform:"translate(-50%, -50%)"},children:(0,n.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,n.jsx)("div",{className:"bg-red-600 w-2.5 h-2.5 rounded-full flex items-center justify-center shadow-md border border-red-500"}),(0,n.jsx)("span",{className:"text-white font-medium text-xs",children:t.openRaiseSize})]})},"open-raiser-chips-mobile"))}let h="vs3bet"===t.actionType?t.threeBetterPosition:"vs4bet"===t.actionType?t.heroPosition:null,x="vs4bet"===t.actionType?t.openRaiserPosition:null,m=h?null===(e=Object.entries(o).find(e=>{let[t]=e;return t===h}))||void 0===e?void 0:e[1]:null,g=x?null===(s=Object.entries(o).find(e=>{let[t]=e;return t===x}))||void 0===s?void 0:s[1]:null;if(console.log("3ベット・4ベットデバッグ:",{actionType:t.actionType,openRaiserPosition:t.openRaiserPosition,threeBetterPosition:t.threeBetterPosition,threeBetSize:t.threeBetSize,openRaiseSize:t.openRaiseSize,threeBetterPosMobile:h,fourBetterPosMobile:x,threeBetterInfoMobile:m,fourBetterInfoMobile:g}),console.log("\uD83D\uDD0D 3ベッターチップ表示条件チェック: threeBetterInfoMobile=".concat(!!m,", threeBetSize=").concat(null==t?void 0:t.threeBetSize,", threeBetterPosMobile=").concat(h,", actionType=").concat(t.actionType)),m&&(null==t?void 0:t.threeBetSize)&&h&&("vs3bet"===t.actionType||"vs4bet"===t.actionType)){let e=d(m,h);r.push((0,n.jsx)("div",{className:"absolute z-30",style:{left:"".concat(e.x,"%"),top:"".concat(e.y,"%"),transform:"translate(-50%, -50%)"},children:(0,n.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,n.jsx)("div",{className:"bg-orange-600 w-2.5 h-2.5 rounded-full flex items-center justify-center shadow-md border border-orange-500"}),(0,n.jsx)("span",{className:"text-white font-medium text-xs",children:t.threeBetSize})]})},"three-better-chip-mobile"))}if(g&&(null==t?void 0:t.openRaiseSize)&&x&&"vs4bet"===t.actionType){let e=d(g,x);r.push((0,n.jsx)("div",{className:"absolute z-30",style:{left:"".concat(e.x,"%"),top:"".concat(e.y,"%"),transform:"translate(-50%, -50%)"},children:(0,n.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,n.jsx)("div",{className:"bg-purple-600 w-2.5 h-2.5 rounded-full flex items-center justify-center shadow-md border border-purple-500"}),(0,n.jsx)("span",{className:"text-white font-medium text-xs",children:t.openRaiseSize})]})},"four-better-chip-mobile"))}return r})()]})}),s&&a&&S&&(()=>{let e=Object.entries(et).find(e=>{let[t,s]=e;return s.isHero}),t=e?o[e[0]]:{x:50,y:68};return(0,n.jsx)("div",{className:"absolute z-50",style:{left:"".concat(t.x+15,"%"),top:"".concat(t.y-20,"%"),transform:"translate(-50%, -50%)"},children:(()=>{let{element:e}=V();return(0,n.jsx)("div",{style:{transform:C,opacity:N,transition:"transform 0.1s ease-out, opacity 0.1s ease-out"},children:e})})()})})(),y&&(0,n.jsx)(d.Nn,{rangeData:M,title:"".concat(t.heroPosition||"BTN","ポジションからのオープンレイズレンジ (100BB)"),onClose:()=>A(!1)})]})})()})}):(0,n.jsxs)("div",{className:"w-full h-full",children:[(0,n.jsxs)("div",{className:"w-full h-full relative bg-[#0a0a0a] rounded-lg overflow-hidden ".concat(ee()," ").concat(t.tournamentStage?"border":""),children:[(0,n.jsx)("div",{className:"absolute top-0 left-0 w-[120px] h-[70px] bg-[#0a0a0a] z-30"}),(0,n.jsx)("svg",{className:"absolute inset-0 w-full h-full z-20",style:{pointerEvents:"none"},children:(()=>{let e=[];return[{from:"UTG",to:"UTG1"},{from:"UTG1",to:"LJ"},{from:"LJ",to:"HJ"},{from:"HJ",to:"CO"},{from:"BTN",to:"SB"},{from:"SB",to:"BB"},{from:"BB",to:"UTG"},{from:"CO",to:"BTN"}].forEach((t,s)=>{let{from:o,to:r}=t;if(et[o]&&et[r]){let t=et[o],a=et[r],l=t.x,i=t.y,c=a.x,d=a.y;e.push((0,n.jsx)("line",{x1:"".concat(l,"%"),y1:"".concat(i,"%"),x2:"".concat(c,"%"),y2:"".concat(d,"%"),stroke:"rgba(200, 200, 200, 0.7)",strokeWidth:"1.2"},"pc-".concat(o,"-").concat(r,"-").concat(s)))}}),e})()}),(0,n.jsxs)("div",{className:"absolute w-full top-[180px] flex flex-col items-center text-white z-40",children:[(0,n.jsxs)("div",{className:"text-base font-medium px-2.5 py-0.5 bg-black/50 rounded-lg",children:[q()," BB"]}),t.icmPressure&&(0,n.jsxs)("div",{className:"absolute top-0 right-4 px-3 py-1 rounded-full text-sm font-medium\n              ".concat("low"===t.icmPressure?"bg-green-700/70":"medium"===t.icmPressure?"bg-yellow-700/70":"high"===t.icmPressure?"bg-orange-700/70":"bg-red-700/70"),children:["ICM: ","low"===t.icmPressure?"低":"medium"===t.icmPressure?"中":"high"===t.icmPressure?"高":"極高"]})]}),(()=>{var e;let t=null===(e=Object.entries(et).find(e=>{let[t]=e;return"BTN"===t}))||void 0===e?void 0:e[1];if(t){let e=t.x-5,s=t.y-4.5;return(0,n.jsx)("div",{className:"absolute z-50",style:{left:"".concat(e,"%"),top:"".concat(s,"%")},children:(0,n.jsx)("div",{className:"w-4 h-4 bg-white rounded-full flex items-center justify-center shadow-lg border border-gray-300",children:(0,n.jsx)("span",{className:"text-black font-bold text-[9px]",children:"D"})})})}return null})(),Object.entries(et).map(e=>{var o,r,l,i,d,u,h,x,m;let[g,b]=e,B=t.openRaiserPosition===g,p=t.threeBetterPosition===g;return(0,n.jsxs)("div",{className:"absolute ".concat(Q(g)?"z-50 animate-pulse":X(g)?"z-40":"z-30"),style:{left:"".concat(b.x,"%"),top:"".concat(b.y,"%"),transform:"translate(-50%, -50%)"},children:[b.isHero&&s&&a&&S&&(()=>{let{element:e,evaluationLevel:t}=V();return(0,n.jsx)("div",{className:"absolute -top-10 left-1/2 z-[999]",style:{transform:C,opacity:N,transition:"transform 0.1s ease-out, opacity 0.1s ease-out"},children:e})})(),(0,n.jsxs)("div",{className:"w-[4rem] h-[4rem] flex flex-col items-center justify-center rounded-full \n              ".concat(b.isHero?"bg-green-800 border-2 border-green-500 shadow-md shadow-green-500/50":B?"bg-red-700 border-2 border-red-500 shadow-md":p?"bg-orange-700 border-2 border-orange-500 shadow-md shadow-orange-500/50":Y(g)?"bg-[#1a1a1a] border border-[#252525] shadow-md":Q(g)?"bg-blue-800 border-2 border-blue-500 shadow-md shadow-blue-500/50 scale-110":(null===(o=_[g])||void 0===o?void 0:o.action)==="FOLD"?"bg-gray-800 border border-gray-700 shadow-md opacity-60":"bg-[#1a1a1a] border border-[#252525] shadow-md"),children:[(0,n.jsx)("div",{className:"text-[14px] font-bold ".concat(b.isHero?"text-white":B?"text-white":p?"text-white":Y(g)?"text-gray-600":Q(g)||X(g)?"text-white":(null===(r=_[g])||void 0===r?void 0:r.action)==="FOLD"?"text-gray-500":"text-white"),children:b.label}),(0,n.jsx)("div",{className:"text-[14px] font-bold mt-0.5 ".concat(b.isHero?"text-white":B?"text-white":p?"text-white":Y(g)?"text-gray-600":Q(g)||X(g)?"text-white":(null===(l=_[g])||void 0===l?void 0:l.action)==="FOLD"?"text-gray-500":"text-white"),children:Z(g)})]}),b.isHero&&(0,n.jsx)("div",{className:"absolute top-20 left-1/2 transform -translate-x-1/2 flex gap-0 space-x-0.5 z-40",children:(0,n.jsx)(c,{cards:es,size:"md"})}),(null===(i=_[g])||void 0===i?void 0:i.result)&&!B&&(0,n.jsx)("div",{className:"absolute -top-6 left-1/2 transform -translate-x-1/2 z-40",children:(0,n.jsx)("div",{className:"text-xs px-2 py-1 rounded whitespace-nowrap font-semibold shadow-lg border border-opacity-50\n                    ".concat((null===(d=_[g])||void 0===d?void 0:d.action)==="FOLD"?"bg-blue-600 text-white border-blue-400":(null===(u=_[g])||void 0===u?void 0:u.action)==="CALL"?"bg-green-600 text-white border-green-400":(null===(x=_[g])||void 0===x?void 0:null===(h=x.action)||void 0===h?void 0:h.startsWith("RAISE"))?"bg-red-600 text-white border-red-400":"bg-gray-600 text-white border-gray-400"),children:null===(m=_[g])||void 0===m?void 0:m.result})})]},g)}),(()=>{var e,s,o,r,a;let l=null===(e=Object.entries(et).find(e=>{let[t]=e;return"SB"===t}))||void 0===e?void 0:e[1],i=null===(s=Object.entries(et).find(e=>{let[t]=e;return"BB"===t}))||void 0===s?void 0:s[1];null===(o=Object.entries(et).find(e=>{let[t,s]=e;return s.isHero}))||void 0===o||o[1];let c=t.openRaiserPosition,d=c?null===(r=Object.entries(et).find(e=>{let[t]=e;return t===c}))||void 0===r?void 0:r[1]:null,u=t.threeBetterPosition,h=[];console.log("\uD83C\uDFAF チップ表示条件チェック:",{heroPosition:t.heroPosition,openRaiserPos:c,threeBetterPos:u,sbExists:!!l,sbIsHero:null==l?void 0:l.isHero,stackSize:b,openRaiseSize:null==t?void 0:t.openRaiseSize,isBBHero:"BB"===t.heroPosition,isSBOpener:"SB"===c,isSBThreeBetter:"SB"===u});let x="BB"===t.heroPosition&&"SB"===c||"SB"===u;console.log("\uD83D\uDD0D Should hide 0.5BB chip?",x,{isBBHero:"BB"===t.heroPosition,isSBOpener:"SB"===c,isSBThreeBetter:"SB"===u,openRaiseSize:null==t?void 0:t.openRaiseSize}),x&&console.log("\uD83D\uDEAB SB chip hidden - reason:","SB"===u?"SB is 3-better":"BB hero + SB opener");let m="BB"===t.heroPosition&&"SB"===c;if(console.log("\uD83D\uDD0D Should hide 0.5BB chip?",m,{isBBHero:"BB"===t.heroPosition,isSBOpener:"SB"===c,openRaiseSize:null==t?void 0:t.openRaiseSize}),m)console.log("\uD83D\uDEAB BB hero + SB opener: 0.5BB chip hidden");else if(l&&!l.isHero&&!("BB"===t.heroPosition&&"SB"===c)&&"SB"!==t.threeBetterPosition){let e=50-l.x,t=35-l.y,s=Math.sqrt(e*e+t*t),o=l.x+e/s*10,r=l.y+t/s*10;h.push((0,n.jsx)("div",{className:"absolute z-10",style:{left:"".concat(o,"%"),top:"".concat(r,"%"),transform:"translate(-50%, -50%)"},children:(0,n.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,n.jsx)("div",{className:"bg-blue-400 w-3.5 h-3.5 rounded-full flex items-center justify-center shadow-md border-2 border-blue-300"}),(0,n.jsx)("span",{className:"text-white font-medium text-[13px]",children:"0.5"})]})},"sb-blind-chip"))}if(i&&"BB"!==t.threeBetterPosition){let e=50-i.x,t=35-i.y,s=Math.sqrt(e*e+t*t),o=i.x+e/s*10,r=i.y+t/s*10;h.push((0,n.jsx)("div",{className:"absolute z-10",style:{left:"".concat(o,"%"),top:"".concat(r,"%"),transform:"translate(-50%, -50%)"},children:(0,n.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,n.jsx)("div",{className:"bg-blue-600 w-3.5 h-3.5 rounded-full flex items-center justify-center shadow-md border-2 border-blue-500"}),(0,n.jsx)("span",{className:"text-white font-medium text-[13px]",children:"1"})]})},"bb-blind-chip-mobile"))}if("SB"===c&&"15"===b&&(null==t?void 0:t.openRaiseSize)===1||"BB"===t.heroPosition&&"SB"===c){let e=50-l.x,t=35-l.y,s=Math.sqrt(e*e+t*t),o=l.x+e/s*10,r=l.y+t/s*10;h.push((0,n.jsx)("div",{className:"absolute z-20",style:{left:"".concat(o,"%"),top:"".concat(r,"%"),transform:"translate(-50%, -50%)"},children:(0,n.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,n.jsx)("div",{className:"bg-green-600 w-3.5 h-3.5 rounded-full flex items-center justify-center shadow-md border-2 border-green-500"}),(0,n.jsx)("span",{className:"text-white font-medium text-[13px]",children:"1"})]})},"sb-limp-chip"))}if(d&&(null==t?void 0:t.openRaiseSize)&&!("SB"===c&&"15"===b&&(null==t?void 0:t.openRaiseSize)===1)&&!((null==i?void 0:i.isHero)&&"SB"===c)){let e=50-d.x,s=35-d.y,o=Math.sqrt(e*e+s*s),r=d.x+e/o*10,a=d.y+s/o*10;h.push((0,n.jsx)("div",{className:"absolute z-20",style:{left:"".concat(r,"%"),top:"".concat(a,"%"),transform:"translate(-50%, -50%)"},children:(0,n.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,n.jsx)("div",{className:"bg-red-600 w-3.5 h-3.5 rounded-full flex items-center justify-center shadow-md border-2 border-red-500"}),(0,n.jsx)("span",{className:"text-white font-medium text-[13px]",children:t.openRaiseSize})]})},"open-raiser-chips-dynamic"))}let g=t.threeBetterPosition?null===(a=Object.entries(et).find(e=>{let[s]=e;return s===t.threeBetterPosition}))||void 0===a?void 0:a[1]:null;if("vs3bet"===t.actionType&&"15BB"===t.stackDepth&&console.log("\uD83D\uDD0D PokerTable 3ベッター情報:",{threeBetterPosition:t.threeBetterPosition,threeBetSize:t.threeBetSize,actionType:t.actionType,stackDepth:t.stackDepth,threeBetterPositionFound:!!g}),g&&(null==t?void 0:t.threeBetSize)){let e=50-g.x,s=35-g.y,o=Math.sqrt(e*e+s*s),r=g.x+e/o*10,a=g.y+s/o*10;h.push((0,n.jsx)("div",{className:"absolute z-30",style:{left:"".concat(r,"%"),top:"".concat(a,"%"),transform:"translate(-50%, -50%)"},children:(0,n.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,n.jsx)("div",{className:"bg-orange-600 w-3.5 h-3.5 rounded-full flex items-center justify-center shadow-md border-2 border-orange-500"}),(0,n.jsx)("span",{className:"text-white font-medium text-[13px]",children:t.threeBetSize})]})},"three-better-chips-dynamic"))}return h})(),y&&(0,n.jsx)(d.Nn,{rangeData:M,title:"".concat(t.heroPosition||"BTN","ポジションからのオープンレイズレンジ (100BB)"),onClose:()=>A(!1)})]}),(0,n.jsx)("div",{className:"flex space-x-2 mt-3",children:eo().map(e=>{let{label:t,colorClass:o}="FOLD"===e?{label:"フォールド",colorClass:"bg-blue-600 hover:bg-blue-700"}:"CHECK"===e?{label:"チェック",colorClass:"bg-gray-600 hover:bg-gray-700"}:"CALL"===e?{label:"コール",colorClass:"bg-green-600 hover:bg-green-700"}:"RAISE"===e?{label:"レイズ",colorClass:"bg-red-600 hover:bg-red-700"}:"ALL IN"===e?{label:"オールイン",colorClass:"bg-purple-600 hover:bg-purple-700"}:{label:e,colorClass:"bg-gray-600 hover:bg-gray-700"};return(0,n.jsx)("button",{className:"px-4 py-2 rounded text-white font-medium ".concat(o," transition-colors"),onClick:()=>l&&l(e),disabled:!!s||B&&!R,children:t},e)})})]})};var h=s(7648),x=s(7561);function m(e){let{onClose:t}=e,[s,r]=(0,o.useState)(""),[a,l]=(0,o.useState)(""),[i,c]=(0,o.useState)(!1),[d,u]=(0,o.useState)(""),{login:h}=(0,x.A)(),m=async e=>{e.preventDefault(),c(!0),u(""),await h(s,a)?t():u("ユーザー名またはパスワードが間違っています"),c(!1)};return(0,n.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50",children:(0,n.jsxs)("div",{className:"bg-gray-800 rounded-lg p-6 w-full max-w-md mx-4 border border-gray-600",children:[(0,n.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,n.jsx)("h2",{className:"text-xl font-bold text-white flex items-center",children:"\uD83D\uDD12 管理者ログイン"}),(0,n.jsx)("button",{onClick:t,className:"text-gray-400 hover:text-white text-xl",children:"✕"})]}),(0,n.jsxs)("form",{onSubmit:m,children:[(0,n.jsxs)("div",{className:"mb-4",children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"ユーザー名"}),(0,n.jsx)("input",{type:"text",value:s,onChange:e=>r(e.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-blue-500",placeholder:"管理者ユーザー名を入力",required:!0})]}),(0,n.jsxs)("div",{className:"mb-6",children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-2",children:"パスワード"}),(0,n.jsx)("input",{type:"password",value:a,onChange:e=>l(e.target.value),className:"w-full px-3 py-2 bg-gray-700 border border-gray-600 rounded-lg text-white placeholder-gray-400 focus:outline-none focus:border-blue-500",placeholder:"パスワードを入力",required:!0})]}),d&&(0,n.jsx)("div",{className:"mb-4 p-3 bg-red-900/50 border border-red-600 rounded-lg text-red-300 text-sm",children:d}),(0,n.jsxs)("div",{className:"flex gap-3",children:[(0,n.jsx)("button",{type:"button",onClick:t,className:"flex-1 py-2 px-4 bg-gray-600 hover:bg-gray-700 text-white rounded-lg transition-colors",children:"キャンセル"}),(0,n.jsx)("button",{type:"submit",disabled:i,className:"flex-1 py-2 px-4 bg-red-600 hover:bg-red-700 disabled:bg-gray-600 text-white rounded-lg transition-colors",children:i?"ログイン中...":"ログイン"})]})]}),(0,n.jsxs)("div",{className:"mt-4 text-xs text-gray-400 text-center bg-gray-700/30 p-2 rounded",children:[(0,n.jsx)("div",{className:"text-yellow-300 mb-1",children:"⚠️ セキュリティ注意"}),"このログインは重要なシステム管理機能へのアクセスを提供します。 認証情報は適切に管理してください。"]})]})})}var g=s(893),b=s(4362);let B=["UTG","UTG1","LJ","HJ","CO","BTN","SB","BB"],p=e=>B.indexOf(e),f=e=>{let t=p(e);return t<=0?[]:B.slice(0,t)},L=(e,t)=>{let s=p(e),n=p(t);return n<s&&n>=0&&s>=0},v=e=>{if(!e||2!==e.length)return console.log("\uD83C\uDFAF normalizeHandType エラー: 無効なハンド",{hand:e}),"XX";let t=e[0],s=e[1];if(!t||!s||t.length<1||s.length<1)return console.log("\uD83C\uDFAF normalizeHandType エラー: 無効なカード形式",{card1:t,card2:s}),"XX";let n=t[0],o=s[0],r=t[1]||"",a=s[1]||"";console.log("\uD83C\uDFAF normalizeHandType 詳細入力:",{hand:e,card1:t,card2:s,rank1:n,rank2:o,suit1:r,suit2:a,rank1Length:null==n?void 0:n.length,rank2Length:null==o?void 0:o.length});let l=["2","3","4","5","6","7","8","9","T","J","Q","K","A"],i=l.indexOf(n),c=l.indexOf(o);if(console.log("\uD83C\uDFAF normalizeHandType ランク検索:",{rank1:n,rank2:o,rank1Index:i,rank2Index:c,ranks:l}),-1===i||-1===c)return console.log("\uD83C\uDFAF normalizeHandType エラー: 無効なランク",{rank1:n,rank2:o,rank1Index:i,rank2Index:c}),"XX";if(n===o){let e=n+o;return console.log("\uD83C\uDFAF normalizeHandType ペア結果:",{result:e,rank1:n,rank2:o}),e}{let e=i>c?n:o,t=i>c?o:n,s=r===a?"s":"o",l=e+t+s;return console.log("\uD83C\uDFAF normalizeHandType 非ペア結果:",{result:l,higher:e,lower:t,suffix:s,rank1Index:i,rank2Index:c,isHigher:i>c}),l}},y=()=>{let e=["2","3","4","5","6","7","8","9","T","J","Q","K","A"],t=["s","h","d","c"],s=[];for(;s.length<2;){let n=e[Math.floor(Math.random()*e.length)]+t[Math.floor(Math.random()*t.length)];s.includes(n)||s.push(n)}return s},A=(e,t,s,n,o,r)=>{console.log("\uD83C\uDFAF simulateMTTGTOData 開始:",{hand:e,position:t,stackSize:s,actionType:n,openerPosition:r,hasCustomRanges:!!o,customRangesKeys:o?Object.keys(o):[],customRangesCount:o?Object.keys(o).length:0});let a=v(e);console.log("\uD83C\uDFAF simulateMTTGTOData ハンド正規化:",{originalHand:e,normalizedHandType:a,handLength:e.length,actionType:n,position:t,stackSize:s});let l=e[0][0],i=e[1][0],c=e[0][1]===e[1][1];console.log("\uD83C\uDFAF ハンド正規化デバッグ:",{originalHand:e,normalizedHandType:a,rankA:l,rankB:i,suited:c});let u=parseInt(s.replace("BB","")),h={FOLD:0,CALL:0,RAISE:0,"ALL IN":0},x="FOLD",m={FOLD:0,CALL:-1.2,RAISE:-1.5,"ALL IN":-2};if("vsopen"===n&&r){if(!L(t,r))return console.error("❌ 無効なvsオープン組み合わせ:",{heroPosition:t,openerPosition:r,validOpeners:f(t),reason:"オープンレイザーはヒーローより前のポジションである必要があります"}),{correctAction:x="FOLD",evData:m={FOLD:0,CALL:-5,RAISE:-5,"ALL IN":-5},frequencies:h={FOLD:100,CALL:0,RAISE:0,"ALL IN":0},normalizedHandType:a,effectiveStackExplanation:"❌ 無効なポジション組み合わせ: ".concat(r," → ").concat(t),stackSizeStrategy:"".concat(t,"ポジションに対して、").concat(r,"からのオープンは無効です。有効なオープンレイザー: ").concat(f(t).join(", ")),icmConsideration:"vs オープンでは、オープンレイザーはヒーローより前のポジションである必要があります。",recommendedBetSize:0,isInvalidCombination:!0,errorMessage:"".concat(r," から ").concat(t," への vs オープンは不可能です。"),validOpeners:f(t)};let e="vsopen_".concat(t,"_vs_").concat(r,"_").concat(s),n="15BB"===s?"vsopen_".concat(t,"_vs_").concat(r):null;console.log("\uD83D\uDD0D vs オープン分析:",{rangeKey:e,fallbackRangeKey:n,stackSize:s,handType:a,hasCustomRanges:!!o,hasThisRange:!!(o&&o[e]),hasFallbackRange:!!(o&&n&&o[n]),hasThisHand:!!(o&&(o[e]&&o[e][a]||n&&o[n]&&o[n][a])),availableRangeKeys:o?Object.keys(o):[]});let l=null;if(o&&o[e]&&o[e][a]?l=o[e][a]:n&&o&&o[n]&&o[n][a]&&(l=o[n][a],console.log("15BB互換性: 既存vsオープンレンジを使用",{fallbackRangeKey:n,handType:a})),l){let n={FOLD:0,CALL:0,RAISE:0,"ALL IN":0},o="FOLD";if(l.mixedFrequencies){let e=l.mixedFrequencies;o=Object.entries(n={FOLD:e.FOLD||0,CALL:e.CALL||0,RAISE:(e.RAISE||0)+(e.MIN||0),"ALL IN":e.ALL_IN||0}).reduce((e,t)=>t[1]>e[1]?t:e)[0]}else{let e=l.action;"MIN"===(o=e.replace("ALL_IN","ALL IN"))&&(o="RAISE");let t=o;n[t]=l.frequency,l.frequency<100&&(n.FOLD=100-l.frequency),console.log("\uD83C\uDFAF vs3bet 単一アクション処理デバッグ:",{originalAction:e,convertedAction:o,frequency:l.frequency,actionKey:t,customFrequencies:n,handType:a})}let i={FOLD:0,CALL:"CALL"===o?.8:-1,RAISE:"RAISE"===o?1.5:-1.2,"ALL IN":"ALL IN"===o?2.8:-2};console.log("\uD83C\uDFAF カスタムレンジ使用:",{rangeKey:e,handType:a,customHandData:l,primaryAction:o,frequencies:n,correctAction:o,finalFrequencies:n});let c=w(t,r,o,u),d="BTN"===r&&"15BB"===s?1:2.5;return{correctAction:o,evData:i,frequencies:n,normalizedHandType:a,effectiveStackExplanation:"カスタムレンジ: ".concat(r,"からのオープンに対する").concat(t,"ポジションでの設定済み戦略です。"),stackSizeStrategy:c,icmConsideration:j(u,o,t),recommendedBetSize:"ALL IN"===o?u:"RAISE"===o?2.2:0,openerInfo:D(r),openRaiserPosition:r,openRaiseSize:d,isVsOpen:!0,isCustomRange:!0}}let i=C(a,t,r,u);if(i){x=i.primaryAction,h=i.frequencies,m=i.evData;let e=w(t,r,x,u),n="BTN"===r&&"15BB"===s?1:2;return{correctAction:x,evData:m,frequencies:h,normalizedHandType:a,effectiveStackExplanation:"".concat(r,"からのオープンに対する").concat(t,"ポジションでの最適戦略です。"),stackSizeStrategy:e,icmConsideration:j(u,x,t),recommendedBetSize:"ALL IN"===x?u:"RAISE"===x?2.2:0,openerInfo:D(r),openRaiserPosition:r,openRaiseSize:n,isVsOpen:!0}}}if("vs3bet"===n){if(["27o","37o","47o","57o","67o","32o","42o","52o","62o","72o","82o","92o","T2o","J2o","Q2o","K2o","A2o","23o","24o","25o","26o","28o","29o","2To","2Jo","2Qo","2Ko","2Ao"].includes(a))return console.log("\uD83C\uDFAF レンジ外ハンド検出:",{actionType:n,normalizedHandType:a}),{correctAction:"FOLD",evData:{FOLD:0,CALL:-5,RAISE:-5,"ALL IN":-5},frequencies:{FOLD:100,CALL:0,RAISE:0,"ALL IN":0},normalizedHandType:a,effectiveStackExplanation:"このハンド(".concat(a,")は").concat(n,"のレンジに含まれていません。"),stackSizeStrategy:"レンジ外のハンドは通常フォールドが最適です。",icmConsideration:"レンジ外ハンドの頻度が設定されていません。FOLD 100%が推奨されます。",recommendedBetSize:0,isRangeOut:!0,exploitSuggestion:"このハンド(".concat(a,")は").concat(n,"のレンジに含まれていません。頻度が設定されていないため、FOLD 100%が推奨されます。")};let e=r;if(!e){let s=(e=>{let t=p(e);return t>=B.length-1?[]:B.slice(t+1)})(t);if(0===s.length)return{correctAction:"FOLD",evData:{FOLD:0,CALL:-3,RAISE:-3,"ALL IN":-3},frequencies:{FOLD:100,CALL:0,RAISE:0,"ALL IN":0},normalizedHandType:a,effectiveStackExplanation:"❌ 無効なvs3ベット設定: 有効な3ベッターが存在しません",stackSizeStrategy:"vs3ベットには、オープンレイザーより後のポジションの3ベッターが必要です。",icmConsideration:"ポジション設定を確認してください。",recommendedBetSize:0};e=s[Math.floor(Math.random()*s.length)]}let l="vs3bet_".concat(t,"_vs_").concat(e,"_").concat(s),i="15BB"===s?"vs3bet_".concat(t,"_vs_").concat(e):null;console.log("\uD83D\uDD0D vs 3ベット分析:",{rangeKey:l,fallbackRangeKey:i,stackSize:s,handType:a,hasCustomRanges:!!o,hasThisRange:!!(o&&o[l]),hasFallbackRange:!!(o&&i&&o[i]),hasThisHand:!!(o&&(o[l]&&o[l][a]||i&&o[i]&&o[i][a])),availableRangeKeys:o?Object.keys(o):[]});let c=null,d=l;if(o&&o[l]&&o[l][a]?(c=o[l][a],console.log("\uD83C\uDFAF vs3bet カスタムレンジ発見 (スタック固有):",{rangeKey:l,handType:a,customHandData:c})):i&&o&&o[i]&&o[i][a]?(c=o[i][a],d=i,console.log("\uD83C\uDFAF 15BB互換性: 既存vs3ベットレンジを使用",{fallbackRangeKey:i,handType:a,customHandData:c})):console.log("\uD83C\uDFAF vs3bet カスタムレンジ未発見:",{rangeKey:l,fallbackRangeKey:i,handType:a,hasCustomRanges:!!o,availableRangeKeys:o?Object.keys(o):[],hasRangeKey:!!(o&&o[l]),hasFallbackKey:!!(o&&i&&o[i]),rangeKeyData:o&&o[l]?Object.keys(o[l]):[],fallbackKeyData:o&&i&&o[i]?Object.keys(o[i]):[]}),c){let e={FOLD:0,CALL:0,RAISE:0,"ALL IN":0},o="FOLD";if(c.mixedFrequencies){let t=c.mixedFrequencies;o=Object.entries(e={FOLD:t.FOLD||0,CALL:t.CALL||0,RAISE:(t.RAISE||0)+(t.MIN||0),"ALL IN":t.ALL_IN||0}).reduce((e,t)=>t[1]>e[1]?t:e)[0]}else"MIN"===(o=c.action.replace("ALL_IN","ALL IN"))&&(o="RAISE"),e[o]=c.frequency,c.frequency<100&&(e.FOLD=100-c.frequency);if(100===e.FOLD)return console.log("\uD83C\uDFAF カスタムレンジFOLD 100%検出:",{actionType:n,normalizedHandType:a,rangeKey:l}),{correctAction:"FOLD",evData:{FOLD:0,CALL:-5,RAISE:-5,"ALL IN":-5},frequencies:{FOLD:100,CALL:0,RAISE:0,"ALL IN":0},normalizedHandType:a,effectiveStackExplanation:"このハンド(".concat(a,")はカスタムレンジでFOLD 100%に設定されています。"),stackSizeStrategy:"カスタムレンジでレンジ外として設定されたハンドです。",icmConsideration:"カスタムレンジでFOLD 100%に設定されているため、レンジ外として扱われます。",recommendedBetSize:0,isRangeOut:!0,exploitSuggestion:"このハンド(".concat(a,")はカスタムレンジでFOLD 100%に設定されています。レンジ外として扱われます。")};console.log("\uD83C\uDFAF vs3bet カスタムレンジ処理完了:",{originalAction:c.action,finalAction:o,frequencies:e,handType:a});let r={FOLD:0,CALL:"CALL"===o?1.2:-1.5,RAISE:"RAISE"===o?2.8:-2,"ALL IN":"ALL IN"===o?4.5:-3};return console.log("\uD83C\uDFAF カスタムvs3ベットレンジ使用:",{rangeKey:d,handType:a,customHandData:c,primaryAction:o,frequencies:e}),{correctAction:o,evData:r,frequencies:e,normalizedHandType:a,effectiveStackExplanation:"カスタムレンジ: ".concat(t,"ポジション").concat(s,"でのvs 3ベット戦略です。"),stackSizeStrategy:"vs 3ベット: カスタム設定により".concat(a,"は").concat(o,"が推奨されます。"),icmConsideration:j(u,o,t),recommendedBetSize:"ALL IN"===o?u:"RAISE"===o?Math.min(.7*u,25):0,strategicAnalysis:"カスタムvs3ベット戦略: ".concat(a,"は").concat(o,"が設定されています。"),isCustomRange:!0}}return console.log("\uD83C\uDFAF vs3bet カスタムレンジなし - デフォルト戦略使用:",{handType:a,stackSize:s,hasCustomRanges:!!o,availableRangeKeys:o?Object.keys(o):[]}),["AA","KK","QQ","AKs","AKo"].includes(a)?(x="ALL IN",h={FOLD:0,CALL:0,RAISE:20,"ALL IN":80}):["JJ","TT","AQs","AQo"].includes(a)?(x="CALL",h={FOLD:30,CALL:60,RAISE:0,"ALL IN":10}):(x="FOLD",h={FOLD:100,CALL:0,RAISE:0,"ALL IN":0}),console.log("\uD83C\uDFAF vs3bet デフォルト戦略適用:",{handType:a,gtoAction:x,frequencies:h,stackSize:s}),m={FOLD:0,CALL:"CALL"===x?1.2:-1.5,RAISE:"RAISE"===x?2.8:-2,"ALL IN":"ALL IN"===x?4.5:-3},{correctAction:x,evData:m,frequencies:h,normalizedHandType:a,effectiveStackExplanation:"".concat(s,"スタックでのvs 3ベット戦略です。"),stackSizeStrategy:"vs 3ベット: ".concat(a,"は").concat(x,"が推奨されます。"),icmConsideration:j(u,x,t),recommendedBetSize:"ALL IN"===x?u:"RAISE"===x?Math.min(.7*u,25):0,strategicAnalysis:"vs3ベット戦略: ".concat(a,"は").concat(x,"が推奨されます。"),exploitSuggestion:"vs 3ベットでは、相手の3ベット頻度と4ベットに対する反応を観察して調整しましょう。"}}if("vs4bet"===n){if(["27o","37o","47o","57o","67o","32o","42o","52o","62o","72o","82o","92o","T2o","J2o","Q2o","K2o","A2o","23o","24o","25o","26o","28o","29o","2To","2Jo","2Qo","2Ko","2Ao"].includes(a))return console.log("\uD83C\uDFAF レンジ外ハンド検出:",{actionType:n,normalizedHandType:a}),{correctAction:"FOLD",evData:{FOLD:0,CALL:-5,RAISE:-5,"ALL IN":-5},frequencies:{FOLD:100,CALL:0,RAISE:0,"ALL IN":0},normalizedHandType:a,effectiveStackExplanation:"このハンド(".concat(a,")は").concat(n,"のレンジに含まれていません。"),stackSizeStrategy:"レンジ外のハンドは通常フォールドが最適です。",icmConsideration:"レンジ外ハンドの頻度が設定されていません。FOLD 100%が推奨されます。",recommendedBetSize:0,isRangeOut:!0,exploitSuggestion:"このハンド(".concat(a,")は").concat(n,"のレンジに含まれていません。頻度が設定されていないため、FOLD 100%が推奨されます。")};let e=r;if(!e){let s=(e=>{let t=p(e);return t<=0?[]:B.slice(0,t)})(t);if(0===s.length)return{correctAction:"FOLD",evData:{FOLD:0,CALL:-5,RAISE:-5,"ALL IN":-5},frequencies:{FOLD:100,CALL:0,RAISE:0,"ALL IN":0},normalizedHandType:a,effectiveStackExplanation:"❌ 無効なvs4ベット設定: 有効な4ベッターが存在しません",stackSizeStrategy:"vs4ベットには、3ベッターより前のポジション（通常オリジナルのオープンレイザー）の4ベッターが必要です。",icmConsideration:"ポジション設定を確認してください。",recommendedBetSize:0};e=s[Math.floor(Math.random()*s.length)]}let l="vs4bet_".concat(t,"_vs_").concat(e,"_").concat(s),i="15BB"===s?"vs4bet_".concat(t,"_vs_").concat(e):null;console.log("\uD83D\uDD0D vs 4ベット分析:",{rangeKey:l,fallbackRangeKey:i,stackSize:s,handType:a,hasCustomRanges:!!o,hasThisRange:!!(o&&o[l]),hasFallbackRange:!!(o&&i&&o[i]),hasThisHand:!!(o&&(o[l]&&o[l][a]||i&&o[i]&&o[i][a])),availableRangeKeys:o?Object.keys(o):[]});let c=null,d=l;if(o&&o[l]&&o[l][a]?c=o[l][a]:i&&o&&o[i]&&o[i][a]&&(c=o[i][a],d=i,console.log("15BB互換性: 既存vs4ベットレンジを使用",{fallbackRangeKey:i,handType:a})),c){let e={FOLD:0,CALL:0,RAISE:0,"ALL IN":0},o="FOLD";if(c.mixedFrequencies){let t=c.mixedFrequencies;o=Object.entries(e={FOLD:t.FOLD||0,CALL:t.CALL||0,RAISE:(t.RAISE||0)+(t.MIN||0),"ALL IN":t.ALL_IN||0}).reduce((e,t)=>t[1]>e[1]?t:e)[0]}else"MIN"===(o=c.action.replace("ALL_IN","ALL IN"))&&(o="RAISE"),e[o]=c.frequency,c.frequency<100&&(e.FOLD=100-c.frequency);if(100===e.FOLD)return console.log("\uD83C\uDFAF カスタムレンジFOLD 100%検出:",{actionType:n,normalizedHandType:a,rangeKey:l}),{correctAction:"FOLD",evData:{FOLD:0,CALL:-5,RAISE:-5,"ALL IN":-5},frequencies:{FOLD:100,CALL:0,RAISE:0,"ALL IN":0},normalizedHandType:a,effectiveStackExplanation:"このハンド(".concat(a,")はカスタムレンジでFOLD 100%に設定されています。"),stackSizeStrategy:"カスタムレンジでレンジ外として設定されたハンドです。",icmConsideration:"カスタムレンジでFOLD 100%に設定されているため、レンジ外として扱われます。",recommendedBetSize:0,isRangeOut:!0,exploitSuggestion:"このハンド(".concat(a,")はカスタムレンジでFOLD 100%に設定されています。レンジ外として扱われます。")};console.log("\uD83C\uDFAF vs4bet カスタムレンジ処理完了:",{originalAction:c.action,finalAction:o,frequencies:e,handType:a});let r={FOLD:0,CALL:"CALL"===o?2:-2.5,RAISE:"RAISE"===o?5.5:-4,"ALL IN":"ALL IN"===o?8:-5};console.log("\uD83C\uDFAF カスタムvs4ベットレンジ使用:",{rangeKey:d,handType:a,customHandData:c,primaryAction:o,frequencies:e});let i={correctAction:o,evData:r,frequencies:e,normalizedHandType:a,effectiveStackExplanation:"カスタムレンジ: ".concat(t,"ポジション").concat(s,"でのvs 4ベット戦略です。"),stackSizeStrategy:"vs 4ベット: カスタム設定により".concat(a,"は").concat(o,"が推奨されます。"),icmConsideration:j(u,o,t),recommendedBetSize:"ALL IN"===o?u:"RAISE"===o?u:0,strategicAnalysis:"カスタムvs4ベット戦略: ".concat(a,"は").concat(o,"が設定されています。"),isCustomRange:!0};return console.log("\uD83C\uDFAF vs4bet カスタムレンジ戻り値:",{normalizedHandType:i.normalizedHandType,originalNormalizedHandType:a,resultKeys:Object.keys(i)}),i}return console.log("\uD83C\uDFAF vs4bet カスタムレンジなし - デフォルト戦略使用:",{handType:a,stackSize:s,hasCustomRanges:!!o,availableRangeKeys:o?Object.keys(o):[]}),["AA","KK"].includes(a)?(x="ALL IN",h={FOLD:0,CALL:0,RAISE:0,"ALL IN":100}):["QQ","AKs","AKo"].includes(a)?(x="CALL",h={FOLD:20,CALL:70,RAISE:0,"ALL IN":10}):(x="FOLD",h={FOLD:100,CALL:0,RAISE:0,"ALL IN":0}),console.log("\uD83C\uDFAF vs4bet デフォルト戦略適用:",{handType:a,gtoAction:x,frequencies:h,stackSize:s}),m={FOLD:0,CALL:"CALL"===x?2:-2.5,RAISE:"RAISE"===x?5.5:-4,"ALL IN":"ALL IN"===x?8:-5},{correctAction:x,evData:m,frequencies:h,normalizedHandType:a,effectiveStackExplanation:"".concat(s,"スタックでのvs 4ベット戦略です。"),stackSizeStrategy:"vs 4ベット: ".concat(a,"は").concat(x,"が推奨されます。"),icmConsideration:j(u,x,t),recommendedBetSize:"ALL IN"===x?u:"RAISE"===x?u:0,strategicAnalysis:"vs4ベット戦略: ".concat(a,"は").concat(x,"が推奨されます。"),exploitSuggestion:"vs 4ベットでは、プレミアムハンド以外はほぼフォールドが基本です。相手の4ベット頻度を観察しましょう。"}}if(u<=15){let e="".concat(t,"_").concat(s);if(console.log("\uD83D\uDD0D スタック固有レンジ分析:",{position:t,stackSize:s,stackSpecificRangeKey:e,handType:a,hasCustomRanges:!!o,hasStackSpecificRange:!!(o&&o[e]),hasGenericRange:!!(o&&o[t]),hasThisHand:!!(o&&(o[e]||o[t])&&(o[e]&&o[e][a]||o[t]&&o[t][a])),availablePositions:o?Object.keys(o):[]}),o&&o[e]&&o[e][a]){let n=o[e][a],r={FOLD:0,CALL:0,RAISE:0,"ALL IN":0},l="FOLD";if(n.mixedFrequencies){let e=n.mixedFrequencies;l=Object.entries(r={FOLD:e.FOLD||0,CALL:e.CALL||0,RAISE:(e.RAISE||0)+(e.MIN||0),"ALL IN":e.ALL_IN||0}).reduce((e,t)=>t[1]>e[1]?t:e)[0]}else r[l=({ALL_IN:"ALL IN",MIN:"RAISE",CALL:"CALL",FOLD:"FOLD",RAISE:"RAISE"})[n.action]||n.action.replace("ALL_IN","ALL IN")]=n.frequency,n.frequency<100&&(r.FOLD=100-n.frequency);let i={FOLD:0,CALL:"CALL"===l?.8:-1,RAISE:"RAISE"===l?2.5:-1.2,"ALL IN":"ALL IN"===l?3.2:-2};console.log("\uD83C\uDFAF スタック固有カスタムレンジ使用:",{rangeKey:e,handType:a,customHandData:n,primaryAction:l,frequencies:r});let c=S(t,l,u);return{correctAction:l,evData:i,frequencies:r,normalizedHandType:a,effectiveStackExplanation:"カスタムレンジ: ".concat(t,"ポジション").concat(s,"での設定済み戦略です。"),stackSizeStrategy:c,icmConsideration:j(u,l,t),recommendedBetSize:"ALL IN"===l?u:"RAISE"===l?2.2:0,strategicAnalysis:"カスタム".concat(s,"戦略: ").concat(a,"は").concat(l,"が設定されています。"),exploitSuggestion:N(l,t,a),isCustomRange:!0}}if(o&&o[t]&&o[t][a]){let e=o[t][a],s={FOLD:0,CALL:0,RAISE:0,"ALL IN":0},n="FOLD";if(e.mixedFrequencies){let t=e.mixedFrequencies;n=Object.entries(s={FOLD:t.FOLD||0,CALL:t.CALL||0,RAISE:(t.RAISE||0)+(t.MIN||0),"ALL IN":t.ALL_IN||0}).reduce((e,t)=>t[1]>e[1]?t:e)[0]}else s[n=({ALL_IN:"ALL IN",MIN:"RAISE",CALL:"CALL",FOLD:"FOLD",RAISE:"RAISE"})[e.action]||e.action.replace("ALL_IN","ALL IN")]=e.frequency,e.frequency<100&&(s.FOLD=100-e.frequency);let r={FOLD:0,CALL:"CALL"===n?.8:-1,RAISE:"RAISE"===n?2.5:-1.2,"ALL IN":"ALL IN"===n?3.2:-2};console.log("\uD83C\uDFAF カスタムレンジ使用 (オープン):",{position:t,handType:a,customHandData:e,primaryAction:n,frequencies:s});let l=S(t,n,u);return{correctAction:n,evData:r,frequencies:s,normalizedHandType:a,effectiveStackExplanation:"カスタムレンジ: ".concat(t,"ポジションでの設定済み15BBオープン戦略です。"),stackSizeStrategy:l,icmConsideration:j(u,n,t),recommendedBetSize:"ALL IN"===n?u:"RAISE"===n?2.2:0,strategicAnalysis:"カスタム15BB戦略: ".concat(a,"は").concat(n,"が設定されています。"),exploitSuggestion:N(n,t,a),isCustomRange:!0}}}if(u>15){let e="".concat(t,"_").concat(s);if(console.log("\uD83D\uDD0D 深いスタック固有レンジ分析:",{position:t,stackSize:s,stackSpecificRangeKey:e,handType:a,hasStackSpecificRange:!!(o&&o[e]),hasThisHand:!!(o&&o[e]&&o[e][a])}),o&&o[e]&&o[e][a]){let n=o[e][a],r={FOLD:0,CALL:0,RAISE:0,"ALL IN":0},l="FOLD";if(n.mixedFrequencies){let e=n.mixedFrequencies;l=Object.entries(r={FOLD:e.FOLD||0,CALL:e.CALL||0,RAISE:(e.RAISE||0)+(e.MIN||0),"ALL IN":e.ALL_IN||0}).reduce((e,t)=>t[1]>e[1]?t:e)[0]}else r[l=({ALL_IN:"ALL IN",MIN:"RAISE",CALL:"CALL",FOLD:"FOLD",RAISE:"RAISE"})[n.action]||n.action.replace("ALL_IN","ALL IN")]=n.frequency,n.frequency<100&&(r.FOLD=100-n.frequency);let i={FOLD:0,CALL:"CALL"===l?.8:-1,RAISE:"RAISE"===l?2.5:-1.2,"ALL IN":"ALL IN"===l?3.2:-2};console.log("\uD83C\uDFAF 深いスタック固有カスタムレンジ使用:",{rangeKey:e,handType:a,customHandData:n,primaryAction:l,frequencies:r});let c=S(t,l,u);return{correctAction:l,evData:i,frequencies:r,normalizedHandType:a,effectiveStackExplanation:"カスタムレンジ: ".concat(t,"ポジション").concat(s,"での設定済み戦略です。"),stackSizeStrategy:c,icmConsideration:j(u,l,t),recommendedBetSize:"ALL IN"===l?u:"RAISE"===l?2.2:0,strategicAnalysis:"カスタム".concat(s,"戦略: ").concat(a,"は").concat(l,"が設定されています。"),exploitSuggestion:N(l,t,a),isCustomRange:!0}}}console.log("\uD83D\uDCCA デフォルトMTTレンジ使用:",{position:t,stackDepthBB:u,handType:a});let g=(0,d.ox)(t,u)[a];if(g){if(g.mixedFrequencies){let e=g.mixedFrequencies;x=Object.entries(h={FOLD:e.FOLD||0,CALL:e.CALL||0,RAISE:(e.RAISE||0)+(e.MIN||0),"ALL IN":e.ALL_IN||0}).reduce((e,t)=>t[1]>e[1]?t:e)[0]}else h[x=({ALL_IN:"ALL IN",MIN:"RAISE",CALL:"CALL",FOLD:"FOLD",RAISE:"RAISE"})[g.action]||g.action.replace("ALL_IN","ALL IN")]=g.frequency,g.frequency<100&&(h.FOLD=100-g.frequency);m={FOLD:0,CALL:"CALL"===x?.8:-1,RAISE:"RAISE"===x?2.5:-1.2,"ALL IN":"ALL IN"===x?3.2:-2}}else x="FOLD",h={FOLD:100,CALL:0,RAISE:0,"ALL IN":0},m={FOLD:0,CALL:-1.5,RAISE:-2,"ALL IN":-2.5};console.log("\uD83C\uDFAF デフォルト戦略使用:",{handType:v(e),position:t,stackSize:s,gtoAction:x,frequencies:h,hasCustomRanges:!!o,availableRangeKeys:o?Object.keys(o):[]});let b={correctAction:x,evData:m,frequencies:h,normalizedHandType:a,effectiveStackExplanation:"".concat(s,"スタックでのMTTレンジベース戦略です。"),stackSizeStrategy:"デフォルトMTTレンジ: ".concat(a,"は").concat(x,"が推奨されます。"),icmConsideration:"スタックに余裕があるため標準的な戦略を使用します。",recommendedBetSize:"RAISE"===x?2.5:0,strategicAnalysis:"".concat(s,"戦略: ").concat(a,"は").concat(x,"が推奨されます。"),exploitSuggestion:N(x,t,a)};return console.log("\uD83C\uDFAF simulateMTTGTOData 最終戻り値:",{originalHand:e,finalHandType:a,resultNormalizedHandType:b.normalizedHandType}),b},S=(e,t,s)=>{let n={UTG:"アーリーポジション",UTG1:"アーリーポジション",LJ:"ミドルポジション",HJ:"ミドルポジション",CO:"レイトポジション",BTN:"ボタン（最有利ポジション）",SB:"スモールブラインド",BB:"ビッグブラインド"}[e]||e;return"ALL_IN"===t?"".concat(n,"からの15BBオールインは、フォールドエクイティを最大化する戦略です。").concat("UTG"===e||"UTG1"===e?"アーリーポジションからのオールインは特にタイトなレンジが必要です。":"BTN"===e?"ボタンからのオールインは最も広いレンジで可能です。":"ポジションに応じた適切なレンジでプレイしましょう。"):"MIN"===t?"".concat(n,"からのミニレイズは、スタックを温存しながら主導権を握る戦略です。").concat(s,"BBでは、コミット率が高くなるため慎重に選択しましょう。"):"CALL"===t?"".concat(n,"からのコールは、ポストフロップでの判断を必要とします。15BBでは複雑な判断を避けるため、シンプルなプレイが推奨されます。"):"3BB"===t?"".concat(n,"からの3BBレイズは、ミニレイズよりも強い意思表示です。フォールドエクイティと価値の両方を狙います。"):"".concat(n,"からはフォールドが最適です。15BBという貴重なスタックを温存し、より有利な状況を待ちましょう。")},j=(e,t,s)=>e<=10?"".concat(e,"BBという極めて浅いスタックでは、ICMプレッシャーが最大となります。生存価値を最優先に考え、").concat("ALL_IN"===t?"確実に優位性のあるハンドでのみオールインしましょう。":"リスクを極力避けてプレイしましょう。"):e<=15?"15BBスタックでは中程度のICMプレッシャーがあります。".concat("FOLD"===t?"タイトなプレイで生存を優先しつつ、":"適度なアグレッションを保ちながら、","ペイアウトジャンプを意識したプレイが重要です。"):"スタックに余裕があるため、標準的なICM考慮でプレイできます。ただし、常にトーナメント状況を意識しましょう。",N=(e,t,s)=>"FOLD"===e?"".concat(s,"は").concat(t,"ポジションでは一般的にフォールドですが、対戦相手がタイトな場合は時折ブラフとして利用できる可能性があります。"):"RAISE"===e?"".concat(s,"での").concat(t,"からのレイズは、対戦相手の3ベット頻度に応じて調整しましょう。"):"ALL IN"===e?"".concat(s,"でのオールインは15BBスタックでは標準的ですが、ICM状況を考慮して調整が必要な場合があります。"):"".concat(s,"は").concat(t,"ポジションで柔軟性のある戦略を要求します。"),D=e=>({UTG:"UTGからのオープンは最もタイトなレンジです。プレミアムハンドと強いブロードウェイを中心とした約9-12%のレンジ。",MP:"MPからのオープンは中程度のレンジです。UTGよりもやや緩く、約12-15%のハンドでオープンします。",CO:"COからのオープンは積極的なレンジです。約22-26%のハンドでオープンし、ポジション利用を重視します。",BTN:"BTNからのオープンは最も広いレンジです。約40-50%のハンドでオープンし、ポジション優位を最大限活用。",SB:"SBからのオープンは特殊な戦略です。BBとヘッズアップになることを考慮した約30-40%のレンジ。"})[e]||"このポジションからのオープンレンジを分析中...",C=(e,t,s,n)=>{if(n<=15){if(["AA","KK","QQ","AKs","AKo"].includes(e))return{frequencies:{FOLD:0,CALL:0,RAISE:0,"ALL IN":100},primaryAction:"ALL IN",evData:{FOLD:0,CALL:-1,RAISE:1.5,"ALL IN":3.2}};if(["JJ","TT","99","AQs","AQo","AJs"].includes(e))return["UTG","MP"].includes(s)?{frequencies:{FOLD:30,CALL:20,RAISE:0,"ALL IN":50},primaryAction:"ALL IN",evData:{FOLD:0,CALL:.8,RAISE:1.2,"ALL IN":2.5}}:{frequencies:{FOLD:10,CALL:30,RAISE:0,"ALL IN":60},primaryAction:"ALL IN",evData:{FOLD:0,CALL:1,RAISE:1.5,"ALL IN":2.8}};if(["88","77","66","ATo","KQs","KQo"].includes(e))return{frequencies:{FOLD:60,CALL:25,RAISE:0,"ALL IN":15},primaryAction:"FOLD",evData:{FOLD:0,CALL:.3,RAISE:.8,"ALL IN":1.8}}}return{frequencies:{FOLD:100,CALL:0,RAISE:0,"ALL IN":0},primaryAction:"FOLD",evData:{FOLD:0,CALL:-1.5,RAISE:-2,"ALL IN":-2.5}}},w=(e,t,s,n)=>{let o="".concat(t,"のオープンに対して").concat(e,"ポジションから");return"ALL IN"===s?"".concat(o,"のオールインは15BBスタックでは標準的な戦略です。ICM圧力を考慮して調整してください。"):"CALL"===s?"".concat(o,"のコールは、フロップでの戦略を事前に計画しておくことが重要です。"):"FOLD"===s?"".concat(o,"のフォールドは、オープンレイザーのレンジに対して適切な判断です。"):"".concat(o,"の戦略は、相手のレンジとポジション優位を考慮して決定されています。")};function I(){(0,r.useRouter)();let e=(0,r.useSearchParams)(),{isAdmin:t,token:s,user:a,logout:l,loading:i}=(0,x.A)(),{canPractice:c,practiceCount:S,maxPracticeCount:j,incrementPracticeCount:N}=(0,b.a)(),D=e.get("stack")||"75BB",C=e.get("position")||"BTN",w=e.get("action")||"openraise",I=e.get("hands")||"",F=I?decodeURIComponent(I).split(","):[],[O,T]=(0,o.useState)([]),[_,k]=(0,o.useState)(null),[R,z]=(0,o.useState)(!1),[E,H]=(0,o.useState)(!1),[P,M]=(0,o.useState)(null),[q,U]=(0,o.useState)(null),[J,G]=(0,o.useState)(0),[W,K]=(0,o.useState)(0),[Q,X]=(0,o.useState)(!1),[V,Y]=(0,o.useState)({}),[Z,$]=(0,o.useState)("UTG"),[ee,et]=(0,o.useState)(!1),[es,en]=(0,o.useState)(""),[eo,er]=(0,o.useState)(!1),[ea,el]=(0,o.useState)("BTN"),[ei,ec]=(0,o.useState)("CO"),[ed,eu]=(0,o.useState)(!1),[eh,ex]=(0,o.useState)(!1),[em,eg]=(0,o.useState)([]),eb=e=>{let t,s;console.log("\uD83C\uDFB2 ハンド生成デバッグ:",{handType:e});let n=e;if(3===e.length){let t=e[0],s=e[1],o=e[2],r=["2","3","4","5","6","7","8","9","T","J","Q","K","A"];r.indexOf(t)<r.indexOf(s)&&console.log("\uD83D\uDD04 ハンドタイプを正規化:",{original:e,normalized:n=s+t+o})}let o=["s","h","d","c"];if(2===n.length){let e=n[0],r=Math.floor(Math.random()*o.length);t=e+o[r],s=e+o[(r+1+Math.floor(3*Math.random()))%4]}else{if(3!==n.length)return console.log("⚠️ 不正なハンドタイプ:",n),y();let e=n[0],r=n[1],a=n[2];if(console.log("\uD83C\uDFB2 3文字ハンド処理:",{rank1:e,rank2:r,suitType:a}),"s"===a){let n=Math.floor(Math.random()*o.length);t=e+o[n],s=r+o[n]}else{let n=Math.floor(Math.random()*o.length);t=e+o[n],s=r+o[(n+1+Math.floor(3*Math.random()))%4]}}let r=[t,s];return console.log("\uD83C\uDFB2 生成されたハンド:",{originalHandType:e,normalizedHandType:n,result:r,finalNormalized:v(r)}),r},eB=()=>{let t,s,n;if(em.length>0){let e=em[Math.floor(Math.random()*em.length)];t=eb(e),s=e}else if(F.length>0){let e=F[Math.floor(Math.random()*F.length)];t=eb(e),s=e}else s=v(t=y());if(T(t),"vsopen"===w){let t=e.get("opener");if(t&&L(C,t))n=t;else{let e=f(C);e.length>0&&(n=e[Math.floor(Math.random()*e.length)])}}else if("vs3bet"===w){let t=e.get("threebetter");if(t&&p(t)>p(C)&&(n=t),!n){let e=p(C);if(e<B.length-1){let t=B.slice(e+1);t.length>0&&(n=t[Math.floor(Math.random()*t.length)])}}}else if("vs4bet"===w){let t=e.get("fourbetter");if(t&&p(t)<p(C)&&(n=t),!n){let e=p(C);if(e>0){let t=B.slice(0,e);t.length>0&&(n=t[Math.floor(Math.random()*t.length)])}}}console.log("\uD83C\uDFAF シナリオ生成デバッグ:",{newHand:t,handType:s,normalizedHandType:v(t),position:C,stackSize:D,actionType:w,openerPosition:n});let o=A(t,C,D,w,V,n);console.log("\uD83C\uDFAF setGtoData直前:",{newHand:t,dataNormalizedHandType:o.normalizedHandType,dataFrequencies:o.frequencies,dataCorrectAction:o.correctAction}),M(o);let r=o.recommendedBetSize,a=1.5,l="vs4bet"===w?30:2,i=6.3;"30BB"===D?"openraise"===w?(l=2.1,a=2.5):"vsopen"===w?a=(l=2.1)+1.5+1:"vs3bet"===w?(l=2.1,i="SB"===n?7.5:"BB"===n?8.2:6.3,a=Math.round(10*(a="SB"===n?l+i+1:"BB"===n?l+i+1:l+i+.5+1))/10,console.log("\uD83C\uDFAF 30BB vs3ベットポット計算:",{openerPosition:n,openRaiseSize:l,threeBetSize:i,sbRemaining:"SB"===n?0:.5,bbRemaining:"BB"===n?0:1,ante:1,total:a})):"vs4bet"===w&&(console.log("\uD83C\uDFAF vs4ベット計算開始:",{stackSize:D,position:C,actionType:w}),"SB"===C?a=38.3:"BB"===C?(console.log("\uD83C\uDFAF BBの場合の計算:",{stackSize:D,position:C}),console.log("\uD83C\uDFAF BB計算結果:",{calculation:"6.3 + 30 + 0.5 + 1 - 1",result:a=37.8})):a=38.8,a=Math.round(10*a)/10,console.log("\uD83C\uDFAF ".concat(D," vs4ベットポット計算:"),{stackSize:D,heroPosition:C,threeBetChip:6.3,fourBetChip:30,smallBlindChip:"SB"===C?0:.5,ante:1,total:a})):"40BB"===D?"openraise"===w?(l=2.1,a=2.5):"vsopen"===w?a=(l=2.1)+1.5+1:"vs3bet"===w?(l=2.1,i="SB"===n?7.5:"BB"===n?8.2:6.3,a=Math.round(10*(a="SB"===n?l+i+1:"BB"===n?l+i+1:2.5+l+i))/10,console.log("\uD83C\uDFAF 40BB vs3ベットポット計算:",{openerPosition:n,openRaiseSize:l,threeBetSize:i,sbRemaining:"SB"===n?0:.5,bbRemaining:"BB"===n?0:1,ante:1,total:a})):"vs4bet"===w&&(console.log("\uD83C\uDFAF 40BB vs4ベット計算開始:",{stackSize:D,position:C,actionType:w}),"SB"===C?a=38.3:"BB"===C?(console.log("\uD83C\uDFAF 40BB BBの場合の計算:",{stackSize:D,position:C}),console.log("\uD83C\uDFAF 40BB BB計算結果:",{calculation:"6.3 + 30 + 0.5 + 1 - 1",result:a=37.8})):a=38.8,a=Math.round(10*a)/10,console.log("\uD83C\uDFAF ".concat(D," vs4ベットポット計算:"),{stackSize:D,heroPosition:C,threeBetChip:6.3,fourBetChip:30,smallBlindChip:"SB"===C?0:.5,ante:1,total:a})):"vsopen"===w&&"BTN"===n&&"15BB"===D?a=(l=1)+1+1:"vsopen"===w&&"SB"===n&&"15BB"===D?a=(l=1)+1+1:"vsopen"===w?a=l+1.5+1:"openraise"===w?a=2.5:"vs3bet"===w?"15BB"===D?"SB"===n?console.log("\uD83C\uDFAF vs3bet 15BB SB 3ベッター計算:",{stackSize:D,threeBetterPosition:n,calculation:"1 + 1 + 2 + 15",potSize:a=19}):"BB"===n?console.log("\uD83C\uDFAF vs3bet 15BB BB 3ベッター計算:",{stackSize:D,threeBetterPosition:n,calculation:"0.5 + 1 + 2 + 15",potSize:a=18.5}):console.log("\uD83C\uDFAF vs3bet 15BB その他 3ベッター計算:",{stackSize:D,threeBetterPosition:n,calculation:"0.5 + 1 + 1 + 2 + 15",potSize:a=19.5}):"40BB"===D?("SB"===n?console.log("\uD83C\uDFAF vs3bet 40BB SB 3ベッター計算:",{stackSize:D,threeBetterPosition:n,calculation:"1 + 1 + 2.1 + 7.5",potSize:a=11.6}):"BB"===n?console.log("\uD83C\uDFAF vs3bet 40BB BB 3ベッター計算:",{stackSize:D,threeBetterPosition:n,calculation:"0.5 + 1 + 2.1 + 8.2",potSize:a=3.6+8.2}):console.log("\uD83C\uDFAF vs3bet 40BB その他 3ベッター計算:",{stackSize:D,threeBetterPosition:n,calculation:"0.5 + 1 + 1 + 2.1 + 6.3",potSize:a=10.899999999999999}),a=Math.round(10*a)/10):"SB"===n?console.log("\uD83C\uDFAF vs3bet SB 3ベッター計算:",{stackSize:D,threeBetterPosition:n,calculation:"1 + 1 + 2 + 15",potSize:a=19}):"BB"===n?console.log("\uD83C\uDFAF vs3bet BB 3ベッター計算:",{stackSize:D,threeBetterPosition:n,calculation:"0.5 + 1 + 2 + 15",potSize:a=18.5}):console.log("\uD83C\uDFAF vs3bet その他 3ベッター計算:",{stackSize:D,threeBetterPosition:n,calculation:"0.5 + 1 + 1 + 2 + 15",potSize:a=19.5}):"vs4bet"===w?(console.log("\uD83C\uDFAF vs4ベット計算開始（その他）:",{stackSize:D,position:C,actionType:w}),"40BB"===D?"SB"===C?a=38.3:"BB"===C?(console.log("\uD83C\uDFAF 40BB BBの場合の計算（その他）:",{stackSize:D,position:C}),console.log("\uD83C\uDFAF 40BB BB計算結果（その他）:",{calculation:"6.3 + 30 + 0.5 + 1 - 1",result:a=37.8})):a=38.8:"SB"===C?a=38.3:"BB"===C?(console.log("\uD83C\uDFAF BBの場合の計算（その他）:",{stackSize:D,position:C}),console.log("\uD83C\uDFAF BB計算結果（その他）:",{calculation:"6.3 + 30 + 0.5 + 1 - 1",result:a=37.8})):a=38.8,a=Math.round(10*a)/10,console.log("\uD83C\uDFAF ".concat(D," vs4ベットポット計算（その他）:"),{stackSize:D,heroPosition:C,threeBetChip:6.3,fourBetChip:30,smallBlindChip:"SB"===C?0:.5,ante:1,total:a})):"vs5bet"===w&&(a=71),U({...{id:Math.random().toString(),description:"エフェクティブスタック:".concat(D," - ").concat("openraise"===w?"30BB"===D?"オープンレイズ(2.1BB)":"オープンレイズ":"vsopen"===w?"BTN"===n&&"15BB"===D?"vs ".concat(n||"UTG","のリンプ(1BB)"):"30BB"===D?"vs ".concat(n||"UTG","のオープン(2.1BB)"):"vs ".concat(n||"UTG","のオープン(2.5BB)"):"vs3bet"===w?"30BB"===D&&n?"vs ".concat(n,"の3ベット(").concat(i,"BB)"):"vs 3ベット":"vs4bet"===w?"vs 4ベット":"vs5bet"===w?"vs 5ベット":"ランダム"),heroPosition:C,heroHand:t,potSize:a,..."vs3bet"===w&&{_debug:{actionType:w,stackSize:D,openRaiseSize:l,threeBetSize:i,calculatedPotSize:a,expectedPotSize:l+i+.5+1}},correctAction:o.correctAction,evData:o.evData,frequencies:o.frequencies,correctBetSize:r,stackDepth:D,actionType:w,openRaiserPosition:"vs3bet"===w?C:n,openRaiseSize:l,threeBetSize:"vs3bet"===w||"vs4bet"===w?"vs3bet"===w&&"15BB"===D?15:i:void 0,threeBetterPosition:"vs3bet"===w?n:"vs4bet"===w?C:void 0,positions:(()=>{var e;let t=parseInt(D),s=t;"vs3bet"===w&&n&&("15BB"===D?s=0:"30BB"===D&&(s="SB"===n?29.5-i:"BB"===n?29-i:30-i));let o={UTG:{active:!0,stack:"UTG"===n?s:t,isHero:"UTG"===C},UTG1:{active:!0,stack:"UTG1"===n?s:t,isHero:"UTG1"===C},LJ:{active:!0,stack:"LJ"===n?s:t,isHero:"LJ"===C},HJ:{active:!0,stack:"HJ"===n?s:t,isHero:"HJ"===C},CO:{active:!0,stack:"CO"===n?s:t,isHero:"CO"===C},BTN:{active:!0,stack:"BTN"===n?s:t,isHero:"BTN"===C},SB:{active:!0,stack:"SB"===n?s:t-.5,isHero:"SB"===C},BB:{active:!0,stack:"BB"===n?s:t-1,isHero:"BB"===C}};return console.log("\uD83C\uDFAF 根本的実装: actionType=".concat(w,", openerPosition=").concat(n,", threeBetterStack=").concat(s,", threeBetSize=").concat(i)),console.log("\uD83C\uDFAF ".concat(n,"のスタック: ").concat((null===(e=o[n])||void 0===e?void 0:e.stack)||"N/A")),o})()},id:Date.now().toString()})};(0,o.useEffect)(()=>{let e=()=>{eu(window.innerWidth<768)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]),(0,o.useEffect)(()=>{eB()},[C,D,w,I,V]),(0,o.useEffect)(()=>{if(q&&"vs3bet"===q.actionType&&q.threeBetterPosition&&q.positions){let e;console.log("\uD83D\uDD0D useEffect: vs3ベットスタック監視開始"),console.log("\uD83D\uDD0D spot詳細:",{actionType:q.actionType,threeBetterPosition:q.threeBetterPosition,stackDepth:q.stackDepth,threeBetSize:q.threeBetSize,currentStack:q.positions[q.threeBetterPosition].stack}),e="15BB"===q.stackDepth?0:"30BB"===q.stackDepth?"SB"===q.threeBetterPosition?29.5-(q.threeBetSize||0):"BB"===q.threeBetterPosition?29-(q.threeBetSize||0):30-(q.threeBetSize||0):30-(q.threeBetSize||0);let t=q.positions[q.threeBetterPosition].stack;if(console.log("\uD83D\uDD0D 計算詳細: stackDepth=".concat(q.stackDepth,", threeBetSize=").concat(q.threeBetSize,", threeBetterPosition=").concat(q.threeBetterPosition,", expectedStack=").concat(e)),t!==e){console.log("\uD83D\uDEA8 スタック不一致を検出: 期待値=".concat(e,", 現在値=").concat(t));let s={...q,positions:{...q.positions,[q.threeBetterPosition]:{...q.positions[q.threeBetterPosition],stack:e}}};console.log("\uD83D\uDD27 スタックを修正: ".concat(q.threeBetterPosition," = ").concat(e)),console.log("\uD83D\uDD27 修正後のspot確認:",{threeBetterPosition:s.threeBetterPosition,stack:s.positions[s.threeBetterPosition].stack}),U(s)}else console.log("✅ スタックは正しい: ".concat(q.threeBetterPosition," = ").concat(t))}},[q]),(0,o.useEffect)(()=>{let e=localStorage.getItem("mtt-custom-ranges");if(e)try{let t=JSON.parse(e);console.log("\uD83D\uDCC2 localStorageからカスタムレンジを読み込み:",t),Y(t)}catch(e){console.error("カスタムレンジの読み込みに失敗しました:",e)}else console.log("\uD83D\uDCC2 localStorageにカスタムレンジが見つかりません")},[]),(0,o.useEffect)(()=>{let e=async()=>{try{let e=await fetch("/api/mtt-ranges");if(e.ok){let t=await e.json();if(t.ranges&&Object.keys(t.ranges).length>0){let e=localStorage.getItem("mtt-custom-ranges"),s=localStorage.getItem("mtt-ranges-timestamp"),n=!1;if(e?!s||t.lastUpdated&&t.lastUpdated>s?n=!0:Object.keys(t.ranges).length>Object.keys(JSON.parse(e)).length&&(n=!0):n=!0,n){Y(t.ranges),localStorage.setItem("mtt-custom-ranges",JSON.stringify(t.ranges)),localStorage.setItem("mtt-ranges-timestamp",t.lastUpdated||new Date().toISOString()),console.log("✅ システムAPIからレンジデータを自動同期しました（管理者設定レンジ）"),console.log("\uD83C\uDFAF システムAPIレンジ詳細:",{rangeKeys:Object.keys(t.ranges),rangeCount:Object.keys(t.ranges).length,sampleRange:Object.keys(t.ranges)[0]?t.ranges[Object.keys(t.ranges)[0]]:null});return}console.log("\uD83D\uDCCB システムレンジは最新です")}}console.log("APIからの読み込みが失敗したため、データファイルから読み込みます...");let t=await fetch("/data/mtt-ranges.json");if(t.ok){let e=await t.json();if(e.ranges&&Object.keys(e.ranges).length>0){let t=localStorage.getItem("mtt-custom-ranges"),s=localStorage.getItem("mtt-ranges-timestamp"),n=!1;t?!s||e.lastUpdated&&e.lastUpdated>s?n=!0:Object.keys(e.ranges).length>Object.keys(JSON.parse(t)).length&&(n=!0):n=!0,n?(Y(e.ranges),localStorage.setItem("mtt-custom-ranges",JSON.stringify(e.ranges)),localStorage.setItem("mtt-ranges-timestamp",e.lastUpdated||new Date().toISOString()),console.log("✅ データファイルからレンジデータを自動同期しました（".concat(Object.keys(e.ranges).length,"ポジション）")),console.log("\uD83C\uDFAF ファイルレンジ詳細:",{rangeKeys:Object.keys(e.ranges),rangeCount:Object.keys(e.ranges).length,sampleRange:Object.keys(e.ranges)[0]?e.ranges[Object.keys(e.ranges)[0]]:null})):console.log("\uD83D\uDCCB ファイルレンジは最新です")}}}catch(e){console.log("自動レンジ読み込みエラー:",e.message),localStorage.getItem("mtt-custom-ranges")||(console.log("緊急フォールバック: 基本レンジを設定します"),Y({UTG:{AA:{action:"RAISE",frequency:100}},BTN:{AA:{action:"RAISE",frequency:100}}}))}};e(),console.log("\uD83C\uDFAF カスタムレンジ読み込み状況確認:",{hasCustomRanges:!!V,customRangesKeys:V?Object.keys(V):[],customRangesCount:V?Object.keys(V).length:0,localStorageRanges:localStorage.getItem("mtt-custom-ranges")?"存在":"なし",localStorageTimestamp:localStorage.getItem("mtt-ranges-timestamp")||"なし"});let t=setInterval(()=>{e()},3e4);return()=>clearInterval(t)},[]);let ep=async(e,n)=>{let o={...V,[e]:n};if(e.endsWith("_15BB")){let t=e.replace("_15BB","");o[t]=n,console.log("15BB互換性: 既存レンジキーも更新",{basePosition:t,position:e})}else if(e.includes("vsopen_")&&e.endsWith("_15BB")){let t=e.replace("_15BB","");o[t]=n,console.log("15BB互換性: 既存vsオープンレンジキーも更新",{baseVsOpenKey:t,position:e})}else if(e.startsWith("vs3bet_")&&e.endsWith("_15BB")){let t=e.replace("_15BB","");o[t]=n,console.log("15BB互換性: 既存vs3ベットレンジキーも更新",{baseVs3BetKey:t,position:e})}else if(e.startsWith("vs4bet_")&&e.endsWith("_15BB")){let t=e.replace("_15BB","");o[t]=n,console.log("15BB互換性: 既存vs4ベットレンジキーも更新",{baseVs4BetKey:t,position:e})}else if(!e.includes("_")&&!e.startsWith("vsopen_")&&"15BB"!==D){let t="".concat(e,"_").concat(D);o[t]=n,delete o[e],console.log("スタック固有レンジ保存",{position:e,stackSpecificKey:t})}Y(o);try{localStorage.setItem("mtt-custom-ranges",JSON.stringify(o)),localStorage.setItem("mtt-ranges-timestamp",new Date().toISOString()),console.log("".concat(e,"ポジションのカスタムレンジを保存しました"))}catch(e){console.error("カスタムレンジの保存に失敗しました:",e)}if(t&&s)try{let e=await fetch("/api/mtt-ranges",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(s)},body:JSON.stringify({ranges:o,metadata:{creator:"MTT Admin System",timestamp:new Date().toISOString()}})});if(e.ok){let t=await e.json();console.log("✅ システム全体に自動保存完了: ".concat(t.metadata.totalPositions,"ポジション、").concat(t.metadata.totalHands,"ハンド"))}else{let t=await e.json();console.error("システム保存エラー:",t.error||"保存に失敗しました")}}catch(e){console.error("システム保存エラー:",e)}},ef=async()=>{if(!t||!s){alert("❌ 管理者権限が必要です。");return}if(0===Object.keys(V).length){alert("保存するレンジデータがありません。");return}try{let e=await fetch("/api/mtt-ranges",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(s)},body:JSON.stringify({ranges:V,metadata:{creator:"MTT Admin System",timestamp:new Date().toISOString()}})});if(e.ok){let t=await e.json();alert("✅ システム全体に保存完了！\n".concat(t.metadata.totalPositions,"ポジション、").concat(t.metadata.totalHands,"ハンドを保存しました。"))}else{let t=await e.json();throw Error(t.error||"保存に失敗しました")}}catch(e){console.error("システム保存エラー:",e),alert("❌ システムへの保存に失敗しました: ".concat(e.message))}},eL=async()=>{if(!t||!s){alert("❌ 管理者権限が必要です。");return}try{let e=await fetch("/api/mtt-ranges",{headers:{Authorization:"Bearer ".concat(s)}});if(e.ok){let t=await e.json();t.ranges&&Object.keys(t.ranges).length>0?confirm("システムデータを読み込みますか？\n".concat(t.metadata.totalPositions,"ポジション、").concat(t.metadata.totalHands,"ハンドが存在します。\n現在のローカルデータは上書きされます。"))&&(Y(t.ranges),localStorage.setItem("mtt-custom-ranges",JSON.stringify(t.ranges)),alert("✅ システムデータを正常に読み込みました！")):alert("❌ システムに保存されたレンジデータが見つかりません。")}else{let t=await e.json();throw Error(t.error||"データの読み込みに失敗しました")}}catch(e){console.error("システム読み込みエラー:",e),alert("❌ システムからの読み込みに失敗しました: ".concat(e.message))}},ev=async()=>{if(!t||!s){alert("❌ 管理者権限が必要です。");return}if(confirm("⚠️ システム全体のレンジデータを削除しますか？\nこの操作は全てのユーザーに影響し、取り消せません。"))try{let e=await fetch("/api/mtt-ranges",{method:"DELETE",headers:{Authorization:"Bearer ".concat(s)}});if(e.ok)alert("✅ システム全体のレンジデータを削除しました。");else{let t=await e.json();throw Error(t.error||"削除に失敗しました")}}catch(e){console.error("システム削除エラー:",e),alert("❌ システムデータの削除に失敗しました: ".concat(e.message))}},ey=e=>{console.log("レンジエディターボタン押下:",e);let t=e;if(e.endsWith("_15BB")){let s=e.replace("_15BB","");V[s]&&!V[e]&&(t=s,console.log("15BB互換性: 既存レンジキーを使用",{basePosition:s,targetPosition:t}))}else if(e.startsWith("vsopen_")&&e.endsWith("_15BB")){let s=e.replace("_15BB","");V[s]&&!V[e]&&(t=s,console.log("15BB互換性: 既存vsオープンレンジキーを使用",{baseVsOpenKey:s,targetPosition:t}))}else if(e.startsWith("vs3bet_")&&e.endsWith("_15BB")){let s=e.replace("_15BB","");V[s]&&!V[e]&&(t=s,console.log("15BB互換性: 既存vs3ベットレンジキーを使用",{baseVs3BetKey:s,targetPosition:t}))}else if(e.startsWith("vs4bet_")&&e.endsWith("_15BB")){let s=e.replace("_15BB","");V[s]&&!V[e]&&(t=s,console.log("15BB互換性: 既存vs4ベットレンジキーを使用",{baseVs4BetKey:s,targetPosition:t}))}$(t),X(!0),setTimeout(()=>{console.log("showRangeEditor:",Q,"selectedEditPosition:",t)},100)},eA=e=>{var t;k(e);let s=e.split(" ")[0],n=(null==P?void 0:null===(t=P.correctAction)||void 0===t?void 0:t.split(" ")[0])||"",o=s===("MIN"===n?"RAISE":n);if((null==P?void 0:P.frequencies)&&e in P.frequencies){let t=P.frequencies[e];o=t>=30||t>=10}z(o),H(!0),G(e=>e+1),o&&K(e=>e+1)},eS=()=>{N(),k(null),z(!1),H(!1),eB()},ej=()=>{k(null),z(!1),H(!1),q&&U({...q,id:Math.random().toString()})};return q?(0,n.jsx)(g.a,{children:(0,n.jsxs)("div",{className:"relative",children:[!t&&!ed&&(0,n.jsx)("button",{className:"absolute top-4 right-4 z-50 px-4 py-2 bg-red-600 hover:bg-red-700 text-white rounded-lg shadow-lg font-bold",onClick:()=>er(!0),children:"管理者ログイン"}),t&&a&&!ed&&(0,n.jsx)("div",{className:"absolute top-4 right-4 z-50 bg-green-800 rounded-lg shadow-lg p-3 border border-green-600",children:(0,n.jsxs)("div",{className:"flex items-center gap-3",children:[(0,n.jsxs)("div",{className:"text-green-300 text-sm",children:[(0,n.jsxs)("div",{className:"flex items-center gap-1",children:[(0,n.jsx)("span",{className:"text-green-400",children:"\uD83D\uDD12"}),(0,n.jsx)("span",{className:"font-semibold",children:a.username})]}),(0,n.jsx)("div",{className:"text-xs text-green-200",children:"管理者でログイン中"})]}),(0,n.jsx)("button",{onClick:()=>{l(),alert("ログアウトしました")},className:"px-3 py-1 bg-red-600 hover:bg-red-700 text-white rounded text-sm font-medium transition-colors duration-200",children:"ログアウト"})]})}),eo&&(0,n.jsx)(m,{onClose:()=>er(!1)}),!c&&(0,n.jsx)("div",{className:"fixed top-4 left-1/2 transform -translate-x-1/2 z-50 bg-red-600 text-white px-6 py-3 rounded-lg shadow-lg border border-red-500",children:(0,n.jsxs)("div",{className:"flex items-center gap-2",children:[(0,n.jsx)("span",{className:"text-xl",children:"⚠️"}),(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"font-semibold",children:"今日の練習上限に達しました"}),(0,n.jsx)("div",{className:"text-sm",children:"プランアップグレードで無制限練習が可能です"})]})]})}),j!==1/0&&(0,n.jsx)("div",{className:"fixed top-4 left-4 z-50 bg-blue-600 text-white px-4 py-2 rounded-lg shadow-lg",children:(0,n.jsxs)("div",{className:"text-sm",children:[(0,n.jsx)("span",{className:"font-semibold",children:"練習回数:"})," ",S,"/",j]})}),(0,n.jsx)("div",{className:"min-h-screen bg-black md:bg-gray-900 text-white p-4",children:(0,n.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,n.jsxs)("div",{className:"mb-4 hidden md:flex justify-between items-center",children:[(0,n.jsx)("h1",{className:"text-2xl font-bold",children:"MTTプリフロップトレーニング"}),(0,n.jsxs)("div",{className:"flex items-center gap-4",children:[(0,n.jsxs)("div",{className:"flex items-center gap-2 text-sm text-gray-300",children:[(0,n.jsx)("span",{className:"bg-blue-600/20 px-3 py-1 rounded-full border border-blue-500/30",children:D}),(0,n.jsx)("span",{className:"bg-green-600/20 px-3 py-1 rounded-full border border-green-500/30",children:C}),(0,n.jsx)("span",{className:"bg-purple-600/20 px-3 py-1 rounded-full border border-purple-500/30",children:"open"===w?"オープンレイズ":"vsopen"===w?"vsオープン":"vs3bet"===w?"vs3ベット":"vs4ベット"})]}),(0,n.jsx)(h.default,{href:"/trainer/mtt?".concat(new URLSearchParams({stack:D,position:C,action:w,...F.length>0?{hands:encodeURIComponent(F.join(","))}:{}}).toString()),className:"px-3 py-1 bg-gray-700 rounded hover:bg-gray-600 text-sm",children:"← 戻る"})]})]}),(0,n.jsx)("div",{className:"mb-1 md:hidden",children:(0,n.jsx)("div",{className:"flex justify-start py-0"})}),t&&(0,n.jsxs)("div",{className:"bg-gradient-to-r from-purple-900/30 to-blue-900/30 rounded-lg p-4 mb-4 border border-purple-700/50",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{children:[(0,n.jsxs)("h3",{className:"text-lg font-semibold text-white mb-1",children:["レンジをカスタマイズ ",(0,n.jsx)("span",{className:"text-xs bg-red-600 px-2 py-1 rounded",children:"管理者限定"})]}),(0,n.jsxs)("p",{className:"text-sm text-gray-300",children:["各ポジションの",D,"オープンレイズレンジを設定できます"]}),(0,n.jsx)("p",{className:"text-xs text-blue-300 mt-1",children:"\uD83D\uDCA1 ハンド形式: K9s, ATo, QQ など（9Ks → K9s に自動変換されます）"}),Object.keys(V).filter(e=>e.endsWith("_".concat(D))||!e.includes("_")).length>0&&(0,n.jsxs)("div",{className:"text-xs text-green-400 mt-1",children:[D,"カスタムレンジ設定済み: ",Object.keys(V).filter(e=>e.endsWith("_".concat(D))||!e.includes("_")&&"15BB"===D).length,"レンジ"]})]}),(0,n.jsx)("div",{className:"flex gap-2 flex-wrap",children:["UTG","UTG1","LJ","HJ","CO","BTN","SB"].map(e=>{let t="".concat(e,"_").concat(D),s=V[t]||"15BB"===D&&V[e];return(0,n.jsxs)("button",{onClick:()=>ey(t),className:"px-3 py-2 rounded-lg text-sm font-semibold transition-all duration-200 ".concat(s?"bg-green-600 hover:bg-green-700 text-white border-2 border-green-400":"bg-purple-600 hover:bg-purple-700 text-white border-2 border-transparent"),title:"".concat(e,"ポジション ").concat(D,"スタックのレンジ設定"),children:[e,s&&" ✓"]},e)})})]}),(0,n.jsxs)("div",{className:"mt-4 pt-4 border-t border-purple-600/30",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h4",{className:"text-sm font-semibold text-white mb-1",children:"\uD83D\uDCBE データ永続保存"}),(0,n.jsx)("p",{className:"text-xs text-gray-400",children:"レンジデータをファイルで保存・復元できます（ブラウザに依存しない永続保存）"})]}),(0,n.jsxs)("div",{className:"flex gap-2 flex-wrap",children:[(0,n.jsxs)("button",{onClick:()=>{try{let e=JSON.stringify(V,null,2),t=new Blob([e],{type:"application/json"}),s=URL.createObjectURL(t),n=document.createElement("a");n.href=s,n.download="mtt-custom-ranges-".concat(new Date().toISOString().split("T")[0],".json"),document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(s)}catch(e){console.error("レンジのエクスポートに失敗しました:",e),alert("エクスポートに失敗しました。")}},disabled:0===Object.keys(V).length,className:"px-3 py-2 rounded-lg text-xs font-medium transition-all duration-200 flex items-center gap-1 ".concat(Object.keys(V).length>0?"bg-blue-600 hover:bg-blue-700 text-white border border-blue-500":"bg-gray-600 text-gray-400 cursor-not-allowed border border-gray-500"),children:[(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M9 19l3 3m0 0l3-3m3 3V10"})}),"エクスポート"]}),(0,n.jsxs)("label",{className:"px-3 py-2 rounded-lg text-xs font-medium bg-green-600 hover:bg-green-700 text-white border border-green-500 cursor-pointer transition-all duration-200 flex items-center gap-1",children:[(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),"インポート",(0,n.jsx)("input",{type:"file",accept:".json",onChange:e=>{var t;let s=null===(t=e.target.files)||void 0===t?void 0:t[0];if(!s)return;let n=new FileReader;n.onload=e=>{try{var t;let s=JSON.parse(null===(t=e.target)||void 0===t?void 0:t.result);if("object"==typeof s&&null!==s)Y(s),localStorage.setItem("mtt-custom-ranges",JSON.stringify(s)),alert("レンジを正常にインポートしました。");else throw Error("無効なファイル形式です。")}catch(e){console.error("レンジのインポートに失敗しました:",e),alert("ファイルの読み込みに失敗しました。正しいフォーマットのファイルか確認してください。")}},n.readAsText(s),e.target.value=""},className:"hidden"})]}),(0,n.jsxs)("button",{onClick:()=>{confirm("全てのカスタムレンジを削除しますか？この操作は取り消せません。")&&(Y({}),localStorage.removeItem("mtt-custom-ranges"),alert("全てのカスタムレンジを削除しました。"))},disabled:0===Object.keys(V).length,className:"px-3 py-2 rounded-lg text-xs font-medium transition-all duration-200 flex items-center gap-1 ".concat(Object.keys(V).length>0?"bg-red-600 hover:bg-red-700 text-white border border-red-500":"bg-gray-600 text-gray-400 cursor-not-allowed border border-gray-500"),children:[(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"全削除"]})]})]}),t&&(0,n.jsx)("div",{className:"mt-4 pt-3 border-t border-red-600/30 bg-red-900/10 rounded-lg p-3",children:(0,n.jsxs)("div",{className:"flex items-center justify-between",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h4",{className:"text-sm font-semibold text-red-300 mb-1 flex items-center",children:"\uD83D\uDD12 管理者専用システム管理"}),(0,n.jsx)("p",{className:"text-xs text-gray-400",children:"重要なシステム - 全てのweb・環境で共有される永続データ保存"})]}),(0,n.jsxs)("div",{className:"flex gap-2 flex-wrap",children:[(0,n.jsxs)("button",{onClick:ef,disabled:0===Object.keys(V).length,className:"px-3 py-2 rounded-lg text-xs font-medium transition-all duration-200 flex items-center gap-1 ".concat(Object.keys(V).length>0?"bg-red-600 hover:bg-red-700 text-white border border-red-500":"bg-gray-600 text-gray-400 cursor-not-allowed border border-gray-500"),children:[(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4"})}),"システム保存"]}),(0,n.jsxs)("button",{onClick:eL,className:"px-3 py-2 rounded-lg text-xs font-medium bg-orange-600 hover:bg-orange-700 text-white border border-orange-500 transition-all duration-200 flex items-center gap-1",children:[(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),"システム読み込み"]}),(0,n.jsxs)("button",{onClick:()=>{fetch("/data/mtt-ranges.json").then(e=>e.json()).then(e=>{e.ranges?(Y(e.ranges),localStorage.setItem("mtt-custom-ranges",JSON.stringify(e.ranges)),alert("✅ データファイルから読み込み完了！\n".concat(Object.keys(e.ranges).length,"ポジション分のレンジを読み込みました。")),window.location.reload()):alert("❌ データファイルの形式が正しくありません")}).catch(e=>{console.error("データファイル読み込みエラー:",e),alert("❌ データファイルの読み込みに失敗しました: ".concat(e.message))})},className:"px-3 py-2 rounded-lg text-xs font-medium bg-green-600 hover:bg-green-700 text-white border border-green-500 transition-all duration-200 flex items-center gap-1",children:[(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"データファイル読み込み"]}),(0,n.jsxs)("button",{onClick:ev,className:"px-3 py-2 rounded-lg text-xs font-medium bg-red-800 hover:bg-red-900 text-white border border-red-700 transition-all duration-200 flex items-center gap-1",children:[(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-3 w-3",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"システム削除"]})]})]})})]})]}),t&&"vsopen"===w&&(0,n.jsxs)("div",{className:"bg-gradient-to-r from-green-900/30 to-blue-900/30 rounded-lg p-4 mb-4 border border-green-700/50",children:[(0,n.jsx)("div",{className:"flex items-center justify-between",children:(0,n.jsxs)("div",{children:[(0,n.jsxs)("h3",{className:"text-lg font-semibold text-white mb-1",children:["vs オープンレンジをカスタマイズ (",D,") ",(0,n.jsx)("span",{className:"text-xs bg-red-600 px-2 py-1 rounded",children:"管理者限定"})]}),(0,n.jsxs)("p",{className:"text-sm text-gray-300",children:["現在の",D,"スタックでのヒーローポジションとオープンレイザーの組み合わせでレンジを設定できます"]}),(0,n.jsx)("p",{className:"text-xs text-green-300 mt-1",children:"\uD83D\uDCA1 オープンに対してFOLD/CALL/RAISE/ALL INの頻度を設定します"}),Object.keys(V).filter(e=>e.startsWith("vsopen_")&&(e.endsWith("_".concat(D))||"15BB"===D&&!e.includes("_10BB")&&!e.includes("_20BB")&&!e.includes("_30BB")&&!e.includes("_40BB")&&!e.includes("_50BB")&&!e.includes("_75BB"))).length>0&&(0,n.jsxs)("div",{className:"text-xs text-green-400 mt-1",children:[D,"カスタムvsオープンレンジ設定済み: ",Object.keys(V).filter(e=>e.startsWith("vsopen_")&&(e.endsWith("_".concat(D))||"15BB"===D&&!e.includes("_10BB")&&!e.includes("_20BB")&&!e.includes("_30BB")&&!e.includes("_40BB")&&!e.includes("_50BB")&&!e.includes("_75BB"))).length,"レンジ"]})]})}),(0,n.jsxs)("div",{className:"mt-4",children:[(0,n.jsxs)("h4",{className:"text-sm font-semibold text-white mb-3",children:[D,"スタックでのヒーローポジション別vsオープンレンジ設定："]}),(0,n.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:["UTG1","LJ","HJ","CO","BTN","SB","BB"].map(e=>{let t=f(e);return 0===t.length?null:(0,n.jsxs)("div",{className:"bg-gray-800/50 rounded-lg p-3 border border-gray-600",children:[(0,n.jsxs)("div",{className:"text-sm font-semibold text-green-400 mb-2",children:[e," (ヒーロー)"]}),(0,n.jsx)("div",{className:"text-xs text-gray-300 mb-2",children:"SB"===e||"BB"===e?"BTNからのアクションに対する設定:":"vs オープンレイザー:"}),(0,n.jsx)("div",{className:"flex flex-wrap gap-1",children:t.map(t=>{let s="vsopen_".concat(e,"_vs_").concat(t,"_").concat(D),o="15BB"===D?"vsopen_".concat(e,"_vs_").concat(t):null,r=V[s]||o&&V[o],a="BTN"===t&&"15BB"===D&&("SB"===e||"BB"===e)?"".concat(t,"がリンプ→").concat(e,"（あなた）のアクション"):t;return(0,n.jsxs)("button",{onClick:()=>ey(s),className:"px-2 py-1 rounded text-xs font-medium transition-all duration-200 ".concat(r?"bg-green-600 hover:bg-green-700 text-white border-2 border-green-400":"bg-blue-600 hover:bg-blue-700 text-white border-2 border-transparent"),title:"".concat(e," vs ").concat(t,"の{stackSize}スタックレンジ設定"),children:[a,r&&" ✓"]},t)})})]},e)})}),(0,n.jsxs)("div",{className:"mt-4 p-3 bg-blue-900/20 border border-blue-600/30 rounded text-xs",children:[(0,n.jsxs)("div",{className:"text-blue-400 font-semibold mb-1",children:["\uD83D\uDCA1 vs オープンレンジの特徴 (",D,"スタック固有)"]}),(0,n.jsxs)("div",{className:"text-gray-300",children:["• ",(0,n.jsx)("strong",{children:"スタック依存:"})," ",D,"スタック専用のレンジ設定",(0,n.jsx)("br",{}),"• ",(0,n.jsx)("strong",{children:"ポジション依存:"})," ヒーローより前のポジションからのオープンのみ対応",(0,n.jsx)("br",{}),"• ",(0,n.jsx)("strong",{children:"アクション選択:"})," FOLD（フォールド）、CALL（コール）、RAISE（レイズ）、ALL IN（オールイン）",(0,n.jsx)("br",{}),"• ",(0,n.jsx)("strong",{children:"混合戦略:"})," 右クリックで詳細な頻度設定（例：CALL 60%, FOLD 40%）"]})]})]})]}),t&&"vs3bet"===w&&(0,n.jsxs)("div",{className:"bg-gradient-to-r from-orange-900/30 to-red-900/30 rounded-lg p-4 mb-4 border border-orange-700/50",children:[(0,n.jsx)("div",{className:"flex items-center justify-between",children:(0,n.jsxs)("div",{children:[(0,n.jsxs)("h3",{className:"text-lg font-semibold text-white mb-1",children:["vs 3ベットレンジをカスタマイズ (",D,") ",(0,n.jsx)("span",{className:"text-xs bg-red-600 px-2 py-1 rounded",children:"管理者限定"})]}),(0,n.jsxs)("p",{className:"text-sm text-gray-300",children:["現在の",D,"スタックでのオープンレイザーと3ベッターの組み合わせでレンジを設定できます"]}),(0,n.jsx)("p",{className:"text-xs text-orange-300 mt-1",children:"\uD83D\uDCA1 3ベットに対してFOLD/CALL/RAISE(4bet)/ALL INの頻度を設定します"}),Object.keys(V).filter(e=>e.startsWith("vs3bet_")&&(e.endsWith("_".concat(D))||"15BB"===D&&!e.includes("_10BB")&&!e.includes("_20BB")&&!e.includes("_30BB")&&!e.includes("_40BB")&&!e.includes("_50BB")&&!e.includes("_75BB"))).length>0&&(0,n.jsxs)("div",{className:"text-xs text-orange-400 mt-1",children:[D,"カスタムvs3ベットレンジ設定済み: ",Object.keys(V).filter(e=>e.startsWith("vs3bet_")&&(e.endsWith("_".concat(D))||"15BB"===D&&!e.includes("_10BB")&&!e.includes("_20BB")&&!e.includes("_30BB")&&!e.includes("_40BB")&&!e.includes("_50BB")&&!e.includes("_75BB"))).length,"レンジ"]})]})}),(0,n.jsxs)("div",{className:"mt-4",children:[(0,n.jsxs)("h4",{className:"text-sm font-semibold text-white mb-3",children:[D,"スタックでのオープンレイザー別vs3ベットレンジ設定："]}),(0,n.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:["UTG","UTG1","LJ","HJ","CO","BTN","SB"].map(e=>{let t=(e=>{let t=p(e);return t>=B.length-1?[]:B.slice(t+1)})(e);return 0===t.length?null:(0,n.jsxs)("div",{className:"bg-gray-800/50 rounded-lg p-3 border border-gray-600",children:[(0,n.jsxs)("div",{className:"text-sm font-semibold text-orange-400 mb-2",children:[e," (オープンレイザー)"]}),(0,n.jsx)("div",{className:"text-xs text-gray-300 mb-2",children:"3ベッターからの攻撃に対する対応:"}),(0,n.jsx)("div",{className:"flex flex-wrap gap-1",children:t.map(t=>{let s="vs3bet_".concat(e,"_vs_").concat(t,"_").concat(D),o="15BB"===D?"vs3bet_".concat(e,"_vs_").concat(t):null,r=V[s]||o&&V[o];return(0,n.jsxs)("button",{onClick:()=>ey(s),className:"px-2 py-1 rounded text-xs font-medium transition-all duration-200 ".concat(r?"bg-orange-600 hover:bg-orange-700 text-white border-2 border-orange-400":"bg-gray-600 hover:bg-gray-700 text-white border-2 border-transparent"),title:"".concat(e," vs ").concat(t,"の").concat(D,"スタックvs3ベットレンジ設定"),children:[t,r&&" ✓"]},t)})})]},e)})}),(0,n.jsxs)("div",{className:"mt-4 p-3 bg-orange-900/20 border border-orange-600/30 rounded text-xs",children:[(0,n.jsxs)("div",{className:"text-orange-400 font-semibold mb-1",children:["\uD83D\uDCA1 vs 3ベットレンジの特徴 (",D,"スタック固有)"]}),(0,n.jsxs)("div",{className:"text-gray-300",children:["• ",(0,n.jsx)("strong",{children:"スタック依存:"})," ",D,"スタック専用のレンジ設定",(0,n.jsx)("br",{}),"• ",(0,n.jsx)("strong",{children:"ポジション依存:"})," オープンレイザーが後のポジションからの3ベットに対する反応戦略",(0,n.jsx)("br",{}),"• ",(0,n.jsx)("strong",{children:"アクション選択:"})," FOLD（フォールド）、CALL（コール）、RAISE（4ベット）、ALL IN（オールイン）",(0,n.jsx)("br",{}),"• ",(0,n.jsx)("strong",{children:"混合戦略:"})," 右クリックで詳細な頻度設定（例：CALL 70%, FOLD 30%）"]})]})]})]}),t&&"vs4bet"===w&&(0,n.jsxs)("div",{className:"bg-gradient-to-r from-red-900/30 to-pink-900/30 rounded-lg p-4 mb-4 border border-red-700/50",children:[(0,n.jsx)("div",{className:"flex items-center justify-between",children:(0,n.jsxs)("div",{children:[(0,n.jsxs)("h3",{className:"text-lg font-semibold text-white mb-1",children:["vs 4ベットレンジをカスタマイズ (",D,") ",(0,n.jsx)("span",{className:"text-xs bg-red-600 px-2 py-1 rounded",children:"管理者限定"})]}),(0,n.jsxs)("p",{className:"text-sm text-gray-300",children:["現在の",D,"スタックでの3ベッターと4ベッターの組み合わせでレンジを設定できます"]}),(0,n.jsx)("p",{className:"text-xs text-red-300 mt-1",children:"\uD83D\uDCA1 4ベットに対してFOLD/CALL/ALL IN(5bet)の頻度を設定します"}),Object.keys(V).filter(e=>e.startsWith("vs4bet_")&&(e.endsWith("_".concat(D))||"15BB"===D&&!e.includes("_10BB")&&!e.includes("_20BB")&&!e.includes("_30BB")&&!e.includes("_40BB")&&!e.includes("_50BB")&&!e.includes("_75BB"))).length>0&&(0,n.jsxs)("div",{className:"text-xs text-red-400 mt-1",children:[D,"カスタムvs4ベットレンジ設定済み: ",Object.keys(V).filter(e=>e.startsWith("vs4bet_")&&(e.endsWith("_".concat(D))||"15BB"===D&&!e.includes("_10BB")&&!e.includes("_20BB")&&!e.includes("_30BB")&&!e.includes("_40BB")&&!e.includes("_50BB")&&!e.includes("_75BB"))).length,"レンジ"]})]})}),(0,n.jsxs)("div",{className:"mt-4",children:[(0,n.jsxs)("h4",{className:"text-sm font-semibold text-white mb-3",children:[D,"スタックでの3ベッター別vs4ベットレンジ設定："]}),(0,n.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3",children:["UTG1","LJ","HJ","CO","BTN","SB","BB"].map(e=>{let t=(e=>{let t=p(e);return t<=0?[]:B.slice(0,t)})(e);return 0===t.length?null:(0,n.jsxs)("div",{className:"bg-gray-800/50 rounded-lg p-3 border border-gray-600",children:[(0,n.jsxs)("div",{className:"text-sm font-semibold text-red-400 mb-2",children:[e," (3ベッター)"]}),(0,n.jsx)("div",{className:"text-xs text-gray-300 mb-2",children:"4ベッターからの攻撃に対する対応:"}),(0,n.jsx)("div",{className:"flex flex-wrap gap-1",children:t.map(t=>{let s="vs4bet_".concat(e,"_vs_").concat(t,"_").concat(D),o="15BB"===D?"vs4bet_".concat(e,"_vs_").concat(t):null,r=V[s]||o&&V[o];return(0,n.jsxs)("button",{onClick:()=>ey(s),className:"px-2 py-1 rounded text-xs font-medium transition-all duration-200 ".concat(r?"bg-red-600 hover:bg-red-700 text-white border-2 border-red-400":"bg-gray-600 hover:bg-gray-700 text-white border-2 border-transparent"),title:"".concat(e," vs ").concat(t,"の").concat(D,"スタックvs4ベットレンジ設定"),children:[t,r&&" ✓"]},t)})})]},e)})}),(0,n.jsxs)("div",{className:"mt-4 p-3 bg-red-900/20 border border-red-600/30 rounded text-xs",children:[(0,n.jsxs)("div",{className:"text-red-400 font-semibold mb-1",children:["\uD83D\uDCA1 vs 4ベットレンジの特徴 (",D,"スタック固有)"]}),(0,n.jsxs)("div",{className:"text-gray-300",children:["• ",(0,n.jsx)("strong",{children:"スタック依存:"})," ",D,"スタック専用のレンジ設定",(0,n.jsx)("br",{}),"• ",(0,n.jsx)("strong",{children:"ポジション依存:"})," 3ベッターが前のポジション（通常オリジナルのオープンレイザー）からの4ベットに対する反応戦略",(0,n.jsx)("br",{}),"• ",(0,n.jsx)("strong",{children:"アクション選択:"})," FOLD（フォールド）、CALL（コール）、ALL IN（5ベット/オールイン）",(0,n.jsx)("br",{}),"• ",(0,n.jsx)("strong",{children:"混合戦略:"})," 右クリックで詳細な頻度設定（例：FOLD 80%, ALL IN 20%）"]})]})]})]}),(0,n.jsxs)("div",{className:"flex flex-col lg:flex-row ".concat(ed?"gap-2":"gap-4"),children:[(0,n.jsx)("div",{className:"w-full lg:w-3/5 ".concat(ed?"h-[500px] overflow-hidden":"h-[550px] bg-gray-800 rounded-xl overflow-hidden"),children:q&&(0,n.jsx)(u,{currentSpot:q,selectedAction:_,isCorrect:R,showResults:E,onActionSelect:eA,availableActions:["FOLD","CALL","RAISE","ALL IN"],onNextSpot:eS,onRepeatSpot:ej,stackSize:D.replace("BB",""),backButtonUrl:"/trainer/mtt?".concat(new URLSearchParams({stack:D,position:C,action:w,...F.length>0?{hands:encodeURIComponent(F.join(","))}:{}}).toString())})}),(0,n.jsx)("div",{className:"w-full lg:w-2/5",children:(0,n.jsxs)("div",{className:"w-full ".concat(ed?"":"bg-gray-800 rounded-xl"," ").concat(ed?"p-2":"p-4"),children:[!ed&&(0,n.jsx)("h2",{className:"text-xl font-bold mb-4",children:E?"結果分析":"アクションを選択"}),!ed&&(0,n.jsx)("div",{className:"mb-4 h-[60px]",children:E?(0,n.jsx)("div",{className:"p-3 rounded-lg text-center font-bold ".concat(R?"bg-green-900/50 text-green-400":"bg-red-900/50 text-red-400"),children:R?"✓ 正解！ 最適なプレイです":"✗ 不正解 - 最適なプレイではありません"}):(0,n.jsx)("div",{className:"p-3 rounded-lg text-center text-gray-400 bg-gray-700/30",children:"GTOの観点から最適なプレイを選びましょう"})}),!ed&&(0,n.jsx)("div",{className:"border-t border-gray-700 pt-4 mb-4 h-[80px] flex items-center",children:E?(0,n.jsxs)("div",{className:"flex justify-center gap-4",children:[(0,n.jsxs)("button",{onClick:ej,className:"py-3 px-6 bg-gray-600 hover:bg-gray-700 text-white rounded-lg font-bold text-base flex items-center justify-center shadow-lg transition-all flex-1 whitespace-nowrap",children:[(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4v5h.582m15.356 2A8.001 8.001 0 004.582 9m0 0H9m11 11v-5h-.581m0 0a8.003 8.003 0 01-15.357-2m15.357 2H15"})}),(0,n.jsx)("span",{children:"繰り返す"})]}),(0,n.jsxs)("button",{onClick:eS,className:"py-3 px-6 bg-green-600 hover:bg-green-700 text-white rounded-lg font-bold text-base flex items-center justify-center shadow-lg transition-all flex-1 whitespace-nowrap",children:[(0,n.jsx)("span",{children:"次のハンド"}),(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 ml-2",viewBox:"0 0 20 20",fill:"currentColor",children:(0,n.jsx)("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})]})]}):(0,n.jsxs)("div",{className:"grid grid-cols-4 gap-2 w-full",children:[(0,n.jsx)("button",{className:"py-3 rounded-lg font-bold text-lg shadow-lg bg-blue-600 hover:bg-blue-700 text-white transition-all border border-gray-700",onClick:()=>eA("FOLD"),children:"FOLD"}),(0,n.jsx)("button",{className:"py-3 rounded-lg font-bold text-lg shadow-lg bg-green-600 hover:bg-green-700 text-white transition-all border border-gray-700",onClick:()=>eA("CALL"),children:"CALL"}),(0,n.jsx)("button",{className:"py-3 rounded-lg font-bold text-lg shadow-lg bg-red-600 hover:bg-red-700 text-white transition-all border border-gray-700",onClick:()=>eA("RAISE"),children:"RAISE"}),80>=parseInt(D)||P&&P.frequencies&&P.frequencies["ALL IN"]>0?(0,n.jsx)("button",{className:"py-3 rounded-lg font-bold text-lg shadow-lg bg-purple-600 hover:bg-purple-700 text-white transition-all border border-gray-700",onClick:()=>eA("ALL IN"),children:"ALL IN"}):null]})}),(0,n.jsxs)("div",{className:"".concat(ed?"pt-1":"pt-4"," ").concat(ed?"h-auto":"h-[340px] overflow-y-auto border-t border-gray-700"),children:[!E&&(0,n.jsx)("div",{className:"flex flex-col items-center justify-center h-full text-center text-gray-500",children:(0,n.jsxs)("div",{className:"mb-2",children:[(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 mx-auto mb-2 opacity-30",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,n.jsxs)("p",{className:"text-lg",children:["アクションを選択すると",(0,n.jsx)("br",{}),"GTO分析が表示されます"]})]})}),E&&P&&(0,n.jsxs)("div",{children:[P.isInvalidCombination&&(0,n.jsxs)("div",{className:"bg-red-900/20 border border-red-600 rounded-lg p-4 mb-4",children:[(0,n.jsxs)("h4",{className:"text-red-400 font-semibold mb-2 flex items-center",children:[(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"ポジション組み合わせエラー"]}),(0,n.jsx)("div",{className:"text-red-300 text-sm mb-3",children:P.effectiveStackExplanation}),(0,n.jsx)("div",{className:"text-gray-300 text-sm mb-2",children:P.stackSizeStrategy}),(0,n.jsxs)("div",{className:"text-blue-300 text-sm bg-blue-900/20 p-3 rounded border-l-4 border-blue-500",children:[(0,n.jsx)("strong",{children:"\uD83D\uDCA1 解決方法:"}),(0,n.jsx)("br",{}),P.icmConsideration]}),(0,n.jsxs)("div",{className:"text-yellow-300 text-xs mt-3 bg-yellow-900/20 p-2 rounded",children:[(0,n.jsx)("strong",{children:"ポジション順序:"})," ",P.exploitSuggestion]})]}),P.isRangeOut&&(0,n.jsxs)("div",{className:"bg-yellow-900/20 border border-yellow-600 rounded-lg p-4 mb-4",children:[(0,n.jsxs)("h4",{className:"text-yellow-400 font-semibold mb-2 flex items-center",children:[(0,n.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,n.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})}),"レンジ外ハンド"]}),(0,n.jsx)("div",{className:"text-yellow-300 text-sm mb-3",children:P.effectiveStackExplanation}),(0,n.jsx)("div",{className:"text-gray-300 text-sm mb-2",children:P.stackSizeStrategy}),(0,n.jsxs)("div",{className:"text-blue-300 text-sm bg-blue-900/20 p-3 rounded border-l-4 border-blue-500",children:[(0,n.jsx)("strong",{children:"\uD83D\uDCA1 推奨アクション:"}),(0,n.jsx)("br",{}),P.icmConsideration]})]}),!P.isInvalidCombination&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[(0,n.jsxs)("div",{className:"".concat(ed?"bg-gray-700/20":"bg-gray-700/40"," p-3 rounded"),children:[(0,n.jsx)("h4",{className:"text-gray-400 text-xs mb-1",children:"最適なアクション"}),(0,n.jsx)("div",{className:"text-lg font-bold text-green-400",children:"MIN"===P.correctAction?"RAISE":P.correctAction}),P.frequencies&&(0,n.jsxs)("div",{className:"text-xs text-green-300 mt-1",children:["推奨頻度: ",P.frequencies["MIN"===P.correctAction?"RAISE":P.correctAction]||0,"%"]})]}),(0,n.jsxs)("div",{className:"".concat(ed?"bg-gray-700/20":"bg-gray-700/40"," p-3 rounded"),children:[(0,n.jsx)("h4",{className:"text-gray-400 text-xs mb-1",children:"あなたの選択"}),(0,n.jsx)("div",{className:"text-lg font-bold",children:_}),P.frequencies&&_&&void 0!==P.frequencies[_]&&(0,n.jsxs)("div",{className:"text-xs mt-1 ".concat(P.frequencies[_]>0?"text-blue-300":"text-red-300"),children:["正解頻度: ",P.frequencies[_],"%",0===P.frequencies[_]&&" (推奨されません)"]})]})]}),P.frequencies&&(0,n.jsxs)("div",{className:"".concat(ed?"bg-gray-700/10":"bg-gray-700/30"," p-4 rounded mb-4"),children:[(0,n.jsxs)("h4",{className:"text-white font-semibold mb-3 text-sm",children:["ハンド ",(()=>{let e=(null==q?void 0:q.heroHand)?v(q.heroHand):"XX";return console.log("\uD83C\uDFAF 結果表示タイトル - テーブルハンド一致:",{tableHandType:e,spotHeroHand:null==q?void 0:q.heroHand,gtoDataNormalizedHandType:null==P?void 0:P.normalizedHandType,gtoDataExists:!!P}),e})()," の正解頻度分布",(null==P?void 0:P.isCustomRange)&&(0,n.jsx)("span",{className:"text-purple-400 text-xs ml-2",children:"(カスタム設定)"})]}),(console.log("\uD83C\uDFAF 結果表示デバッグ:",{normalizedHandType:null==P?void 0:P.normalizedHandType,frequencies:null==P?void 0:P.frequencies,correctAction:null==P?void 0:P.correctAction,isCustomRange:null==P?void 0:P.isCustomRange,gtoDataKeys:P?Object.keys(P):[],gtoDataType:typeof(null==P?void 0:P.normalizedHandType),gtoDataExists:!!P}),null),(0,n.jsx)("div",{className:"grid grid-cols-2 gap-2 text-sm",children:Object.entries(P.frequencies).filter(e=>{let[t]=e;return["FOLD","CALL","RAISE","ALL IN"].includes(t)}).map(e=>{let[t,s]=e;return(0,n.jsxs)("div",{className:"flex justify-between p-2 rounded ".concat(t===_?"bg-blue-600/30 border border-blue-500":t===("MIN"===P.correctAction?"RAISE":P.correctAction)?"bg-green-600/30 border border-green-500":"bg-gray-600/30"),children:[(0,n.jsxs)("span",{className:"font-medium ".concat(t===_?"text-blue-300":t===("MIN"===P.correctAction?"RAISE":P.correctAction)?"text-green-300":"text-gray-300"),children:[t,t===("MIN"===P.correctAction?"RAISE":P.correctAction)&&" (推奨)"]}),(0,n.jsxs)("span",{className:"font-bold ".concat(Number(s)>0?"text-white":"text-gray-500"),children:[Number(s),"%"]})]},t)})})]}),"vsopen"===w&&P.openRaiserPosition&&(0,n.jsxs)("div",{className:"".concat(ed?"bg-gray-700/10":"bg-gray-700/30"," p-3 rounded mb-4"),children:[(0,n.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,n.jsx)("span",{className:"text-gray-400",children:"オープンレイザー:"}),(0,n.jsx)("span",{className:"font-medium",children:P.openRaiserPosition})]}),(0,n.jsxs)("div",{className:"flex justify-between text-sm mt-1",children:[(0,n.jsx)("span",{className:"text-gray-400",children:"レイズサイズ:"}),(0,n.jsxs)("span",{className:"font-medium",children:[P.openRaiseSize,"BB"]})]}),(0,n.jsxs)("div",{className:"flex justify-between text-sm mt-1",children:[(0,n.jsx)("span",{className:"text-gray-400",children:"現在のポット:"}),(0,n.jsxs)("span",{className:"font-medium",children:[null==q?void 0:q.potSize,"BB"]})]}),(0,n.jsxs)("div",{className:"flex justify-between text-sm mt-1",children:[(0,n.jsx)("span",{className:"text-gray-400",children:"エフェクティブスタック:"}),(0,n.jsx)("span",{className:"font-medium",children:D}),(0,n.jsx)("span",{className:"text-xs text-gray-500 ml-2",children:"(ヒーローと相手の中で小さい方のスタック)"})]})]})]})]})]})]})})]})]})}),Q&&(console.log("MTTRangeEditor描画",{showRangeEditor:Q,selectedEditPosition:Z,stackSize:D,initialRange:V[Z]}),null),Q&&(()=>{let e=Z,t=parseInt(D.replace("BB","")),s=V[Z];if(Z.includes("_")&&Z.includes("BB")){let n=Z.split("_");2===n.length&&(e=n[0],t=parseInt(n[1].replace("BB","")),"15BB"===n[1]&&!s&&V[n[0]]&&(s=V[n[0]],console.log("15BB互換性: 既存レンジを使用",{position:n[0],range:s})))}else if(Z.startsWith("vsopen_")){let n=Z.split("_");if(n.length>=4&&(e=Z,t=parseInt(D.replace("BB","")),"15BB"===D&&!s)){let e=n.slice(0,4).join("_");V[e]&&(s=V[e],console.log("15BB互換性: 既存vsオープンレンジを使用",{baseVsOpenKey:e,range:s}))}}else if(Z.startsWith("vs3bet_")){if(e=Z,t=parseInt(D.replace("BB","")),"15BB"===D&&!s){let e=Z.replace("_15BB","");V[e]&&(s=V[e],console.log("15BB互換性: 既存vs3ベットレンジを使用",{baseVs3BetKey:e,range:s}))}}else if(Z.startsWith("vs4bet_")&&(e=Z,t=parseInt(D.replace("BB","")),"15BB"===D&&!s)){let e=Z.replace("_15BB","");V[e]&&(s=V[e],console.log("15BB互換性: 既存vs4ベットレンジを使用",{baseVs4BetKey:e,range:s}))}return(0,n.jsx)(d.Tc,{position:e,stackSize:t,onSaveRange:ep,onClose:()=>X(!1),initialRange:s})})(),eh&&(0,n.jsx)(d.jq,{onClose:()=>{ex(!1)},onSelectHands:e=>{eg(e),console.log("選択されたトレーニングハンド:",e)},initialSelectedHands:em,onTemplateSelect:e=>{let t=d.em[e];t&&(eg(t),console.log("テンプレート「".concat(e,"」を選択:"),t.length,"ハンド"))}}),t&&(0,n.jsxs)("div",{className:"bg-yellow-900/20 rounded-lg p-4 mb-4 border border-yellow-700/50",children:[(0,n.jsxs)("h3",{className:"text-lg font-semibold text-yellow-300 mb-2",children:["\uD83D\uDD0D レンジ読み込み状況デバッグ (",D,")"]}),(0,n.jsxs)("div",{className:"text-xs space-y-1",children:[(0,n.jsxs)("div",{children:["カスタムレンジ総数: ",Object.keys(V).length]}),(0,n.jsxs)("div",{children:["vsオープンレンジ数: ",Object.keys(V).filter(e=>e.startsWith("vsopen_")&&(e.endsWith("_".concat(D))||"15BB"===D&&!e.includes("_10BB")&&!e.includes("_20BB")&&!e.includes("_30BB")&&!e.includes("_40BB")&&!e.includes("_50BB")&&!e.includes("_75BB"))).length]}),(0,n.jsxs)("div",{children:["vs3ベットレンジ数: ",Object.keys(V).filter(e=>e.startsWith("vs3bet_")&&(e.endsWith("_".concat(D))||"15BB"===D&&e.includes("vs3bet_")&&!e.includes("_10BB")&&!e.includes("_20BB")&&!e.includes("_30BB")&&!e.includes("_40BB")&&!e.includes("_50BB")&&!e.includes("_75BB"))).length]}),(0,n.jsxs)("div",{children:["vs4ベットレンジ数: ",Object.keys(V).filter(e=>e.startsWith("vs4bet_")&&(e.endsWith("_".concat(D))||"15BB"===D&&e.includes("vs4bet_")&&!e.includes("_10BB")&&!e.includes("_20BB")&&!e.includes("_30BB")&&!e.includes("_40BB")&&!e.includes("_50BB")&&!e.includes("_75BB"))).length]}),(0,n.jsxs)("div",{children:[D,"スタック固有レンジ数: ",Object.keys(V).filter(e=>e.endsWith("_".concat(D))||!e.includes("_")&&"15BB"===D&&!e.startsWith("vsopen_")&&!e.startsWith("vs3bet_")&&!e.startsWith("vs4bet_")).length]}),Object.keys(V).filter(e=>e.startsWith("vsopen_")&&(e.endsWith("_".concat(D))||"15BB"===D&&!e.includes("_10BB")&&!e.includes("_20BB")&&!e.includes("_30BB")&&!e.includes("_40BB")&&!e.includes("_50BB")&&!e.includes("_75BB"))).length>0&&(0,n.jsxs)("div",{className:"mt-2",children:[(0,n.jsxs)("div",{className:"text-yellow-300 mb-1",children:["設定済み",D,"vsオープンレンジ:"]}),(0,n.jsxs)("div",{className:"max-h-32 overflow-y-auto",children:[Object.keys(V).filter(e=>e.startsWith("vsopen_")&&(e.endsWith("_".concat(D))||"15BB"===D&&!e.includes("_10BB")&&!e.includes("_20BB")&&!e.includes("_30BB")&&!e.includes("_40BB")&&!e.includes("_50BB")&&!e.includes("_75BB"))).slice(0,10).map(e=>(0,n.jsxs)("div",{className:"text-xs text-gray-300",children:["• ",e]},e)),Object.keys(V).filter(e=>e.startsWith("vsopen_")&&(e.endsWith("_".concat(D))||"15BB"===D&&!e.includes("_10BB")&&!e.includes("_20BB")&&!e.includes("_30BB")&&!e.includes("_40BB")&&!e.includes("_50BB")&&!e.includes("_75BB"))).length>10&&(0,n.jsxs)("div",{className:"text-xs text-gray-400",children:["...他",Object.keys(V).filter(e=>e.startsWith("vsopen_")&&(e.endsWith("_".concat(D))||"15BB"===D&&!e.includes("_10BB")&&!e.includes("_20BB")&&!e.includes("_30BB")&&!e.includes("_40BB")&&!e.includes("_50BB")&&!e.includes("_75BB"))).length-10,"レンジ"]})]})]}),Object.keys(V).filter(e=>e.startsWith("vs3bet_")&&(e.endsWith("_".concat(D))||"15BB"===D&&e.includes("vs3bet_")&&!e.includes("_10BB")&&!e.includes("_20BB")&&!e.includes("_30BB")&&!e.includes("_40BB")&&!e.includes("_50BB")&&!e.includes("_75BB"))).length>0&&(0,n.jsxs)("div",{className:"mt-2",children:[(0,n.jsxs)("div",{className:"text-yellow-300 mb-1",children:["設定済み",D,"vs3ベットレンジ:"]}),(0,n.jsx)("div",{className:"max-h-20 overflow-y-auto",children:Object.keys(V).filter(e=>e.startsWith("vs3bet_")&&(e.endsWith("_".concat(D))||"15BB"===D&&e.includes("vs3bet_")&&!e.includes("_10BB")&&!e.includes("_20BB")&&!e.includes("_30BB")&&!e.includes("_40BB")&&!e.includes("_50BB")&&!e.includes("_75BB"))).map(e=>(0,n.jsxs)("div",{className:"text-xs text-gray-300",children:["• ",e]},e))})]}),Object.keys(V).filter(e=>e.startsWith("vs4bet_")&&(e.endsWith("_".concat(D))||"15BB"===D&&e.includes("vs4bet_")&&!e.includes("_10BB")&&!e.includes("_20BB")&&!e.includes("_30BB")&&!e.includes("_40BB")&&!e.includes("_50BB")&&!e.includes("_75BB"))).length>0&&(0,n.jsxs)("div",{className:"mt-2",children:[(0,n.jsxs)("div",{className:"text-yellow-300 mb-1",children:["設定済み",D,"vs4ベットレンジ:"]}),(0,n.jsx)("div",{className:"max-h-20 overflow-y-auto",children:Object.keys(V).filter(e=>e.startsWith("vs4bet_")&&(e.endsWith("_".concat(D))||"15BB"===D&&e.includes("vs4bet_")&&!e.includes("_10BB")&&!e.includes("_20BB")&&!e.includes("_30BB")&&!e.includes("_40BB")&&!e.includes("_50BB")&&!e.includes("_75BB"))).map(e=>(0,n.jsxs)("div",{className:"text-xs text-gray-300",children:["• ",e]},e))})]}),Object.keys(V).filter(e=>e.endsWith("_".concat(D))||!e.includes("_")&&"15BB"===D&&!e.startsWith("vsopen_")&&!e.startsWith("vs3bet_")&&!e.startsWith("vs4bet_")).length>0&&(0,n.jsxs)("div",{className:"mt-2",children:[(0,n.jsxs)("div",{className:"text-yellow-300 mb-1",children:["設定済み",D,"レンジ:"]}),(0,n.jsx)("div",{className:"max-h-20 overflow-y-auto",children:Object.keys(V).filter(e=>e.endsWith("_".concat(D))||!e.includes("_")&&"15BB"===D&&!e.startsWith("vsopen_")&&!e.startsWith("vs3bet_")&&!e.startsWith("vs4bet_")).map(e=>(0,n.jsxs)("div",{className:"text-xs text-gray-300",children:["• ",e]},e))})]}),"vsopen"===w&&(0,n.jsxs)("div",{className:"mt-2 p-2 bg-blue-900/20 rounded",children:[(0,n.jsx)("div",{className:"text-blue-300",children:"現在のvsオープン設定:"}),(0,n.jsxs)("div",{children:["ポジション: ",C]}),(0,n.jsxs)("div",{children:["スタック: ",D]}),(null==q?void 0:q.openRaiserPosition)&&(0,n.jsxs)("div",{children:["オープンレイザー: ",q.openRaiserPosition]}),(null==q?void 0:q.openRaiserPosition)&&(0,n.jsxs)("div",{children:["レンジキー: vsopen_",C,"_vs_",q.openRaiserPosition,"_",D]})]})]})]})]})}):(0,n.jsx)("div",{className:"min-h-screen bg-black md:bg-gray-900 text-white flex items-center justify-center",children:"ローディング中..."})}function F(){return(0,n.jsx)(o.Suspense,{children:(0,n.jsx)(I,{})})}},7561:function(e,t,s){"use strict";s.d(t,{A:function(){return l},AdminProvider:function(){return a}});var n=s(7437),o=s(2265);let r=(0,o.createContext)(void 0);function a(e){let{children:t}=e,[s,a]=(0,o.useState)(!1),[l,i]=(0,o.useState)(null),[c,d]=(0,o.useState)(null),[u,h]=(0,o.useState)(!0),x=async e=>{try{let t=await fetch("/api/admin/auth",{headers:{Authorization:"Bearer ".concat(e)}});if(!t.ok)return localStorage.removeItem("admin-token"),a(!1),i(null),d(null),!1;{let s=await t.json();return a(!0),i(s.user),d(e),!0}}catch(e){return console.error("トークン検証エラー:",e),localStorage.removeItem("admin-token"),a(!1),i(null),d(null),!1}};(0,o.useEffect)(()=>{(async()=>{let e=localStorage.getItem("admin-token");e&&await x(e),h(!1)})()},[]);let m=async(e,t)=>{try{let s=await fetch("/api/admin/auth",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:t})});if(!s.ok)return!1;{let e=await s.json();return a(!0),i(e.user),d(e.token),localStorage.setItem("admin-token",e.token),!0}}catch(e){return console.error("ログインエラー:",e),!1}};return(0,n.jsx)(r.Provider,{value:{isAdmin:s,user:l,token:c,login:m,logout:()=>{a(!1),i(null),d(null),localStorage.removeItem("admin-token")},loading:u},children:t})}function l(){let e=(0,o.useContext)(r);if(void 0===e)throw Error("useAdmin must be used within an AdminProvider");return e}}},function(e){e.O(0,[972,790,971,117,744],function(){return e(e.s=7375)}),_N_E=e.O()}]);