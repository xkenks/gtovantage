(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[349],{6139:function(e,t,s){Promise.resolve().then(s.bind(s,9949))},9949:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return MTTTrainerPage}});var r=s(7437),l=s(2265),n=s(4033);let SimpleHandRangeSelector=e=>{let{onSelectHands:t,initialSelectedHands:s=[],title:n="ハンドを選択",onClose:a}=e,[o,i]=(0,l.useState)(s),[d,c]=(0,l.useState)(!1),[x,m]=(0,l.useState)(null),[u,g]=(0,l.useState)("select"),[h,p]=(0,l.useState)([]),[b,f]=(0,l.useState)(!1),v=(()=>{let e=["A","K","Q","J","T","9","8","7","6","5","4","3","2"],t=[];for(let s=0;s<13;s++)for(let r=0;r<13;r++){let l="";l=s===r?e[s]+e[r]:s<r?e[s]+e[r]+"s":e[r]+e[s]+"o",t.push({hand:l,row:s,col:r})}return t})(),getHandsInRange=(e,t)=>{let s=Math.min(e.row,t.row),r=Math.max(e.row,t.row),l=Math.min(e.col,t.col),n=Math.max(e.col,t.col),a=[];for(let e=s;e<=r;e++)for(let t=l;t<=n;t++){let s=v.find(s=>s.row===e&&s.col===t);s&&a.push(s.hand)}return a},handleMouseDown=(e,t,s,r)=>{r.preventDefault(),c(!0),m({row:t,col:s}),p([...o]),f(!1);let l=o.includes(e);g(l?"deselect":"select")},handleMouseEnter=(e,t,s)=>{if(d&&x){f(!0);let e=getHandsInRange(x,{row:t,col:s});i(()=>{if("select"!==u)return h.filter(t=>!e.includes(t));{let t=e.filter(e=>!h.includes(e));return[...h,...t]}})}},handleMouseUp=()=>{c(!1),m(null),p([]),setTimeout(()=>f(!1),10)},handleHandClick=e=>{b||i(t=>{let s=t.includes(e)?t.filter(t=>t!==e):[...t,e];return s})};return(0,r.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50",children:(0,r.jsxs)("div",{className:"bg-gray-900 rounded-xl p-6 max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto shadow-2xl border border-gray-700",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,r.jsx)("h2",{className:"text-xl font-bold text-white",children:n}),(0,r.jsx)("button",{onClick:a,className:"text-gray-400 hover:text-white hover:bg-gray-700 p-2 rounded-lg transition-all duration-200",children:"✕"})]}),(0,r.jsx)("div",{className:"mb-4 bg-gray-800 rounded-lg p-3 border border-gray-600",children:(0,r.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,r.jsxs)("p",{className:"text-sm font-semibold text-white",children:["選択されたハンド: ",(0,r.jsx)("span",{className:"text-purple-400",children:o.length}),"個"]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)("button",{onClick:()=>i(v.map(e=>e.hand)),className:"px-3 py-1 bg-blue-600 hover:bg-blue-700 text-white text-sm rounded-md transition-all duration-200",children:"全選択"}),(0,r.jsx)("button",{onClick:()=>i([]),className:"px-3 py-1 bg-gray-600 hover:bg-gray-700 text-white text-sm rounded-md transition-all duration-200",children:"全解除"})]})]})}),(0,r.jsx)("div",{className:"mb-4 select-none",style:{display:"grid",gridTemplateColumns:"repeat(13, 1fr)",gap:"4px"},onMouseLeave:()=>handleMouseUp(),children:v.map(e=>{let{hand:t,row:s,col:l}=e;return(0,r.jsx)("div",{className:"".concat(o.includes(t)?"bg-purple-600 border-purple-500":"bg-gray-800 hover:bg-gray-700 border-gray-600"," text-white text-xs font-bold py-2 px-1 text-center cursor-pointer rounded transition-all duration-200 border-2 hover:shadow-md min-h-[2.5rem] flex items-center justify-center"),onMouseDown:e=>handleMouseDown(t,s,l,e),onMouseEnter:()=>handleMouseEnter(t,s,l),onMouseUp:()=>handleMouseUp(),onClick:()=>handleHandClick(t),title:t,children:t},"".concat(s,"-").concat(l))})}),(0,r.jsx)("div",{className:"mb-4",children:(0,r.jsxs)("button",{onClick:()=>{t(o),a()},className:"w-full px-4 py-2 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white font-bold rounded-lg transition-all duration-200 shadow-lg",children:["選択完了 (",o.length,"ハンド)"]})}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-3 text-xs text-white bg-gray-800 rounded-lg p-3 border border-gray-600",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"w-3 h-3 bg-gray-800 border border-gray-600 rounded"}),(0,r.jsx)("span",{children:"未選択"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"w-3 h-3 bg-purple-600 border-2 border-purple-500 rounded"}),(0,r.jsx)("span",{children:"選択済み"})]})]})]})})};function MTTTrainerPage(){var e;let t=(0,n.useRouter)(),[s,a]=(0,l.useState)("75BB"),[o,i]=(0,l.useState)("BTN"),[d,c]=(0,l.useState)("openraise"),[x,m]=(0,l.useState)([]),[u,g]=(0,l.useState)(!1),[h,p]=(0,l.useState)(null),[b,f]=(0,l.useState)(!1),v=["75BB","50BB","40BB","30BB","20BB","15BB","10BB"],j=["UTG","UTG1","LJ","HJ","CO","BTN","SB","BB"],y=[{id:"openraise",label:"オープンレイズ"},{id:"vsopen",label:"vs オープン"},{id:"vs3bet",label:"vs 3ベット"},{id:"vs4bet",label:"vs 4ベット"},{id:"random",label:"ランダム"}];(0,l.useEffect)(()=>{try{let e=localStorage.getItem("mtt-trainer-settings");if(e){let t=JSON.parse(e);console.log("\uD83D\uDCBE 保存された設定を読み込み:",t),t.stackSize&&v.includes(t.stackSize)&&a(t.stackSize),t.position&&j.includes(t.position)&&i(t.position),t.actionType&&y.some(e=>e.id===t.actionType)&&c(t.actionType),t.selectedHands&&Array.isArray(t.selectedHands)&&m(t.selectedHands),console.log("✅ 設定の読み込み完了")}else console.log("\uD83D\uDCA1 保存された設定がありません。デフォルト値を使用します。")}catch(e){console.error("❌ 設定の読み込みに失敗:",e)}finally{w(!1),f(!!localStorage.getItem("mtt-trainer-settings"))}},[]);let saveSettings=()=>{try{let e={stackSize:s,position:o,actionType:d,selectedHands:x,lastUpdated:new Date().toISOString()};localStorage.setItem("mtt-trainer-settings",JSON.stringify(e)),console.log("\uD83D\uDCBE 自動保存完了:",e),p("saved"),f(!0),setTimeout(()=>p(null),2e3)}catch(e){console.error("❌ 自動保存に失敗:",e),p(null)}},[N,w]=(0,l.useState)(!0);return(0,l.useEffect)(()=>{if(!N){p("saving");let e=setTimeout(()=>{saveSettings()},500);return()=>clearTimeout(e)}},[s,o,d,x]),(0,r.jsx)("div",{className:"min-h-screen bg-gray-900 text-white p-4 md:p-8",children:(0,r.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,r.jsx)("div",{className:"flex justify-between items-center mb-6",children:(0,r.jsx)("h1",{className:"text-3xl font-bold text-center",children:"MTT GTO トレーニング"})}),(0,r.jsx)("p",{className:"text-center text-gray-300 mb-8",children:"トーナメントに特化した意思決定トレーニングで、MTTでの最適な戦略を学びましょう。"}),(0,r.jsxs)("div",{className:"bg-gray-800 rounded-xl p-6 shadow-lg mb-8",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold",children:"シナリオ設定"}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[("saving"===h||"saved"===h)&&(0,r.jsx)("div",{className:"text-xs px-3 py-1 rounded-lg transition-all duration-300 ".concat("saving"===h?"text-yellow-400 bg-yellow-900/30 border border-yellow-600/50":"text-green-400 bg-green-900/30 border border-green-600/50"),children:"saving"===h?"\uD83D\uDD04 自動保存中...":"✅ 自動保存完了"}),(0,r.jsx)("button",{onClick:()=>{var e;if(confirm("\uD83D\uDD04 すべての設定をリセットしますか？\n\n現在の設定：\n・スタック: "+s+"\n・ポジション: "+o+"\n・アクション: "+(null===(e=y.find(e=>e.id===d))||void 0===e?void 0:e.label)+"\n・選択ハンド: "+x.length+"個")){a("75BB"),i("BTN"),c("openraise"),m([]);try{localStorage.removeItem("mtt-trainer-settings"),console.log("\uD83D\uDD04 設定をリセットしました（自動保存により設定クリア）"),f(!1)}catch(e){console.error("❌ 設定のリセットに失敗:",e)}}},className:"px-3 py-1 bg-gray-700 hover:bg-gray-600 text-gray-300 text-sm rounded-lg transition-colors",title:"設定をリセット",children:"\uD83D\uDD04 リセット"})]})]}),(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("h3",{className:"text-lg font-medium mb-2",children:"エフェクティブスタック"}),(0,r.jsx)("div",{className:"flex flex-wrap gap-2",children:v.map(e=>(0,r.jsx)("button",{className:"px-3 py-2 rounded-lg ".concat(s===e?"bg-yellow-600":"bg-gray-700"," transition-colors hover:bg-yellow-500"),onClick:()=>a(e),children:e},e))})]}),(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("h3",{className:"text-lg font-medium mb-2",children:"あなたのポジション"}),(0,r.jsx)("div",{className:"flex flex-wrap gap-2",children:j.map(e=>(0,r.jsx)("button",{className:"px-3 py-2 rounded-lg ".concat(o===e?"bg-green-600":"bg-gray-700"," transition-colors hover:bg-green-500"),onClick:()=>i(e),children:e},e))})]}),(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("h3",{className:"text-lg font-medium mb-2",children:"アクションタイプ"}),(0,r.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 gap-2",children:y.map(e=>(0,r.jsx)("button",{className:"px-3 py-2 rounded-lg ".concat(d===e.id?"bg-red-600":"bg-gray-700"," transition-colors text-left hover:bg-red-500"),onClick:()=>c(e.id),children:e.label},e.id))})]}),(0,r.jsxs)("div",{className:"mb-8 bg-gray-700 bg-opacity-50 rounded-lg p-5",children:[(0,r.jsx)("h3",{className:"text-lg font-medium mb-4",children:"ハンド範囲選択"}),(0,r.jsx)("button",{onClick:()=>{g(!0)},className:"w-full py-4 px-6 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 rounded-lg font-bold text-lg transition-colors shadow-lg flex items-center justify-center",children:"ハンドを選択"}),x.length>0?(0,r.jsxs)("div",{className:"mt-4",children:[(0,r.jsxs)("div",{className:"text-sm text-purple-300 mb-2",children:[x.length,"種類のハンドを選択中"]}),(0,r.jsx)("div",{className:"bg-gray-800 rounded-lg p-3 max-h-32 overflow-auto border border-gray-700",children:(0,r.jsx)("div",{className:"flex flex-wrap gap-2",children:x.map(e=>(0,r.jsx)("span",{className:"inline-block px-2 py-1 bg-purple-700 rounded text-xs font-medium",children:e},e))})})]}):(0,r.jsx)("div",{className:"mt-3 text-sm text-gray-300 text-center",children:"ハンドを選択しない場合、すべてのハンドからランダムに出題されます"})]}),(0,r.jsx)("button",{onClick:()=>{let e="/trainer/mtt/training?stack=".concat(s,"&position=").concat(o,"&action=").concat(d);x.length>0&&(e+="&hands=".concat(encodeURIComponent(x.join(",")))),t.push(e)},className:"w-full py-4 bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 rounded-lg font-bold text-lg transition-colors shadow-lg flex items-center justify-center",children:"トレーニングスタート"})]}),(0,r.jsxs)("div",{className:"bg-gray-800 rounded-xl p-6 shadow-lg mb-8",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold mb-3",children:"MTT GTO戦略とは？"}),(0,r.jsx)("p",{className:"mb-4 text-gray-300",children:"MTT（マルチテーブルトーナメント）でのGTO戦略はキャッシュゲームとは異なります。 スタックサイズに応じて戦略を変える必要があります。"})]}),(0,r.jsx)("div",{className:"bg-gray-800/50 rounded-xl p-4 shadow-lg",children:(0,r.jsxs)("details",{className:"group",children:[(0,r.jsx)("summary",{className:"cursor-pointer text-sm font-medium text-gray-400 hover:text-white transition-colors",children:"\uD83D\uDD27 設定詳細 (デバッグ情報)"}),(0,r.jsxs)("div",{className:"mt-3 text-xs space-y-2 text-gray-300 bg-gray-900/50 rounded-lg p-3",children:[(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"スタックサイズ:"})," ",s]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"ポジション:"})," ",o]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"アクションタイプ:"})," ",null===(e=y.find(e=>e.id===d))||void 0===e?void 0:e.label," (",d,")"]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"選択ハンド数:"})," ",x.length,"個"]})]}),(0,r.jsxs)("div",{className:"pt-2 border-t border-gray-700",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"自動保存ステータス:"})," ","saving"===h?"\uD83D\uDD04 保存中":"saved"===h?"✅ 完了":"\uD83D\uDCBE 有効"]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"初期読み込み:"})," ",N?"読み込み中":"✅ 完了"]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("strong",{children:"LocalStorage確認:"}),b?"✅ 設定保存済み":"❌ 未保存"]})]}),x.length>0&&(0,r.jsxs)("div",{className:"pt-2 border-t border-gray-700",children:[(0,r.jsx)("strong",{children:"選択ハンド:"}),(0,r.jsxs)("div",{className:"mt-1 max-h-20 overflow-y-auto",children:[x.slice(0,20).join(", "),x.length>20&&" ...他".concat(x.length-20,"個")]})]})]})]})}),u&&(0,r.jsx)(SimpleHandRangeSelector,{onSelectHands:e=>{m(e),g(!1)},initialSelectedHands:x,title:"MTT トレーニング用ハンド範囲選択",onClose:()=>g(!1)})]})})}},622:function(e,t,s){"use strict";/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=s(2265),l=Symbol.for("react.element"),n=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,i={key:!0,ref:!0,__self:!0,__source:!0};function q(e,t,s){var r,n={},d=null,c=null;for(r in void 0!==s&&(d=""+s),void 0!==t.key&&(d=""+t.key),void 0!==t.ref&&(c=t.ref),t)a.call(t,r)&&!i.hasOwnProperty(r)&&(n[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===n[r]&&(n[r]=t[r]);return{$$typeof:l,type:e,key:d,ref:c,props:n,_owner:o.current}}t.Fragment=n,t.jsx=q,t.jsxs=q},7437:function(e,t,s){"use strict";e.exports=s(622)},4033:function(e,t,s){e.exports=s(94)}},function(e){e.O(0,[971,472,744],function(){return e(e.s=6139)}),_N_E=e.O()}]);