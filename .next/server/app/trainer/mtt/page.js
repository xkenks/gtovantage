(()=>{var e={};e.id=349,e.ids=[349],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},2954:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>a.a,__next_app__:()=>g,originalPathname:()=>x,pages:()=>c,routeModule:()=>m,tree:()=>d});var r=s(7096),n=s(6132),l=s(7284),a=s.n(l),i=s(2564),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);s.d(t,o);let d=["",{children:["trainer",{children:["mtt",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,3921)),"/Users/kensuke/Desktop/gtovantage/src/app/trainer/mtt/page.tsx"]}]},{}]},{"not-found":[()=>Promise.resolve().then(s.bind(s,9609)),"/Users/kensuke/Desktop/gtovantage/src/app/trainer/not-found.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,5532)),"/Users/kensuke/Desktop/gtovantage/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9291,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/kensuke/Desktop/gtovantage/src/app/trainer/mtt/page.tsx"],x="/trainer/mtt/page",g={require:s,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/trainer/mtt/page",pathname:"/trainer/mtt",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},4428:(e,t,s)=>{Promise.resolve().then(s.bind(s,5349))},5349:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>MTTTrainerPage});var r=s(784),n=s(9885),l=s(7114);let SimpleHandRangeSelector=({onSelectHands:e,initialSelectedHands:t=[],title:s="ハンドを選択",onClose:l})=>{let[a,i]=(0,n.useState)(t),[o,d]=(0,n.useState)(!1),[c,x]=(0,n.useState)(null),[g,m]=(0,n.useState)("select"),[u,p]=(0,n.useState)([]),[h,b]=(0,n.useState)(!1),v=(()=>{let e=["A","K","Q","J","T","9","8","7","6","5","4","3","2"],t=[];for(let s=0;s<13;s++)for(let r=0;r<13;r++){let n="";n=s===r?e[s]+e[r]:s<r?e[s]+e[r]+"s":e[r]+e[s]+"o",t.push({hand:n,row:s,col:r})}return t})(),getHandsInRange=(e,t)=>{let s=Math.min(e.row,t.row),r=Math.max(e.row,t.row),n=Math.min(e.col,t.col),l=Math.max(e.col,t.col),a=[];for(let e=s;e<=r;e++)for(let t=n;t<=l;t++){let s=v.find(s=>s.row===e&&s.col===t);s&&a.push(s.hand)}return a},handleMouseDown=(e,t,s,r)=>{r.preventDefault(),d(!0),x({row:t,col:s}),p([...a]),b(!1);let n=a.includes(e);m(n?"deselect":"select")},handleMouseEnter=(e,t,s)=>{if(o&&c){b(!0);let e=getHandsInRange(c,{row:t,col:s});i(()=>{if("select"!==g)return u.filter(t=>!e.includes(t));{let t=e.filter(e=>!u.includes(e));return[...u,...t]}})}},handleMouseUp=()=>{d(!1),x(null),p([]),setTimeout(()=>b(!1),10)},handleHandClick=e=>{h||i(t=>{let s=t.includes(e)?t.filter(t=>t!==e):[...t,e];return s})};return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50",children:(0,r.jsxs)("div",{className:"bg-gray-900 rounded-xl p-6 max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto shadow-2xl border border-gray-700",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h2",{className:"text-xl font-bold text-white",children:s}),r.jsx("button",{onClick:l,className:"text-gray-400 hover:text-white hover:bg-gray-700 p-2 rounded-lg transition-all duration-200",children:"✕"})]}),r.jsx("div",{className:"mb-4 bg-gray-800 rounded-lg p-3 border border-gray-600",children:(0,r.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,r.jsxs)("p",{className:"text-sm font-semibold text-white",children:["選択されたハンド: ",r.jsx("span",{className:"text-purple-400",children:a.length}),"個"]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>i(v.map(e=>e.hand)),className:"px-3 py-1 bg-blue-600 hover:bg-blue-700 text-white text-sm rounded-md transition-all duration-200",children:"全選択"}),r.jsx("button",{onClick:()=>i([]),className:"px-3 py-1 bg-gray-600 hover:bg-gray-700 text-white text-sm rounded-md transition-all duration-200",children:"全解除"})]})]})}),r.jsx("div",{className:"mb-4 select-none",style:{display:"grid",gridTemplateColumns:"repeat(13, 1fr)",gap:"4px"},onMouseLeave:()=>handleMouseUp(),children:v.map(({hand:e,row:t,col:s})=>r.jsx("div",{className:`${a.includes(e)?"bg-purple-600 border-purple-500":"bg-gray-800 hover:bg-gray-700 border-gray-600"} text-white text-xs font-bold py-2 px-1 text-center cursor-pointer rounded transition-all duration-200 border-2 hover:shadow-md min-h-[2.5rem] flex items-center justify-center`,onMouseDown:r=>handleMouseDown(e,t,s,r),onMouseEnter:()=>handleMouseEnter(e,t,s),onMouseUp:()=>handleMouseUp(),onClick:()=>handleHandClick(e),title:e,children:e},`${t}-${s}`))}),r.jsx("div",{className:"mb-4",children:(0,r.jsxs)("button",{onClick:()=>{e(a),l()},className:"w-full px-4 py-2 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white font-bold rounded-lg transition-all duration-200 shadow-lg",children:["選択完了 (",a.length,"ハンド)"]})}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-3 text-xs text-white bg-gray-800 rounded-lg p-3 border border-gray-600",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 bg-gray-800 border border-gray-600 rounded"}),r.jsx("span",{children:"未選択"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 bg-purple-600 border-2 border-purple-500 rounded"}),r.jsx("span",{children:"選択済み"})]})]})]})})};function MTTTrainerPage(){let e=(0,l.useRouter)(),[t,s]=(0,n.useState)("75BB"),[a,i]=(0,n.useState)("BTN"),[o,d]=(0,n.useState)("openraise"),[c,x]=(0,n.useState)([]),[g,m]=(0,n.useState)(!1),[u,p]=(0,n.useState)(null),[h,b]=(0,n.useState)(!1),v=["75BB","50BB","40BB","30BB","20BB","15BB","10BB"],j=["UTG","UTG1","LJ","HJ","CO","BTN","SB","BB"],f=[{id:"openraise",label:"オープンレイズ"},{id:"vsopen",label:"vs オープン"},{id:"vs3bet",label:"vs 3ベット"},{id:"vs4bet",label:"vs 4ベット"},{id:"random",label:"ランダム"}];(0,n.useEffect)(()=>{try{let e=localStorage.getItem("mtt-trainer-settings");if(e){let t=JSON.parse(e);console.log("\uD83D\uDCBE 保存された設定を読み込み:",t),t.stackSize&&v.includes(t.stackSize)&&s(t.stackSize),t.position&&j.includes(t.position)&&i(t.position),t.actionType&&f.some(e=>e.id===t.actionType)&&d(t.actionType),t.selectedHands&&Array.isArray(t.selectedHands)&&x(t.selectedHands),console.log("✅ 設定の読み込み完了")}else console.log("\uD83D\uDCA1 保存された設定がありません。デフォルト値を使用します。")}catch(e){console.error("❌ 設定の読み込みに失敗:",e)}finally{N(!1),b(!!localStorage.getItem("mtt-trainer-settings"))}},[]);let saveSettings=()=>{try{let e={stackSize:t,position:a,actionType:o,selectedHands:c,lastUpdated:new Date().toISOString()};localStorage.setItem("mtt-trainer-settings",JSON.stringify(e)),console.log("\uD83D\uDCBE 自動保存完了:",e),p("saved"),b(!0),setTimeout(()=>p(null),2e3)}catch(e){console.error("❌ 自動保存に失敗:",e),p(null)}},[y,N]=(0,n.useState)(!0);return(0,n.useEffect)(()=>{if(!y){p("saving");let e=setTimeout(()=>{saveSettings()},500);return()=>clearTimeout(e)}},[t,a,o,c]),r.jsx("div",{className:"min-h-screen bg-gray-900 text-white p-4 md:p-8",children:(0,r.jsxs)("div",{className:"max-w-4xl mx-auto",children:[r.jsx("div",{className:"flex justify-between items-center mb-6",children:r.jsx("h1",{className:"text-3xl font-bold text-center",children:"MTT GTO トレーニング"})}),r.jsx("p",{className:"text-center text-gray-300 mb-8",children:"トーナメントに特化した意思決定トレーニングで、MTTでの最適な戦略を学びましょう。"}),(0,r.jsxs)("div",{className:"bg-gray-800 rounded-xl p-6 shadow-lg mb-8",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h2",{className:"text-xl font-semibold",children:"シナリオ設定"}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[("saving"===u||"saved"===u)&&r.jsx("div",{className:`text-xs px-3 py-1 rounded-lg transition-all duration-300 ${"saving"===u?"text-yellow-400 bg-yellow-900/30 border border-yellow-600/50":"text-green-400 bg-green-900/30 border border-green-600/50"}`,children:"saving"===u?"\uD83D\uDD04 自動保存中...":"✅ 自動保存完了"}),r.jsx("button",{onClick:()=>{if(confirm("\uD83D\uDD04 すべての設定をリセットしますか？\n\n現在の設定：\n・スタック: "+t+"\n・ポジション: "+a+"\n・アクション: "+f.find(e=>e.id===o)?.label+"\n・選択ハンド: "+c.length+"個")){s("75BB"),i("BTN"),d("openraise"),x([]);try{localStorage.removeItem("mtt-trainer-settings"),console.log("\uD83D\uDD04 設定をリセットしました（自動保存により設定クリア）"),b(!1)}catch(e){console.error("❌ 設定のリセットに失敗:",e)}}},className:"px-3 py-1 bg-gray-700 hover:bg-gray-600 text-gray-300 text-sm rounded-lg transition-colors",title:"設定をリセット",children:"\uD83D\uDD04 リセット"})]})]}),(0,r.jsxs)("div",{className:"mb-6",children:[r.jsx("h3",{className:"text-lg font-medium mb-2",children:"エフェクティブスタック"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:v.map(e=>r.jsx("button",{className:`px-3 py-2 rounded-lg ${t===e?"bg-yellow-600":"bg-gray-700"} transition-colors hover:bg-yellow-500`,onClick:()=>s(e),children:e},e))})]}),(0,r.jsxs)("div",{className:"mb-6",children:[r.jsx("h3",{className:"text-lg font-medium mb-2",children:"あなたのポジション"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:j.map(e=>r.jsx("button",{className:`px-3 py-2 rounded-lg ${a===e?"bg-green-600":"bg-gray-700"} transition-colors hover:bg-green-500`,onClick:()=>i(e),children:e},e))})]}),(0,r.jsxs)("div",{className:"mb-6",children:[r.jsx("h3",{className:"text-lg font-medium mb-2",children:"アクションタイプ"}),r.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 gap-2",children:f.map(e=>r.jsx("button",{className:`px-3 py-2 rounded-lg ${o===e.id?"bg-red-600":"bg-gray-700"} transition-colors text-left hover:bg-red-500`,onClick:()=>d(e.id),children:e.label},e.id))})]}),(0,r.jsxs)("div",{className:"mb-8 bg-gray-700 bg-opacity-50 rounded-lg p-5",children:[r.jsx("h3",{className:"text-lg font-medium mb-4",children:"ハンド範囲選択"}),r.jsx("button",{onClick:()=>{m(!0)},className:"w-full py-4 px-6 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 rounded-lg font-bold text-lg transition-colors shadow-lg flex items-center justify-center",children:"ハンドを選択"}),c.length>0?(0,r.jsxs)("div",{className:"mt-4",children:[(0,r.jsxs)("div",{className:"text-sm text-purple-300 mb-2",children:[c.length,"種類のハンドを選択中"]}),r.jsx("div",{className:"bg-gray-800 rounded-lg p-3 max-h-32 overflow-auto border border-gray-700",children:r.jsx("div",{className:"flex flex-wrap gap-2",children:c.map(e=>r.jsx("span",{className:"inline-block px-2 py-1 bg-purple-700 rounded text-xs font-medium",children:e},e))})})]}):r.jsx("div",{className:"mt-3 text-sm text-gray-300 text-center",children:"ハンドを選択しない場合、すべてのハンドからランダムに出題されます"})]}),r.jsx("button",{onClick:()=>{let s=`/trainer/mtt/training?stack=${t}&position=${a}&action=${o}`;c.length>0&&(s+=`&hands=${encodeURIComponent(c.join(","))}`),e.push(s)},className:"w-full py-4 bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 rounded-lg font-bold text-lg transition-colors shadow-lg flex items-center justify-center",children:"トレーニングスタート"})]}),(0,r.jsxs)("div",{className:"bg-gray-800 rounded-xl p-6 shadow-lg mb-8",children:[r.jsx("h2",{className:"text-xl font-semibold mb-3",children:"MTT GTO戦略とは？"}),r.jsx("p",{className:"mb-4 text-gray-300",children:"MTT（マルチテーブルトーナメント）でのGTO戦略はキャッシュゲームとは異なります。 スタックサイズに応じて戦略を変える必要があります。"})]}),r.jsx("div",{className:"bg-gray-800/50 rounded-xl p-4 shadow-lg",children:(0,r.jsxs)("details",{className:"group",children:[r.jsx("summary",{className:"cursor-pointer text-sm font-medium text-gray-400 hover:text-white transition-colors",children:"\uD83D\uDD27 設定詳細 (デバッグ情報)"}),(0,r.jsxs)("div",{className:"mt-3 text-xs space-y-2 text-gray-300 bg-gray-900/50 rounded-lg p-3",children:[(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,r.jsxs)("div",{children:[r.jsx("strong",{children:"スタックサイズ:"})," ",t]}),(0,r.jsxs)("div",{children:[r.jsx("strong",{children:"ポジション:"})," ",a]}),(0,r.jsxs)("div",{children:[r.jsx("strong",{children:"アクションタイプ:"})," ",f.find(e=>e.id===o)?.label," (",o,")"]}),(0,r.jsxs)("div",{children:[r.jsx("strong",{children:"選択ハンド数:"})," ",c.length,"個"]})]}),(0,r.jsxs)("div",{className:"pt-2 border-t border-gray-700",children:[(0,r.jsxs)("div",{children:[r.jsx("strong",{children:"自動保存ステータス:"})," ","saving"===u?"\uD83D\uDD04 保存中":"saved"===u?"✅ 完了":"\uD83D\uDCBE 有効"]}),(0,r.jsxs)("div",{children:[r.jsx("strong",{children:"初期読み込み:"})," ",y?"読み込み中":"✅ 完了"]}),(0,r.jsxs)("div",{children:[r.jsx("strong",{children:"LocalStorage確認:"}),h?"✅ 設定保存済み":"❌ 未保存"]})]}),c.length>0&&(0,r.jsxs)("div",{className:"pt-2 border-t border-gray-700",children:[r.jsx("strong",{children:"選択ハンド:"}),(0,r.jsxs)("div",{className:"mt-1 max-h-20 overflow-y-auto",children:[c.slice(0,20).join(", "),c.length>20&&` ...他${c.length-20}個`]})]})]})]})}),g&&r.jsx(SimpleHandRangeSelector,{onSelectHands:e=>{x(e),m(!1)},initialSelectedHands:c,title:"MTT トレーニング用ハンド範囲選択",onClose:()=>m(!1)})]})})}},3921:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>a,__esModule:()=>l,default:()=>o});var r=s(5153);let n=(0,r.createProxy)(String.raw`/Users/kensuke/Desktop/gtovantage/src/app/trainer/mtt/page.tsx`),{__esModule:l,$$typeof:a}=n,i=n.default,o=i}};var t=require("../../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),s=t.X(0,[669,130,985,943],()=>__webpack_exec__(2954));module.exports=s})();