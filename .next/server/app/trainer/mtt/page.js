(()=>{var e={};e.id=349,e.ids=[349],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},59799:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>l.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>c,routeModule:()=>g,tree:()=>d});var r=s(67096),n=s(16132),a=s(37284),l=s.n(a),o=s(32564),i={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>o[e]);s.d(t,i);let d=["",{children:["trainer",{children:["mtt",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,13921)),"/Users/kensuke/Desktop/gto-vantage/src/app/trainer/mtt/page.tsx"]}]},{}]},{"not-found":[()=>Promise.resolve().then(s.bind(s,79609)),"/Users/kensuke/Desktop/gto-vantage/src/app/trainer/not-found.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,85532)),"/Users/kensuke/Desktop/gto-vantage/src/app/layout.tsx"],error:[()=>Promise.resolve().then(s.bind(s,16097)),"/Users/kensuke/Desktop/gto-vantage/src/app/error.tsx"],loading:[()=>Promise.resolve().then(s.bind(s,68056)),"/Users/kensuke/Desktop/gto-vantage/src/app/loading.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9291,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/kensuke/Desktop/gto-vantage/src/app/trainer/mtt/page.tsx"],x="/trainer/mtt/page",m={require:s,loadChunk:()=>Promise.resolve()},g=new r.AppPageRouteModule({definition:{kind:n.x.APP_PAGE,page:"/trainer/mtt/page",pathname:"/trainer/mtt",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},12577:(e,t,s)=>{Promise.resolve().then(s.bind(s,25349))},25349:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>MTTTrainerPage});var r=s(30784),n=s(9885),a=s(57114);let SimpleHandRangeSelector=({onSelectHands:e,initialSelectedHands:t=[],title:s="ハンドを選択",onClose:a})=>{let[l,o]=(0,n.useState)(t),[i,d]=(0,n.useState)(!1),[c,x]=(0,n.useState)(null),[m,g]=(0,n.useState)("select"),[p,u]=(0,n.useState)([]),[h,b]=(0,n.useState)(!1),v=(()=>{let e=["A","K","Q","J","T","9","8","7","6","5","4","3","2"],t=[];for(let s=0;s<13;s++)for(let r=0;r<13;r++){let n="";n=s===r?e[s]+e[r]:s<r?e[s]+e[r]+"s":e[r]+e[s]+"o",t.push({hand:n,row:s,col:r})}return t})(),getHandsInRange=(e,t)=>{let s=Math.min(e.row,t.row),r=Math.max(e.row,t.row),n=Math.min(e.col,t.col),a=Math.max(e.col,t.col),l=[];for(let e=s;e<=r;e++)for(let t=n;t<=a;t++){let s=v.find(s=>s.row===e&&s.col===t);s&&l.push(s.hand)}return l},handleMouseDown=(e,t,s,r)=>{r.preventDefault(),d(!0),x({row:t,col:s}),u([...l]),b(!1);let n=l.includes(e);g(n?"deselect":"select")},handleMouseEnter=(e,t,s)=>{if(i&&c){b(!0);let e=getHandsInRange(c,{row:t,col:s});o(()=>{if("select"!==m)return p.filter(t=>!e.includes(t));{let t=e.filter(e=>!p.includes(e));return[...p,...t]}})}},handleMouseUp=()=>{d(!1),x(null),u([]),setTimeout(()=>b(!1),10)},handleHandClick=e=>{h||o(t=>{let s=t.includes(e)?t.filter(t=>t!==e):[...t,e];return s})};return r.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50",children:(0,r.jsxs)("div",{className:"bg-gray-900 rounded-xl p-6 max-w-4xl w-full mx-4 max-h-[90vh] overflow-y-auto shadow-2xl border border-gray-700",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[r.jsx("h2",{className:"text-xl font-bold text-white",children:s}),r.jsx("button",{onClick:a,className:"text-gray-400 hover:text-white hover:bg-gray-700 p-2 rounded-lg transition-all duration-200",children:"✕"})]}),r.jsx("div",{className:"mb-4 bg-gray-800 rounded-lg p-3 border border-gray-600",children:(0,r.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[(0,r.jsxs)("p",{className:"text-sm font-semibold text-white",children:["選択されたハンド: ",r.jsx("span",{className:"text-purple-400",children:l.length}),"個"]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[r.jsx("button",{onClick:()=>o(v.map(e=>e.hand)),className:"px-3 py-1 bg-blue-600 hover:bg-blue-700 text-white text-sm rounded-md transition-all duration-200",children:"全選択"}),r.jsx("button",{onClick:()=>o([]),className:"px-3 py-1 bg-gray-600 hover:bg-gray-700 text-white text-sm rounded-md transition-all duration-200",children:"全解除"})]})]})}),r.jsx("div",{className:"mb-4 select-none",style:{display:"grid",gridTemplateColumns:"repeat(13, 1fr)",gap:"4px"},onMouseLeave:()=>handleMouseUp(),children:v.map(({hand:e,row:t,col:s})=>r.jsx("div",{className:`${l.includes(e)?"bg-purple-600 border-purple-500":"bg-gray-800 hover:bg-gray-700 border-gray-600"} text-white text-xs font-bold py-2 px-1 text-center cursor-pointer rounded transition-all duration-200 border-2 hover:shadow-md min-h-[2.5rem] flex items-center justify-center`,onMouseDown:r=>handleMouseDown(e,t,s,r),onMouseEnter:()=>handleMouseEnter(e,t,s),onMouseUp:()=>handleMouseUp(),onClick:()=>handleHandClick(e),title:e,children:e},`${t}-${s}`))}),r.jsx("div",{className:"mb-4",children:(0,r.jsxs)("button",{onClick:()=>{e(l),a()},className:"w-full px-4 py-2 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white font-bold rounded-lg transition-all duration-200 shadow-lg",children:["選択完了 (",l.length,"ハンド)"]})}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-3 text-xs text-white bg-gray-800 rounded-lg p-3 border border-gray-600",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 bg-gray-800 border border-gray-600 rounded"}),r.jsx("span",{children:"未選択"})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-3 h-3 bg-purple-600 border-2 border-purple-500 rounded"}),r.jsx("span",{children:"選択済み"})]})]})]})})};function MTTTrainerPage(){let e=(0,a.useRouter)(),[t,s]=(0,n.useState)("100BB"),[l,o]=(0,n.useState)("BTN"),[i,d]=(0,n.useState)("openraise"),[c,x]=(0,n.useState)([]),[m,g]=(0,n.useState)(!1),saveSettings=(e,s,r,n)=>{let a={stackSize:e||t,position:s||l,actionType:r||i,selectedHands:n||c};try{localStorage.setItem("mtt-trainer-settings",JSON.stringify(a)),console.log("\uD83D\uDD04 MTTトレーナー設定を保存しました:",a)}catch(e){console.error("設定の保存に失敗しました:",e)}},loadSettings=()=>{try{let e=localStorage.getItem("mtt-trainer-settings");if(e){let t=JSON.parse(e);console.log("\uD83D\uDCC2 MTTトレーナー設定を復元しました:",t),t.stackSize&&s(t.stackSize),t.position&&o(t.position),t.actionType&&d(t.actionType),t.selectedHands&&Array.isArray(t.selectedHands)&&x(t.selectedHands)}}catch(e){console.error("設定の復元に失敗しました:",e)}};return(0,n.useEffect)(()=>{loadSettings()},[]),r.jsx("div",{className:"min-h-screen bg-gray-900 text-white p-4 md:p-8",children:(0,r.jsxs)("div",{className:"max-w-4xl mx-auto",children:[r.jsx("h1",{className:"text-3xl font-bold mb-6 text-center",children:"MTT GTO トレーニング"}),r.jsx("p",{className:"text-center text-gray-300 mb-8",children:"トーナメントに特化した意思決定トレーニングで、MTTでの最適な戦略を学びましょう。"}),("100BB"!==t||"BTN"!==l||"openraise"!==i||c.length>0)&&(0,r.jsxs)("div",{className:"bg-blue-900/30 border border-blue-600/50 rounded-lg p-4 mb-6",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-blue-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),r.jsx("span",{className:"text-blue-300 font-medium text-sm",children:"前回の設定を復元しました"})]}),r.jsx("div",{className:"text-xs text-gray-400",children:"設定は自動保存されます。変更すると即座に保存されます。"})]}),(0,r.jsxs)("div",{className:"bg-gray-800 rounded-xl p-6 shadow-lg mb-8",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:"シナリオ設定"}),(0,r.jsxs)("div",{className:"mb-6",children:[r.jsx("h3",{className:"text-lg font-medium mb-2",children:"エフェクティブスタック"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:["100BB","50BB","30BB","20BB","15BB","10BB"].map(e=>r.jsx("button",{className:`px-3 py-2 rounded-lg ${t===e?"bg-yellow-600":"bg-gray-700"} transition-colors hover:bg-yellow-500`,onClick:()=>{s(e),saveSettings(e)},children:e},e))})]}),(0,r.jsxs)("div",{className:"mb-6",children:[r.jsx("h3",{className:"text-lg font-medium mb-2",children:"あなたのポジション"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:["UTG","UTG1","LJ","HJ","CO","BTN","SB","BB"].map(e=>r.jsx("button",{className:`px-3 py-2 rounded-lg ${l===e?"bg-green-600":"bg-gray-700"} transition-colors hover:bg-green-500`,onClick:()=>{o(e),saveSettings(void 0,e)},children:e},e))})]}),(0,r.jsxs)("div",{className:"mb-6",children:[r.jsx("h3",{className:"text-lg font-medium mb-2",children:"アクションタイプ"}),r.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-2 md:grid-cols-3 gap-2",children:[{id:"openraise",label:"オープンレイズ"},{id:"vsopen",label:"vs オープン"},{id:"vs3bet",label:"vs 3ベット"},{id:"vs4bet",label:"vs 4ベット"},{id:"random",label:"ランダム"}].map(e=>r.jsx("button",{className:`px-3 py-2 rounded-lg ${i===e.id?"bg-red-600":"bg-gray-700"} transition-colors text-left hover:bg-red-500`,onClick:()=>{d(e.id),saveSettings(void 0,void 0,e.id)},children:e.label},e.id))})]}),(0,r.jsxs)("div",{className:"mb-8 bg-gray-700 bg-opacity-50 rounded-lg p-5",children:[r.jsx("h3",{className:"text-lg font-medium mb-4",children:"ハンド範囲選択"}),r.jsx("button",{onClick:()=>{g(!0)},className:"w-full py-4 px-6 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 rounded-lg font-bold text-lg transition-colors shadow-lg flex items-center justify-center",children:"ハンドを選択"}),c.length>0?(0,r.jsxs)("div",{className:"mt-4",children:[(0,r.jsxs)("div",{className:"text-sm text-purple-300 mb-2",children:[c.length,"種類のハンドを選択中"]}),r.jsx("div",{className:"bg-gray-800 rounded-lg p-3 max-h-32 overflow-auto border border-gray-700",children:r.jsx("div",{className:"flex flex-wrap gap-2",children:c.map(e=>r.jsx("span",{className:"inline-block px-2 py-1 bg-purple-700 rounded text-xs font-medium",children:e},e))})})]}):r.jsx("div",{className:"mt-3 text-sm text-gray-300 text-center",children:"ハンドを選択しない場合、すべてのハンドからランダムに出題されます"})]}),r.jsx("button",{onClick:()=>{let s=`/trainer/mtt/training?stack=${t}&position=${l}&action=${i}`;c.length>0&&(s+=`&hands=${encodeURIComponent(c.join(","))}`),e.push(s)},className:"w-full py-4 bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 rounded-lg font-bold text-lg transition-colors shadow-lg flex items-center justify-center",children:"トレーニングスタート"})]}),(0,r.jsxs)("div",{className:"bg-gray-800 rounded-xl p-6 shadow-lg",children:[r.jsx("h2",{className:"text-xl font-semibold mb-3",children:"MTT GTO戦略とは？"}),r.jsx("p",{className:"mb-4 text-gray-300",children:"MTT（マルチテーブルトーナメント）でのGTO戦略はキャッシュゲームとは異なります。 スタックサイズに応じて戦略を変える必要があります。"})]}),m&&r.jsx(SimpleHandRangeSelector,{onSelectHands:e=>{x(e),g(!1),saveSettings(void 0,void 0,void 0,e)},initialSelectedHands:c,title:"MTT トレーニング用ハンド範囲選択",onClose:()=>g(!1)})]})})}},13921:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>l,__esModule:()=>a,default:()=>i});var r=s(95153);let n=(0,r.createProxy)(String.raw`/Users/kensuke/Desktop/gto-vantage/src/app/trainer/mtt/page.tsx`),{__esModule:a,$$typeof:l}=n,o=n.default,i=o}};var t=require("../../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),s=t.X(0,[669,665,716,179],()=>__webpack_exec__(59799));module.exports=s})();