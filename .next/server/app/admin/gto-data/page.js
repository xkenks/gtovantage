(()=>{var e={};e.id=46,e.ids=[46],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},4634:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>d,routeModule:()=>u,tree:()=>c}),s(8435),s(8460),s(5866);var r=s(3191),a=s(8716),n=s(7922),i=s.n(n),l=s(5231),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);s.d(t,o);let c=["",{children:["admin",{children:["gto-data",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,8435)),"/Users/kensuke/Desktop/gtovantage/src/app/admin/gto-data/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,8460)),"/Users/kensuke/Desktop/gtovantage/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}],d=["/Users/kensuke/Desktop/gtovantage/src/app/admin/gto-data/page.tsx"],m="/admin/gto-data/page",x={require:s,loadChunk:()=>Promise.resolve()},u=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/admin/gto-data/page",pathname:"/admin/gto-data",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},5405:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,2994,23)),Promise.resolve().then(s.t.bind(s,6114,23)),Promise.resolve().then(s.t.bind(s,9727,23)),Promise.resolve().then(s.t.bind(s,9671,23)),Promise.resolve().then(s.t.bind(s,1868,23)),Promise.resolve().then(s.t.bind(s,4759,23))},4918:(e,t,s)=>{Promise.resolve().then(s.bind(s,4260)),Promise.resolve().then(s.bind(s,5777)),Promise.resolve().then(s.bind(s,1931)),Promise.resolve().then(s.bind(s,4001))},9186:(e,t,s)=>{Promise.resolve().then(s.bind(s,8504))},8504:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i});var r=s(326),a=s(7577),n=s(434);function i(){let[e,t]=(0,a.useState)([]),[s,i]=(0,a.useState)(!1),[l,o]=(0,a.useState)(null),[c,d]=(0,a.useState)(!0),m=async()=>{d(!0);try{let e=await fetch("/api/gto/upload"),s=await e.json();s.files?t(s.files):t([])}catch(e){console.error("GTOデータの取得に失敗しました:",e)}finally{d(!1)}},x=async e=>{e.preventDefault();let t=e.target;if(!t.files||0===t.files.length)return;let s=t.files[0];if(!s.name.endsWith(".csv")&&!s.name.endsWith(".json")){o({success:!1,error:"対応していないファイル形式です。CSVまたはJSONファイルをアップロードしてください。"});return}let r=new FormData;r.append("file",s),i(!0),o(null);try{let e=await fetch("/api/gto/upload",{method:"POST",body:r}),t=await e.json();e.ok?(o({success:!0,message:`${t.filename} を正常にアップロードしました。${t.handCount}個のハンドデータを含みます。`}),m()):o({success:!1,error:t.error||"アップロードに失敗しました。"})}catch(e){o({success:!1,error:"サーバーとの通信に失敗しました。"})}finally{i(!1),t.value=""}};return r.jsx("div",{className:"min-h-screen bg-gray-900 text-white p-4 md:p-8",children:(0,r.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-8",children:[r.jsx("h1",{className:"text-3xl font-bold",children:"GTOデータ管理"}),r.jsx(n.default,{href:"/trainer",className:"text-blue-400 hover:text-blue-300",children:"← トレーナーに戻る"})]}),(0,r.jsxs)("div",{className:"bg-gray-800 rounded-xl p-6 mb-8",children:[r.jsx("h2",{className:"text-xl font-bold mb-4",children:"PioSolverデータのアップロード"}),(0,r.jsxs)("div",{className:"mb-6",children:[r.jsx("p",{className:"text-gray-300 mb-4",children:"PioSolverからエクスポートしたCSVファイルまたはJSONファイルをアップロードしてください。 ファイル名は「ポジション_スタックサイズ_シナリオ.csv」の形式を推奨します（例: BTN_100BB_openraise.csv）。"}),(0,r.jsxs)("div",{className:"flex flex-col md:flex-row items-center gap-4",children:[(0,r.jsxs)("label",{className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg cursor-pointer",children:["ファイルを選択",r.jsx("input",{type:"file",accept:".csv,.json",className:"hidden",onChange:x,disabled:s})]}),s&&(0,r.jsxs)("div",{className:"text-gray-300 flex items-center",children:[(0,r.jsxs)("svg",{className:"animate-spin h-5 w-5 mr-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"アップロード中..."]})]}),l&&r.jsx("div",{className:`mt-4 p-3 rounded-lg ${l.success?"bg-green-800":"bg-red-800"}`,children:l.success?l.message:l.error})]}),(0,r.jsxs)("div",{className:"text-sm text-gray-400",children:[r.jsx("h3",{className:"font-semibold mb-2",children:"対応フォーマット:"}),(0,r.jsxs)("ul",{className:"list-disc pl-5 space-y-1",children:[r.jsx("li",{children:"PioSolverのCSVエクスポート（ハンド毎のアクション頻度とEV）"}),r.jsx("li",{children:"標準的なGTOソルバーのJSONフォーマット"})]})]})]}),(0,r.jsxs)("div",{className:"bg-gray-800 rounded-xl p-6",children:[r.jsx("h2",{className:"text-xl font-bold mb-4",children:"利用可能なGTOデータ"}),c?(0,r.jsxs)("div",{className:"text-center py-8",children:[(0,r.jsxs)("svg",{className:"animate-spin h-8 w-8 mx-auto mb-2",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[r.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),r.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"データを読み込み中..."]}):0===e.length?r.jsx("div",{className:"text-center py-8 text-gray-400",children:"GTOデータがありません。PioSolverのCSVファイルをアップロードしてください。"}):r.jsx("div",{className:"overflow-x-auto",children:(0,r.jsxs)("table",{className:"w-full min-w-full divide-y divide-gray-700",children:[r.jsx("thead",{className:"bg-gray-700",children:(0,r.jsxs)("tr",{children:[r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider",children:"ファイル名"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider",children:"ポジション"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider",children:"スタック"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider",children:"シナリオ"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider",children:"サイズ"}),r.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium uppercase tracking-wider",children:"更新日"})]})}),r.jsx("tbody",{className:"divide-y divide-gray-700",children:e.map((e,t)=>{var s;return(0,r.jsxs)("tr",{className:t%2==0?"bg-gray-800":"bg-gray-750",children:[r.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm",children:e.filename}),r.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm",children:e.position||"-"}),r.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm",children:e.stackSize||"-"}),r.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm",children:e.scenario||"-"}),r.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm",children:(s=e.size)<1024?s+" B":s<1048576?(s/1024).toFixed(1)+" KB":(s/1048576).toFixed(1)+" MB"}),r.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm",children:new Date(e.modified).toLocaleDateString("ja-JP",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"})})]},t)})})]})})]})]})})}},4260:(e,t,s)=>{"use strict";s.d(t,{ChakraWrapper:()=>i});var r=s(326),a=s(3426),n=s(8008);function i({children:e}){let t=(0,a.F)({});return r.jsx(n.x,{value:t,children:e})}},5777:(e,t,s)=>{"use strict";s.d(t,{default:()=>o});var r=s(326),a=s(7577),n=s(434),i=s(5047),l=s(4001);let o=()=>{let{user:e,logout:t}=(0,l.a)(),[s,o]=(0,a.useState)(!1),c=(0,i.usePathname)();return r.jsx("header",{className:"bg-blue-700 text-white p-4 shadow-md",children:(0,r.jsxs)("div",{className:"container mx-auto flex flex-wrap items-center justify-between",children:[r.jsx(n.default,{href:"/",className:"text-xl font-bold",children:"GTO Vantage"}),r.jsx("button",{className:"md:hidden p-2 text-white focus:outline-none",onClick:()=>o(!s),"aria-label":"メニュー",children:s?r.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}):r.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:r.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})}),r.jsx("nav",{className:`w-full md:w-auto md:flex ${s?"block":"hidden"} mt-4 md:mt-0`,children:(0,r.jsxs)("ul",{className:"flex flex-col md:flex-row md:items-center md:space-x-6",children:[r.jsx("li",{children:r.jsx(n.default,{href:"/",className:`block py-2 md:py-0 ${"/"===c?"font-bold":"hover:text-blue-200"}`,children:"ホーム"})}),e&&r.jsx("li",{children:r.jsx(n.default,{href:"/trainer/mtt",className:`block py-2 md:py-0 ${c.startsWith("/trainer")?"font-bold":"hover:text-blue-200"}`,children:"GTOトレーナー"})}),e&&r.jsx("li",{children:r.jsx(n.default,{href:"/subscription",className:`block py-2 md:py-0 ${"/subscription"===c?"font-bold":"hover:text-blue-200"}`,children:"サブスクリプション"})}),e&&r.jsx("li",{children:r.jsx(n.default,{href:"/mypage",className:`block py-2 md:py-0 ${"/mypage"===c?"font-bold":"hover:text-blue-200"}`,children:"マイページ"})}),e?r.jsx("li",{className:"mt-4 md:mt-0 md:ml-6",children:r.jsx("button",{onClick:t,className:"block bg-transparent border border-white text-white px-4 py-1 rounded hover:bg-blue-600",children:"ログアウト"})}):(0,r.jsxs)("li",{className:"mt-4 md:mt-0 md:ml-6 flex flex-col md:flex-row",children:[r.jsx(n.default,{href:"/login",className:"block bg-transparent border border-white text-white px-4 py-1 rounded mb-2 md:mb-0 md:mr-2 text-center hover:bg-blue-600",children:"ログイン"}),r.jsx(n.default,{href:"/register",className:"block bg-white text-blue-700 px-4 py-1 rounded text-center hover:bg-gray-100",children:"新規登録"})]})]})})]})})}},1931:(e,t,s)=>{"use strict";s.d(t,{A:()=>l,AdminProvider:()=>i});var r=s(326),a=s(7577);let n=(0,a.createContext)(void 0);function i({children:e}){let[t,s]=(0,a.useState)(!1),[i,l]=(0,a.useState)(null),[o,c]=(0,a.useState)(null),[d,m]=(0,a.useState)(!0),x=async(e,t)=>{try{let r=await fetch("/api/admin/auth",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:e,password:t})});if(!r.ok)return!1;{let e=await r.json();return s(!0),l(e.user),c(e.token),localStorage.setItem("admin-token",e.token),!0}}catch(e){return console.error("ログインエラー:",e),!1}};return r.jsx(n.Provider,{value:{isAdmin:t,user:i,token:o,login:x,logout:()=>{s(!1),l(null),c(null),localStorage.removeItem("admin-token")},loading:d},children:e})}function l(){let e=(0,a.useContext)(n);if(void 0===e)throw Error("useAdmin must be used within an AdminProvider");return e}},4001:(e,t,s)=>{"use strict";s.d(t,{AuthProvider:()=>o,a:()=>i});var r=s(326),a=s(7577);let n=(0,a.createContext)(void 0),i=()=>{let e=(0,a.useContext)(n);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e},l={id:"dummy",email:"admin@gtovantage.com",name:"Admin",createdAt:new Date().toISOString(),emailVerified:!0,isMasterUser:!0,subscriptionStatus:"master",practiceCount:0},o=({children:e})=>{let[t,s]=(0,a.useState)(!0);(0,a.useEffect)(()=>{},[]);let i=async(e,t,s)=>!0,o=async(e,t)=>(s(!0),!0);return r.jsx(n.Provider,{value:{user:t?l:null,isLoading:!1,register:i,login:o,logout:()=>{s(!1)},isAuthenticated:t,isEmailVerified:t,isMasterUser:t,hasActiveSubscription:t,canPractice:t,practiceCount:0,maxPracticeCount:1/0,incrementPracticeCount:()=>{},canUseStackSize:()=>!0,getAllowedStackSizes:()=>["10BB","15BB","20BB","30BB","40BB","50BB","75BB"]},children:e})}},8435:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(8570).createProxy)(String.raw`/Users/kensuke/Desktop/gtovantage/src/app/admin/gto-data/page.tsx#default`)},8460:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>x,metadata:()=>m});var r=s(9510),a=s(5317),n=s.n(a);s(5023);var i=s(8570);(0,i.createProxy)(String.raw`/Users/kensuke/Desktop/gtovantage/src/contexts/AuthContext.tsx#useAuth`);let l=(0,i.createProxy)(String.raw`/Users/kensuke/Desktop/gtovantage/src/contexts/AuthContext.tsx#AuthProvider`),o=(0,i.createProxy)(String.raw`/Users/kensuke/Desktop/gtovantage/src/components/Header.tsx#default`),c=(0,i.createProxy)(String.raw`/Users/kensuke/Desktop/gtovantage/src/components/ChakraWrapper.tsx#ChakraWrapper`),d=(0,i.createProxy)(String.raw`/Users/kensuke/Desktop/gtovantage/src/contexts/AdminContext.tsx#AdminProvider`);(0,i.createProxy)(String.raw`/Users/kensuke/Desktop/gtovantage/src/contexts/AdminContext.tsx#useAdmin`);let m={title:"GTO Vantage - ポーカーGTOトレーナー | ゲーム理論最適戦略を学ぶ",description:"ポーカーのゲーム理論最適戦略を学び、実践するためのGTOツール。MTT特化トレーニングで、あなたのポーカースキルを次のレベルへ。GTOを知る者が、アドバンテージを得る。",keywords:"ポーカー,GTO,ツール,ゲーム理論,MTT,トーナメント,ポーカートレーニング,ポーカー戦略,ポーカースキル",authors:[{name:"GTO Vantage"}],creator:"GTO Vantage",publisher:"GTO Vantage",formatDetection:{email:!1,address:!1,telephone:!1},metadataBase:new URL("https://gtovantage-n43qu2kms-velmel.vercel.app"),alternates:{canonical:"/"},openGraph:{title:"GTO Vantage - ポーカーGTOトレーナー",description:"ポーカーのゲーム理論最適戦略を学び、実践するためのGTOツール。GTOを知る者が、アドバンテージを得る。",url:"https://gtovantage-n43qu2kms-velmel.vercel.app",siteName:"GTO Vantage",images:[{url:"/og-image.jpg",width:1200,height:630,alt:"GTO Vantage - ポーカーGTOトレーナー"}],locale:"ja_JP",type:"website"},twitter:{card:"summary_large_image",title:"GTO Vantage - ポーカーGTOトレーナー",description:"ポーカーのゲーム理論最適戦略を学び、実践するためのGTOツール。GTOを知る者が、アドバンテージを得る。",images:["/og-image.jpg"]},robots:{index:!0,follow:!0,googleBot:{index:!0,follow:!0,"max-video-preview":-1,"max-image-preview":"large","max-snippet":-1}},verification:{google:"your-google-verification-code"}};function x({children:e}){return r.jsx("html",{lang:"ja",children:r.jsx("body",{className:n().className,children:r.jsx(c,{children:r.jsx(d,{children:r.jsx(l,{children:(0,r.jsxs)("div",{className:"bg-black md:bg-gray-900 text-white",children:[r.jsx(o,{}),e]})})})})})})}},5023:()=>{}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[276,338],()=>s(4634));module.exports=r})();