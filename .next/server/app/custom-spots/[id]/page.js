(()=>{var e={};e.id=500,e.ids=[500],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},3590:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>l.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>c,routeModule:()=>g,tree:()=>o});var r=t(67096),a=t(16132),d=t(37284),l=t.n(d),i=t(32564),n={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>i[e]);t.d(s,n);let o=["",{children:["custom-spots",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,1521)),"/Users/kensuke/Desktop/gto-vantage/src/app/custom-spots/[id]/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,85532)),"/Users/kensuke/Desktop/gto-vantage/src/app/layout.tsx"],error:[()=>Promise.resolve().then(t.bind(t,16097)),"/Users/kensuke/Desktop/gto-vantage/src/app/error.tsx"],loading:[()=>Promise.resolve().then(t.bind(t,68056)),"/Users/kensuke/Desktop/gto-vantage/src/app/loading.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,9291,23)),"next/dist/client/components/not-found-error"]}],c=["/Users/kensuke/Desktop/gto-vantage/src/app/custom-spots/[id]/page.tsx"],x="/custom-spots/[id]/page",m={require:t,loadChunk:()=>Promise.resolve()},g=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/custom-spots/[id]/page",pathname:"/custom-spots/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},21860:(e,s,t)=>{Promise.resolve().then(t.bind(t,97322))},97322:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>SpotDetailPage});var r=t(30784),a=t(9885),d=t(57114),l=t(67240),i=t(40858);let n={s:{color:"text-white",bgColor:"bg-gray-600",border:"border-gray-700",symbol:"♠"},h:{color:"text-white",bgColor:"bg-red-600",border:"border-red-700",symbol:"♥"},c:{color:"text-white",bgColor:"bg-green-600",border:"border-green-700",symbol:"♣"},d:{color:"text-white",bgColor:"bg-blue-600",border:"border-blue-700",symbol:"♦"}},o={A:"A",K:"K",Q:"Q",J:"J",T:"10",9:"9",8:"8",7:"7",6:"6",5:"5",4:"4",3:"3",2:"2"},PokerCard=({card:e,size:s="md",highlight:t=!1})=>{(!e||e.length<2||"??"===e)&&(e="As");let a=e[0].toUpperCase(),d=e[1].toLowerCase(),l=n[d]||{color:"text-white",bgColor:"bg-gray-500",border:"border-gray-600",symbol:"?"},i=o[a]||a,c={sm:{width:"w-[35px]",height:"h-[46px]",fontSize:"text-2xl",symbolSize:"text-5xl",padding:"p-1"},md:{width:"w-[46px]",height:"h-[64px]",fontSize:"text-3xl",symbolSize:"text-6xl",padding:"p-1.5"},lg:{width:"w-[70px]",height:"h-[96px]",fontSize:"text-5xl",symbolSize:"text-8xl",padding:"p-2"}}[s];return(0,r.jsxs)("div",{className:`
        ${c.width}
        ${c.height}
        ${l.bgColor}
        rounded-md
        ${t?"border-yellow-400 border-2":`border ${l.border} border-2`}
        ${t?"shadow-[0_0_10px_rgba(250,204,21,0.8)]":"shadow-md"}
        flex
        items-center
        justify-center
        ${c.padding}
        m-0
        relative
        overflow-hidden
      `,children:[r.jsx("div",{className:"absolute inset-0 flex items-center justify-end opacity-20 z-0",children:r.jsx("span",{className:`${l.color} ${c.symbolSize} transform translate-x-1/2`,children:l.symbol})}),r.jsx("span",{className:`${l.color} ${c.fontSize} font-bold z-10`,children:i})]})},PokerCardList=({cards:e,size:s="md",highlightedCards:t=[]})=>{let a=[...e];return 0===a.length?a=["As","Kd"]:1===a.length&&a.push("Kd"),a=a.slice(0,2),r.jsx("div",{className:"flex items-center gap-0 space-x-0.5",children:a.map((e,a)=>r.jsx(PokerCard,{card:e,size:s,highlight:t.includes(e)},a))})};function SpotDetailPage({params:e}){let s=(0,d.useRouter)(),{user:t,loading:n}=(0,l.useAuth)(),[o,c]=(0,a.useState)(null),[x,m]=(0,a.useState)(!0),[g,h]=(0,a.useState)(null),[u,p]=(0,a.useState)("details"),[b,y]=(0,a.useState)(null);(0,a.useEffect)(()=>{if(!n&&!t){s.push("/auth");return}!n&&t&&e.id&&loadSpot()},[n,t,e.id,s]);let loadSpot=async()=>{m(!0),h(null);try{let s={id:e.id,name:"BTN vs BB 3-Bet Pot",position:"BTN",action:"Call 3-bet",stack:100,pot:21.5,customParameters:[{name:"相手ポジション",value:"BB"},{name:"3ベットサイズ",value:"10BB"},{name:"フロップ",value:"A♠ K♦ 2♣"}],notes:"BBからの3ベットに対してBTNがコールした場合の戦略。Aハイフロップでのプレイに注意が必要。",created:new Date(2023,3,10).toISOString(),updated:new Date(2023,3,15).toISOString(),board:["As","Kd","2c"],ranges:{"BTN Call Range":["AKs","AQs","AJs","ATs","A9s","A8s","A5s","A4s","A3s","A2s","KQs","KJs","KTs","QJs","QTs","JTs","T9s","98s","87s","76s","65s","54s","AKo","AQo","KQo"],"BB 3-Bet Range":["AKs","AQs","AJs","ATs","KQs","KJs","QJs","JTs","AKo","AQo","AJo","KQo"],"BTN Check Range":["A9s","A8s","A7s","A6s","A5s","A4s","A3s","A2s","K9s","K8s","K7s","KQo","KJo","QJo"],"BTN Bet Range":["AKs","AQs","AJs","ATs","KQs","KJs","KTs","AKo","AQo","AJo","ATo"]}};c(s)}catch(e){console.error("Error loading spot:",e),h("スポットの読み込み中にエラーが発生しました")}finally{m(!1)}},handleDelete=async()=>{if(confirm("このスポットを削除してもよろしいですか？"))try{s.push("/custom-spots/saved")}catch(e){console.error("Error deleting spot:",e),alert("スポットの削除中にエラーが発生しました")}},formatDate=e=>{let s=new Date(e);return s.toLocaleDateString("ja-JP",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})};return n||x?r.jsx("div",{className:"min-h-screen flex justify-center items-center",children:(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500 mx-auto"}),r.jsx("p",{className:"mt-4 text-gray-700 dark:text-gray-300",children:"読み込み中..."})]})}):g||!o?r.jsx("div",{className:"min-h-screen flex justify-center items-center",children:(0,r.jsxs)("div",{className:"text-center",children:[r.jsx("p",{className:"text-red-600 dark:text-red-400",children:g||"スポットの読み込みに失敗しました"}),r.jsx("button",{onClick:()=>s.push("/custom-spots/saved"),className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"スポット一覧に戻る"})]})}):r.jsx("div",{className:"min-h-screen bg-gray-100 dark:bg-gray-900 py-8 px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"max-w-5xl mx-auto",children:[(0,r.jsxs)("div",{className:"mb-6 flex justify-between items-center",children:[(0,r.jsxs)("button",{onClick:()=>s.push("/custom-spots/saved"),className:"flex items-center text-blue-600 dark:text-blue-400 hover:underline",children:[r.jsx(i.bUI,{className:"mr-1"})," スポット一覧に戻る"]}),(0,r.jsxs)("div",{className:"flex space-x-3",children:[(0,r.jsxs)("button",{onClick:()=>s.push(`/custom-spots/edit/${o.id}`),className:"flex items-center px-3 py-1.5 bg-blue-600 text-white rounded hover:bg-blue-700",children:[r.jsx(i.fmQ,{className:"mr-1"})," 編集"]}),(0,r.jsxs)("button",{onClick:handleDelete,className:"flex items-center px-3 py-1.5 bg-red-600 text-white rounded hover:bg-red-700",children:[r.jsx(i.Xm5,{className:"mr-1"})," 削除"]}),(0,r.jsxs)("button",{onClick:()=>s.push(`/trainer?spot=${o.id}`),className:"flex items-center px-3 py-1.5 bg-green-600 text-white rounded hover:bg-green-700",children:[r.jsx(i.gmG,{className:"mr-1"})," トレーニング"]})]})]}),(0,r.jsxs)("div",{className:"bg-white dark:bg-gray-800 rounded-lg shadow-md overflow-hidden",children:[(0,r.jsxs)("div",{className:"bg-blue-600 p-4 text-white",children:[r.jsx("h1",{className:"text-xl font-semibold",children:o.name}),(0,r.jsxs)("p",{className:"text-sm text-blue-100 mt-1",children:["作成日: ",formatDate(o.created),o.updated&&` (更新日: ${formatDate(o.updated)})`]})]}),r.jsx("div",{className:"border-b border-gray-200 dark:border-gray-700",children:(0,r.jsxs)("div",{className:"flex",children:[r.jsx("button",{onClick:()=>p("details"),className:`py-3 px-6 ${"details"===u?"border-b-2 border-blue-600 text-blue-600 dark:text-blue-400 font-medium":"text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400"}`,children:"詳細情報"}),r.jsx("button",{onClick:()=>p("ranges"),className:`py-3 px-6 ${"ranges"===u?"border-b-2 border-blue-600 text-blue-600 dark:text-blue-400 font-medium":"text-gray-700 dark:text-gray-300 hover:text-blue-600 dark:hover:text-blue-400"}`,children:"レンジ分析"})]})}),"details"===u&&(0,r.jsxs)("div",{className:"p-6",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{children:[r.jsx("h2",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"基本情報"}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"ポジション:"}),r.jsx("span",{className:"text-gray-900 dark:text-white font-medium",children:o.position})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"アクション:"}),r.jsx("span",{className:"text-gray-900 dark:text-white font-medium",children:o.action})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"スタック:"}),(0,r.jsxs)("span",{className:"text-gray-900 dark:text-white font-medium",children:[o.stack," BB"]})]}),(0,r.jsxs)("div",{className:"flex justify-between",children:[r.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"ポットサイズ:"}),(0,r.jsxs)("span",{className:"text-gray-900 dark:text-white font-medium",children:[o.pot," BB"]})]})]}),o.board&&o.board.length>0&&(0,r.jsxs)("div",{className:"mt-6",children:[r.jsx("h3",{className:"text-md font-medium text-gray-900 dark:text-white mb-2",children:"ボード"}),r.jsx("div",{className:"flex justify-center",children:r.jsx(PokerCardList,{cards:o.board,size:"md"})})]})]}),(0,r.jsxs)("div",{children:[r.jsx("h2",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:"カスタムパラメータ"}),o.customParameters.length>0?r.jsx("div",{className:"space-y-3",children:o.customParameters.map((e,s)=>(0,r.jsxs)("div",{className:"flex justify-between",children:[(0,r.jsxs)("span",{className:"text-gray-600 dark:text-gray-400",children:[e.name,":"]}),r.jsx("span",{className:"text-gray-900 dark:text-white font-medium",children:e.value})]},s))}):r.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"カスタムパラメータはありません。"})]})]}),o.notes&&(0,r.jsxs)("div",{className:"mt-8",children:[r.jsx("h2",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"メモ"}),r.jsx("div",{className:"bg-gray-50 dark:bg-gray-900 p-4 rounded-md",children:r.jsx("p",{className:"text-gray-800 dark:text-gray-200 whitespace-pre-line",children:o.notes})})]})]}),"ranges"===u&&r.jsx("div",{className:"p-6",children:o.ranges&&Object.keys(o.ranges).length>0?(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"mb-6",children:[r.jsx("h2",{className:"text-lg font-medium text-gray-900 dark:text-white mb-2",children:"レンジ選択"}),r.jsx("div",{className:"flex flex-wrap gap-2",children:Object.keys(o.ranges).map(e=>r.jsx("button",{onClick:()=>y(e),className:`px-3 py-1.5 rounded-full text-sm ${b===e?"bg-blue-600 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200 hover:bg-gray-300 dark:hover:bg-gray-600"}`,children:e},e))})]}),b&&(0,r.jsxs)("div",{children:[r.jsx("h2",{className:"text-lg font-medium text-gray-900 dark:text-white mb-4",children:b}),(0,r.jsxs)("p",{className:"text-gray-700 dark:text-gray-300 mb-2",children:["ハンド数: ",o.ranges[b].length," (",(o.ranges[b].length/169*100).toFixed(1),"%)"]}),r.jsx("div",{className:"overflow-x-auto",children:(e=>{let s=["A","K","Q","J","T","9","8","7","6","5","4","3","2"],t=s.map(t=>s.map(r=>{let a=t===r,d=!a&&s.indexOf(t)<s.indexOf(r),l=a?`${t}${r}`:d?`${t}${r}s`:`${r}${t}o`,i=e.includes(l);return{hand:l,isInRange:i,type:a?"pair":d?"suited":"offsuit"}}));return(0,r.jsxs)("div",{className:"grid grid-cols-13 gap-1 mt-4",children:[s.map((e,s)=>r.jsx("div",{className:"h-8 flex items-center justify-center text-xs font-medium text-gray-700 dark:text-gray-300",children:e},`header-${s}`)),t.map((e,t)=>(0,r.jsxs)(r.Fragment,{children:[r.jsx("div",{className:"h-8 flex items-center justify-center text-xs font-medium text-gray-700 dark:text-gray-300",children:s[t]},`row-header-${t}`),e.map((e,s)=>r.jsx("div",{className:`h-8 w-8 flex items-center justify-center text-xs font-bold rounded ${e.isInRange?"pair"===e.type?"bg-red-500 text-white":"suited"===e.type?"bg-blue-500 text-white":"bg-green-500 text-white":"bg-gray-200 dark:bg-gray-700 text-gray-500 dark:text-gray-400"}`,children:e.hand.replace("s","").replace("o","")},`cell-${t}-${s}`))]}))]})})(o.ranges[b])}),(0,r.jsxs)("div",{className:"mt-4 grid grid-cols-3 gap-2",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-4 h-4 mr-2 bg-red-500 rounded"}),r.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"ペア"})]}),(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-4 h-4 mr-2 bg-blue-500 rounded"}),r.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"スーテッド"})]}),(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("div",{className:"w-4 h-4 mr-2 bg-green-500 rounded"}),r.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"オフスート"})]})]})]})]}):(0,r.jsxs)("div",{className:"text-center py-10",children:[r.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"このスポットにはレンジ情報がありません。"}),r.jsx("button",{onClick:()=>s.push(`/custom-spots/edit/${o.id}`),className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:"編集してレンジを追加"})]})})]})]})})}},1521:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>l,__esModule:()=>d,default:()=>n});var r=t(95153);let a=(0,r.createProxy)(String.raw`/Users/kensuke/Desktop/gto-vantage/src/app/custom-spots/[id]/page.tsx`),{__esModule:d,$$typeof:l}=a,i=a.default,n=i}};var s=require("../../../webpack-runtime.js");s.C(e);var __webpack_exec__=e=>s(s.s=e),t=s.X(0,[669,665,858,716],()=>__webpack_exec__(3590));module.exports=t})();